(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function y0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wd={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function iA(){if(_v)return kl;_v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var vv;function rA(){return vv||(vv=1,Wd.exports=iA()),Wd.exports}var Y=rA(),Zd={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function sA(){if(Ev)return we;Ev=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function q(O,Z,ne){this.props=O,this.context=Z,this.refs=z,this.updater=ne||V}q.prototype.isReactComponent={},q.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=q.prototype;function ie(O,Z,ne){this.props=O,this.context=Z,this.refs=z,this.updater=ne||V}var te=ie.prototype=new $;te.constructor=ie,U(te,q.prototype),te.isPureReactComponent=!0;var ue=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function N(O,Z,ne,se,ge,Ae){return ne=Ae.ref,{$$typeof:r,type:O,key:Z,ref:ne!==void 0?ne:null,props:Ae}}function w(O,Z){return N(O.type,Z,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return Z[ne]})}var D=/\/+/g;function k(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):Z.toString(36)}function I(){}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ye(O,Z,ne,se,ge){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var ve=!1;if(O===null)ve=!0;else switch(Ae){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(O.$$typeof){case r:case e:ve=!0;break;case E:return ve=O._init,ye(ve(O._payload),Z,ne,se,ge)}}if(ve)return ge=ge(O),ve=se===""?"."+k(O,0):se,ue(ge)?(ne="",ve!=null&&(ne=ve.replace(D,"$&/")+"/"),ye(ge,Z,ne,"",function(An){return An})):ge!=null&&(C(ge)&&(ge=w(ge,ne+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(D,"$&/")+"/")+ve)),Z.push(ge)),1;ve=0;var it=se===""?".":se+":";if(ue(O))for(var He=0;He<O.length;He++)se=O[He],Ae=it+k(se,He),ve+=ye(se,Z,ne,Ae,ge);else if(He=R(O),typeof He=="function")for(O=He.call(O),He=0;!(se=O.next()).done;)se=se.value,Ae=it+k(se,He++),ve+=ye(se,Z,ne,Ae,ge);else if(Ae==="object"){if(typeof O.then=="function")return ye(Ce(O),Z,ne,se,ge);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ve}function K(O,Z,ne){if(O==null)return O;var se=[],ge=0;return ye(O,se,"","",function(Ae){return Z.call(ne,Ae,ge++)}),se}function ae(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Oe(){}return we.Children={map:K,forEach:function(O,Z,ne){K(O,function(){Z.apply(this,arguments)},ne)},count:function(O){var Z=0;return K(O,function(){Z++}),Z},toArray:function(O){return K(O,function(Z){return Z})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},we.Component=q,we.Fragment=n,we.Profiler=o,we.PureComponent=ie,we.StrictMode=s,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return le.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cloneElement=function(O,Z,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=U({},O.props),ge=O.key,Ae=void 0;if(Z!=null)for(ve in Z.ref!==void 0&&(Ae=void 0),Z.key!==void 0&&(ge=""+Z.key),Z)!he.call(Z,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Z.ref===void 0||(se[ve]=Z[ve]);var ve=arguments.length-2;if(ve===1)se.children=ne;else if(1<ve){for(var it=Array(ve),He=0;He<ve;He++)it[He]=arguments[He+2];se.children=it}return N(O.type,ge,void 0,void 0,Ae,se)},we.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},we.createElement=function(O,Z,ne){var se,ge={},Ae=null;if(Z!=null)for(se in Z.key!==void 0&&(Ae=""+Z.key),Z)he.call(Z,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=Z[se]);var ve=arguments.length-2;if(ve===1)ge.children=ne;else if(1<ve){for(var it=Array(ve),He=0;He<ve;He++)it[He]=arguments[He+2];ge.children=it}if(O&&O.defaultProps)for(se in ve=O.defaultProps,ve)ge[se]===void 0&&(ge[se]=ve[se]);return N(O,Ae,void 0,void 0,null,ge)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:m,render:O}},we.isValidElement=C,we.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ae}},we.memo=function(O,Z){return{$$typeof:g,type:O,compare:Z===void 0?null:Z}},we.startTransition=function(O){var Z=le.T,ne={};le.T=ne;try{var se=O(),ge=le.S;ge!==null&&ge(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Oe,de)}catch(Ae){de(Ae)}finally{le.T=Z}},we.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},we.use=function(O){return le.H.use(O)},we.useActionState=function(O,Z,ne){return le.H.useActionState(O,Z,ne)},we.useCallback=function(O,Z){return le.H.useCallback(O,Z)},we.useContext=function(O){return le.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,Z){return le.H.useDeferredValue(O,Z)},we.useEffect=function(O,Z,ne){var se=le.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,Z)},we.useId=function(){return le.H.useId()},we.useImperativeHandle=function(O,Z,ne){return le.H.useImperativeHandle(O,Z,ne)},we.useInsertionEffect=function(O,Z){return le.H.useInsertionEffect(O,Z)},we.useLayoutEffect=function(O,Z){return le.H.useLayoutEffect(O,Z)},we.useMemo=function(O,Z){return le.H.useMemo(O,Z)},we.useOptimistic=function(O,Z){return le.H.useOptimistic(O,Z)},we.useReducer=function(O,Z,ne){return le.H.useReducer(O,Z,ne)},we.useRef=function(O){return le.H.useRef(O)},we.useState=function(O){return le.H.useState(O)},we.useSyncExternalStore=function(O,Z,ne){return le.H.useSyncExternalStore(O,Z,ne)},we.useTransition=function(){return le.H.useTransition()},we.version="19.1.0",we}var Tv;function ep(){return Tv||(Tv=1,Zd.exports=sA()),Zd.exports}var S=ep();const aA=y0(S);var Jd={exports:{}},Ul={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function oA(){return bv||(bv=1,function(r){function e(K,ae){var de=K.length;K.push(ae);e:for(;0<de;){var Oe=de-1>>>1,O=K[Oe];if(0<o(O,ae))K[Oe]=ae,K[de]=O,de=Oe;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ae=K[0],de=K.pop();if(de!==ae){K[0]=de;e:for(var Oe=0,O=K.length,Z=O>>>1;Oe<Z;){var ne=2*(Oe+1)-1,se=K[ne],ge=ne+1,Ae=K[ge];if(0>o(se,de))ge<O&&0>o(Ae,se)?(K[Oe]=Ae,K[ge]=de,Oe=ge):(K[Oe]=se,K[ne]=de,Oe=ne);else if(ge<O&&0>o(Ae,de))K[Oe]=Ae,K[ge]=de,Oe=ge;else break e}}return ae}function o(K,ae){var de=K.sortIndex-ae.sortIndex;return de!==0?de:K.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],E=1,A=null,R=3,V=!1,U=!1,z=!1,q=!1,$=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ue(K){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=K)s(g),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(g)}}function le(K){if(z=!1,ue(K),!U)if(n(y)!==null)U=!0,he||(he=!0,k());else{var ae=n(g);ae!==null&&ye(le,ae.startTime-K)}}var he=!1,N=-1,w=5,C=-1;function M(){return q?!0:!(r.unstable_now()-C<w)}function D(){if(q=!1,he){var K=r.unstable_now();C=K;var ae=!0;try{e:{U=!1,z&&(z=!1,ie(N),N=-1),V=!0;var de=R;try{t:{for(ue(K),A=n(y);A!==null&&!(A.expirationTime>K&&M());){var Oe=A.callback;if(typeof Oe=="function"){A.callback=null,R=A.priorityLevel;var O=Oe(A.expirationTime<=K);if(K=r.unstable_now(),typeof O=="function"){A.callback=O,ue(K),ae=!0;break t}A===n(y)&&s(y),ue(K)}else s(y);A=n(y)}if(A!==null)ae=!0;else{var Z=n(g);Z!==null&&ye(le,Z.startTime-K),ae=!1}}break e}finally{A=null,R=de,V=!1}ae=void 0}}finally{ae?k():he=!1}}}var k;if(typeof te=="function")k=function(){te(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ce=I.port2;I.port1.onmessage=D,k=function(){Ce.postMessage(null)}}else k=function(){$(D,0)};function ye(K,ae){N=$(function(){K(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(K){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var de=R;R=ae;try{return K()}finally{R=de}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var de=R;R=K;try{return ae()}finally{R=de}},r.unstable_scheduleCallback=function(K,ae,de){var Oe=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Oe+de:Oe):de=Oe,K){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,K={id:E++,callback:ae,priorityLevel:K,startTime:de,expirationTime:O,sortIndex:-1},de>Oe?(K.sortIndex=de,e(g,K),n(y)===null&&K===n(g)&&(z?(ie(N),N=-1):z=!0,ye(le,de-Oe))):(K.sortIndex=O,e(y,K),U||V||(U=!0,he||(he=!0,k()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var ae=R;return function(){var de=R;R=ae;try{return K.apply(this,arguments)}finally{R=de}}}}(tm)),tm}var Sv;function lA(){return Sv||(Sv=1,em.exports=oA()),em.exports}var nm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function uA(){if(Av)return nn;Av=1;var r=ep();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,E)},nn.flushSync=function(y){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=E,s.d.f()}},nn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},nn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},nn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:V}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:R,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},nn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},nn.requestFormReset=function(y){s.d.r(y)},nn.unstable_batchedUpdates=function(y,g){return y(g)},nn.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var wv;function _0(){if(wv)return nm.exports;wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=uA(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function cA(){if(Rv)return Ul;Rv=1;var r=lA(),e=ep(),n=_0();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case q:return"Profiler";case z:return"StrictMode";case le:return"Suspense";case he:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case te:return(t.displayName||"Context")+".Provider";case ie:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Ce(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Ce(t(i))}catch{}}return null}var ye=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Oe=[],O=-1;function Z(t){return{current:t}}function ne(t){0>O||(t.current=Oe[O],Oe[O]=null,O--)}function se(t,i){O++,Oe[O]=t.current,t.current=i}var ge=Z(null),Ae=Z(null),ve=Z(null),it=Z(null);function He(t,i){switch(se(ve,i),se(Ae,t),se(ge,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?$_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=$_(i),t=K_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(ge),se(ge,t)}function An(){ne(ge),ne(Ae),ne(ve)}function kn(t){t.memoizedState!==null&&se(it,t);var i=ge.current,a=K_(i,t.type);i!==a&&(se(Ae,t),se(ge,a))}function Yn(t){Ae.current===t&&(ne(ge),ne(Ae)),it.current===t&&(ne(it),Nl._currentValue=de)}var ci=Object.prototype.hasOwnProperty,Li=r.unstable_scheduleCallback,Bi=r.unstable_cancelCallback,Xn=r.unstable_shouldYield,gs=r.unstable_requestPaint,yn=r.unstable_now,ga=r.unstable_getCurrentPriorityLevel,Ar=r.unstable_ImmediatePriority,wr=r.unstable_UserBlockingPriority,ce=r.unstable_NormalPriority,Ye=r.unstable_LowPriority,ht=r.unstable_IdlePriority,en=r.log,Ht=r.unstable_setDisableYieldValue,Xe=null,ke=null;function Mt(t){if(typeof en=="function"&&Ht(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Xe,t)}catch{}}var Et=Math.clz32?Math.clz32:wn,cn=Math.log,ys=Math.LN2;function wn(t){return t>>>=0,t===0?32:31-(cn(t)/ys|0)|0}var hi=256,Qn=4194304;function Wn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ya(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Wn(l):(v&=T,v!==0?h=Wn(v):a||(a=T&~t,a!==0&&(h=Wn(a))))):(T=l&~d,T!==0?h=Wn(T):v!==0?h=Wn(v):a||(a=l&~t,a!==0&&(h=Wn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function _s(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function No(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var t=hi;return hi<<=1,(hi&4194048)===0&&(hi=256),t}function Do(){var t=Qn;return Qn<<=1,(Qn&62914560)===0&&(Qn=4194304),t}function zi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ji(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Et(a),J=1<<Q;T[Q]=0,x[Q]=-1;var F=H[Q];if(F!==null)for(H[Q]=null,Q=0;Q<F.length;Q++){var G=F[Q];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&fi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function fi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Et(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Po(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Et(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _a(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:fv(t.type))}function bu(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var rt=Math.random().toString(36).slice(2),It="__reactFiber$"+rt,Tt="__reactProps$"+rt,Un="__reactContainer$"+rt,ko="__reactEvents$"+rt,Jh="__reactListeners$"+rt,Ir="__reactHandles$"+rt,Su="__reactResources$"+rt,vs="__reactMarker$"+rt;function xr(t){delete t[It],delete t[Tt],delete t[ko],delete t[Jh],delete t[Ir]}function Hi(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Un]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=W_(t);t!==null;){if(a=t[It])return a;t=W_(t)}return i}t=a,a=t.parentNode}return null}function di(t){if(t=t[It]||t[Un]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function mi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function hn(t){var i=t[Su];return i||(i=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function yt(t){t[vs]=!0}var Uo=new Set,va={};function Zn(t,i){qi(t,i),qi(t+"Capture",i)}function qi(t,i){for(va[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var Au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},Es={};function Ru(t){return ci.call(Es,t)?!0:ci.call(wu,t)?!1:Au.test(t)?Es[t]=!0:(wu[t]=!0,!1)}function Nr(t,i,a){if(Ru(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pi(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function qt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ts,Cu;function Fi(t){if(Ts===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ts=i&&i[1]||"",Cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+t+Cu}var Ea=!1;function Ta(t,i){if(!t||Ea)return"";Ea=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var F=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){F=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){F=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var x=v.split(`
`),H=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===H.length)for(l=x.length-1,h=H.length-1;1<=l&&0<=h&&x[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==H[h]){var Q=`
`+x[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Ea=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Fi(a):""}function Vo(t){switch(t.tag){case 26:case 27:case 5:return Fi(t.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return Ta(t.type,!1);case 11:return Ta(t.type.render,!1);case 1:return Ta(t.type,!0);case 31:return Fi("Activity");default:return""}}function ba(t){try{var i="";do i+=Vo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ef(t){var i=Lo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Sa(t){t._valueTracker||(t._valueTracker=ef(t))}function Bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Lo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tf=/[\n"\\]/g;function bt(t){return t.replace(tf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Rn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+fn(i)):t.value!==""+fn(i)&&(t.value=""+fn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Or(t,v,fn(i)):a!=null?Or(t,v,fn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+fn(T):t.removeAttribute("name")}function Ss(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+fn(a):"",i=i!=null?""+fn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Or(t,i,a){i==="number"&&bs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Gi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+fn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+fn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+fn(a):""}function As(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=fn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Vn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ws=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Iu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ws.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Iu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Iu(t,d,i[d])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return rf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var $i=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Yi=null;function Ho(t){var i=di(t);if(i&&(t=i.stateNode)){var a=t[Tt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Rn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Tt]||null;if(!h)throw Error(s(90));Rn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Bo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Gi(t,!!a.multiple,i,!1)}}}var gi=!1;function xu(t,i,a){if(gi)return t(i,a);gi=!0;try{var l=t(i);return l}finally{if(gi=!1,(Ki!==null||Yi!==null)&&(bc(),Ki&&(i=Ki,t=Yi,Yi=Ki=null,Ho(i),t)))for(i=0;i<t.length;i++)Ho(t[i])}}function Rs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(Jn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Bn=!1}var yi=null,Dr=null,Xi=null;function qo(){if(Xi)return Xi;var t,i=Dr,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Xi=h.slice(t,1<l?1-l:void 0)}function _i(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function vi(){return!0}function Fo(){return!1}function Pt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?vi:Fo,this.isPropagationStopped=Fo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Pt(qe),Is=E({},qe,{view:0,detail:0}),Nu=Pt(Is),Ra,Ca,Ei,xs=E({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Ra=t.screenX-Ei.screenX,Ca=t.screenY-Ei.screenY):Ca=Ra=0,Ei=t),Ra)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),zn=Pt(xs),Ou=E({},xs,{dataTransfer:0}),sf=Pt(Ou),Ns=E({},Is,{relatedTarget:0}),Ia=Pt(Ns),Go=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=Pt(Go),Du=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=Pt(Du),af=E({},qe,{data:0}),$o=Pt(af),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Pu[t])?!!i[t]:!1}function Ds(){return Ko}var ku=E({},Is,{key:function(t){if(t.key){var i=Os[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?_i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=Pt(ku),Uu=E({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=Pt(Uu),Qi=E({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Vu=Pt(Qi),Lu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=Pt(Lu),zu=E({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=Pt(zu),dn=E({},qe,{newState:0,oldState:0}),ju=Pt(dn),Hu=[9,13,27,32],Ti=Jn&&"CompositionEvent"in window,c=null;Jn&&"documentMode"in document&&(c=document.documentMode);var p=Jn&&"TextEvent"in window&&!c,_=Jn&&(!Ti||c&&8<c&&11>=c),b=" ",B=!1;function X(t,i){switch(t){case"keyup":return Hu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function xt(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(B=!0,b);case"textInput":return t=i.data,t===b&&B?null:t;default:return null}}function Ve(t,i){if(Ue)return t==="compositionend"||!Ti&&X(t,i)?(t=qo(),Xi=Dr=yi=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function Wi(t,i,a,l){Ki?Yi?Yi.push(l):Yi=[l]:Ki=l,i=Ic(i,"onChange"),0<i.length&&(a=new wa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ft=null,bi=null;function Xo(t){j_(t,0)}function qu(t){var i=mi(t);if(Bo(i))return t}function lg(t,i){if(t==="change")return i}var ug=!1;if(Jn){var of;if(Jn){var lf="oninput"in document;if(!lf){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),lf=typeof cg.oninput=="function"}of=lf}else of=!1;ug=of&&(!document.documentMode||9<document.documentMode)}function hg(){Ft&&(Ft.detachEvent("onpropertychange",fg),bi=Ft=null)}function fg(t){if(t.propertyName==="value"&&qu(bi)){var i=[];Wi(i,bi,t,Ln(t)),xu(Xo,i)}}function M1(t,i,a){t==="focusin"?(hg(),Ft=i,bi=a,Ft.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function P1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(bi)}function k1(t,i){if(t==="click")return qu(i)}function U1(t,i){if(t==="input"||t==="change")return qu(i)}function V1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Cn=typeof Object.is=="function"?Object.is:V1;function Qo(t,i){if(Cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ci.call(i,h)||!Cn(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bs(t.document)}return i}function uf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var L1=Jn&&"documentMode"in document&&11>=document.documentMode,Ma=null,cf=null,Wo=null,hf=!1;function yg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hf||Ma==null||Ma!==bs(l)||(l=Ma,"selectionStart"in l&&uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Qo(Wo,l)||(Wo=l,l=Ic(cf,"onSelect"),0<l.length&&(i=new wa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ma)))}function Ms(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Pa={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},ff={},_g={};Jn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Ps(t){if(ff[t])return ff[t];if(!Pa[t])return t;var i=Pa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in _g)return ff[t]=i[a];return t}var vg=Ps("animationend"),Eg=Ps("animationiteration"),Tg=Ps("animationstart"),B1=Ps("transitionrun"),z1=Ps("transitionstart"),j1=Ps("transitioncancel"),bg=Ps("transitionend"),Sg=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function ei(t,i){Sg.set(t,i),Zn(i,[t])}var Ag=new WeakMap;function jn(t,i){if(typeof t=="object"&&t!==null){var a=Ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ba(i)},Ag.set(t,i),i)}return{value:t,source:i,stack:ba(i)}}var Hn=[],ka=0,mf=0;function Fu(){for(var t=ka,i=mf=ka=0;i<t;){var a=Hn[i];Hn[i++]=null;var l=Hn[i];Hn[i++]=null;var h=Hn[i];Hn[i++]=null;var d=Hn[i];if(Hn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&wg(a,h,d)}}function Gu(t,i,a,l){Hn[ka++]=t,Hn[ka++]=i,Hn[ka++]=a,Hn[ka++]=l,mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function pf(t,i,a,l){return Gu(t,i,a,l),$u(t)}function Ua(t,i){return Gu(t,null,null,i),$u(t)}function wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Et(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function $u(t){if(50<bl)throw bl=0,Td=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Va={};function H1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,i,a,l){return new H1(t,i,a,l)}function gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,i){var a=t.alternate;return a===null?(a=In(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Rg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ku(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")gf(t)&&(v=1);else if(typeof t=="string")v=FS(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=In(31,a,i,h),t.elementType=C,t.lanes=d,t;case U:return ks(a.children,h,d,i);case z:v=8,h|=24;break;case q:return t=In(12,a,i,h|2),t.elementType=q,t.lanes=d,t;case le:return t=In(13,a,i,h),t.elementType=le,t.lanes=d,t;case he:return t=In(19,a,i,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case te:v=10;break e;case ie:v=9;break e;case ue:v=11;break e;case N:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=In(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ks(t,i,a,l){return t=In(7,t,l,i),t.lanes=a,t}function yf(t,i,a){return t=In(6,t,null,i),t.lanes=a,t}function _f(t,i,a){return i=In(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var La=[],Ba=0,Yu=null,Xu=0,qn=[],Fn=0,Us=null,Ji=1,er="";function Vs(t,i){La[Ba++]=Xu,La[Ba++]=Yu,Yu=t,Xu=i}function Cg(t,i,a){qn[Fn++]=Ji,qn[Fn++]=er,qn[Fn++]=Us,Us=t;var l=Ji;t=er;var h=32-Et(l)-1;l&=~(1<<h),a+=1;var d=32-Et(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ji=1<<32-Et(i)+h|a<<h|l,er=d+t}else Ji=1<<d|a<<h|l,er=t}function vf(t){t.return!==null&&(Vs(t,1),Cg(t,1,0))}function Ef(t){for(;t===Yu;)Yu=La[--Ba],La[Ba]=null,Xu=La[--Ba],La[Ba]=null;for(;t===Us;)Us=qn[--Fn],qn[Fn]=null,er=qn[--Fn],qn[Fn]=null,Ji=qn[--Fn],qn[Fn]=null}var mn=null,ft=null,je=!1,Ls=null,Si=!1,Tf=Error(s(519));function Bs(t){var i=Error(s(418,""));throw el(jn(i,t)),Tf}function Ig(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Tt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Me(Al[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Ss(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Sa(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),As(i,l.value,l.defaultValue,l.children),Sa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||G_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=xc),i=!0):i=!1,i||Bs(t)}function xg(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:mn=mn.return}}function Zo(t){if(t!==mn)return!1;if(!je)return xg(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vd(t.type,t.memoizedProps)),a=!a),a&&ft&&Bs(t),xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ft=ni(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ft=null}}else i===27?(i=ft,Yr(t.type)?(t=jd,jd=null,ft=t):ft=i):ft=mn?ni(t.stateNode.nextSibling):null;return!0}function Jo(){ft=mn=null,je=!1}function Ng(){var t=Ls;return t!==null&&(En===null?En=t:En.push.apply(En,t),Ls=null),t}function el(t){Ls===null?Ls=[t]:Ls.push(t)}var bf=Z(null),zs=null,tr=null;function Mr(t,i,a){se(bf,i._currentValue),i._currentValue=a}function nr(t){t._currentValue=bf.current,ne(bf)}function Sf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Af(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var x=0;x<i.length;x++)if(T.context===i[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Sf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Sf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function tl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;Cn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===it.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Af(i,t,a,l),i.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){zs=t,tr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Og(zs,t)}function Wu(t,i){return zs===null&&js(t),Og(t,i)}function Og(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},tr===null){if(t===null)throw Error(s(308));tr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else tr=tr.next=i;return a}var q1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},F1=r.unstable_scheduleCallback,G1=r.unstable_NormalPriority,Ot={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new q1,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&F1(G1,function(){t.controller.abort()})}var il=null,Rf=0,za=0,ja=null;function $1(t,i){if(il===null){var a=il=[];Rf=0,za=Id(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rf++,i.then(Dg,Dg),i}function Dg(){if(--Rf===0&&il!==null){ja!==null&&(ja.status="fulfilled");var t=il;il=null,za=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function K1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Mg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&$1(t,i),Mg!==null&&Mg(t,i)};var Hs=Z(null);function Cf(){var t=Hs.current;return t!==null?t:tt.pooledCache}function Zu(t,i){i===null?se(Hs,Hs.current):se(Hs,i.pool)}function Pg(){var t=Cf();return t===null?null:{parent:Ot._currentValue,pool:t}}var rl=Error(s(460)),kg=Error(s(474)),Ju=Error(s(542)),If={then:function(){}};function Ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ec(){}function Vg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ec,ec),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t;default:if(typeof i.status=="string")i.then(ec,ec);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t}throw sl=i,rl}}var sl=null;function Lg(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}function Bg(t){if(t===rl||t===Ju)throw Error(s(483))}var Pr=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=$u(t),wg(t,null,a),i}return Gu(t,l,i,a),$u(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}function Of(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Df=!1;function ol(){if(Df){var t=ja;if(t!==null)throw t}}function ll(t,i,a,l){Df=!1;var h=t.updateQueue;Pr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,H=x.next;x.next=null,v===null?d=H:v.next=H,v=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=H:T.next=H,Q.lastBaseUpdate=x))}if(d!==null){var J=h.baseState;v=0,Q=H=x=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Le&F)===F:(l&F)===F){F!==0&&F===za&&(Df=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,Ee=T;F=i;var Je=a;switch(Ee.tag){case 1:if(be=Ee.payload,typeof be=="function"){J=be.call(Je,J,F);break e}J=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ee.payload,F=typeof be=="function"?be.call(Je,J,F):be,F==null)break e;J=E({},J,F);break e;case 2:Pr=!0}}F=T.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(H=Q=G,x=J):Q=Q.next=G,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(x=J),h.baseState=x,h.firstBaseUpdate=H,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Fr|=v,t.lanes=v,t.memoizedState=J}}function zg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)zg(a[t],i)}var Ha=Z(null),tc=Z(0);function Hg(t,i){t=ur,se(tc,t),se(Ha,i),ur=t|i.baseLanes}function Mf(){se(tc,ur),se(Ha,Ha.current)}function Pf(){ur=tc.current,ne(Ha),ne(tc)}var Vr=0,Ie=null,We=null,St=null,nc=!1,qa=!1,qs=!1,ic=0,ul=0,Fa=null,Y1=0;function _t(){throw Error(s(321))}function kf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Cn(t[a],i[a]))return!1;return!0}function Uf(t,i,a,l,h,d){return Vr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?wy:Ry,qs=!1,d=a(l,h),qs=!1,qa&&(d=Fg(i,a,l,h)),qg(t),d}function qg(t){K.H=uc;var i=We!==null&&We.next!==null;if(Vr=0,St=We=Ie=null,nc=!1,ul=0,Fa=null,i)throw Error(s(300));t===null||Ut||(t=t.dependencies,t!==null&&Qu(t)&&(Ut=!0))}function Fg(t,i,a,l){Ie=t;var h=0;do{if(qa&&(Fa=null),ul=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,St=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=tS,d=i(a,l)}while(qa);return d}function X1(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Vf(){var t=ic!==0;return ic=0,t}function Lf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Bf(t){if(nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}nc=!1}Vr=0,St=We=Ie=null,qa=!1,ul=ic=0,Fa=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ie.memoizedState=St=t:St=St.next=t,St}function At(){if(We===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=St===null?Ie.memoizedState:St.next;if(i!==null)St=i,We=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?Ie.memoizedState=St=t:St=St.next=t}return St}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,Fa===null&&(Fa=[]),t=Vg(Fa,t,i),i=Ie,(St===null?i.memoizedState:St.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?wy:Ry),t}function rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===te)return tn(t)}throw Error(s(438,String(t)))}function jf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=zf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function ir(t,i){return typeof i=="function"?i(t):i}function sc(t){var i=At();return Hf(i,We,t)}function Hf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,x=null,H=i,Q=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Le&J)===J:(Vr&J)===J){var F=H.revertLane;if(F===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===za&&(Q=!0);else if((Vr&F)===F){H=H.next,F===za&&(Q=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(T=x=J,v=d):x=x.next=J,Ie.lanes|=F,Fr|=F;J=H.action,qs&&a(d,J),d=H.hasEagerState?H.eagerState:a(d,J)}else F={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(T=x=F,v=d):x=x.next=F,Ie.lanes|=J,Fr|=J;H=H.next}while(H!==null&&H!==i);if(x===null?v=d:x.next=T,!Cn(d,t.memoizedState)&&(Ut=!0,Q&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function qf(t){var i=At(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Cn(d,i.memoizedState)||(Ut=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Gg(t,i,a){var l=Ie,h=At(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Cn((We||h).memoizedState,a);v&&(h.memoizedState=a,Ut=!0),h=h.queue;var T=Yg.bind(null,l,h,t);if(hl(2048,8,T,[t]),h.getSnapshot!==i||v||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,Ga(9,ac(),Kg.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(Vr&124)!==0||$g(l,i,a)}return a}function $g(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=zf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Kg(t,i,a,l){i.value=a,i.getSnapshot=l,Xg(i)&&Qg(t)}function Yg(t,i,a){return a(function(){Xg(i)&&Qg(t)})}function Xg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Cn(t,a)}catch{return!0}}function Qg(t){var i=Ua(t,2);i!==null&&Mn(i,t,2)}function Ff(t){var i=_n();if(typeof t=="function"){var a=t;if(t=a(),qs){Mt(!0);try{a()}finally{Mt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},i}function Wg(t,i,a,l){return t.baseState=a,Hf(t,We,typeof l=="function"?l:ir)}function Q1(t,i,a,l,h){if(lc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Zg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Zg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var T=a(h,l),x=K.S;x!==null&&x(v,T),Jg(t,i,T)}catch(H){Gf(t,i,H)}finally{K.T=d}}else try{d=a(h,l),Jg(t,i,d)}catch(H){Gf(t,i,H)}}function Jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(t,i,l)},function(l){return Gf(t,i,l)}):ey(t,i,a)}function ey(t,i,a){i.status="fulfilled",i.value=a,ty(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Zg(t,a)))}function Gf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ty(i),i=i.next;while(i!==l)}t.action=null}function ty(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ny(t,i){return i}function iy(t,i){if(je){var a=tt.formState;if(a!==null){e:{var l=Ie;if(je){if(ft){t:{for(var h=ft,d=Si;h.nodeType!==8;){if(!d){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ft=ni(h.nextSibling),l=h.data==="F!";break e}}Bs(l)}l=!1}l&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:i},a.queue=l,a=by.bind(null,Ie,l),l.dispatch=a,l=Ff(!1),d=Qf.bind(null,Ie,!1,l.queue),l=_n(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Q1.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ry(t){var i=At();return sy(i,We,t)}function sy(t,i,a){if(i=Hf(t,i,ny)[0],t=sc(ir)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=cl(i)}catch(v){throw v===rl?Ju:v}else l=i;i=At();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ga(9,ac(),W1.bind(null,h,a),null)),[l,d,t]}function W1(t,i){t.action=i}function ay(t){var i=At(),a=We;if(a!==null)return sy(i,a,t);At(),i=i.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=zf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ac(){return{destroy:void 0,resource:void 0}}function oy(){return At().memoizedState}function oc(t,i,a,l){var h=_n();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Ga(1|i,ac(),a,l)}function hl(t,i,a,l){var h=At();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&kf(l,We.memoizedState.deps)?h.memoizedState=Ga(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ga(1|i,d,a,l))}function ly(t,i){oc(8390656,8,t,i)}function uy(t,i){hl(2048,8,t,i)}function cy(t,i){return hl(4,2,t,i)}function hy(t,i){return hl(4,4,t,i)}function fy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function dy(t,i,a){a=a!=null?a.concat([t]):null,hl(4,4,fy.bind(null,i,t),a)}function $f(){}function my(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&kf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function py(t,i){var a=At();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&kf(i,l[1]))return l[0];if(l=t(),qs){Mt(!0);try{t()}finally{Mt(!1)}}return a.memoizedState=[l,i],l}function Kf(t,i,a){return a===void 0||(Vr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=__(),Ie.lanes|=t,Fr|=t,a)}function gy(t,i,a,l){return Cn(a,i)?a:Ha.current!==null?(t=Kf(t,a,l),Cn(t,i)||(Ut=!0),t):(Vr&42)===0?(Ut=!0,t.memoizedState=a):(t=__(),Ie.lanes|=t,Fr|=t,i)}function yy(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,Qf(t,!1,i,a);try{var x=h(),H=K.S;if(H!==null&&H(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=K1(x,l);fl(t,i,Q,Dn(t))}else fl(t,i,l,Dn(t))}catch(J){fl(t,i,{then:function(){},status:"rejected",reason:J},Dn())}finally{ae.p=d,K.T=v}}function Z1(){}function Yf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=_y(t).queue;yy(t,h,i,de,a===null?Z1:function(){return vy(t),a(l)})}function _y(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function vy(t){var i=_y(t).next.queue;fl(t,i,{},Dn())}function Xf(){return tn(Nl)}function Ey(){return At().memoizedState}function Ty(){return At().memoizedState}function J1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=kr(a);var l=Ur(i,t,a);l!==null&&(Mn(l,i,a),al(l,i,a)),i={cache:wf()},t.payload=i;return}i=i.return}}function eS(t,i,a){var l=Dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lc(t)?Sy(i,a):(a=pf(t,i,a,l),a!==null&&(Mn(a,t,l),Ay(a,i,l)))}function by(t,i,a){var l=Dn();fl(t,i,a,l)}function fl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lc(t))Sy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,Cn(T,v))return Gu(t,i,h,0),tt===null&&Fu(),!1}catch{}finally{}if(a=pf(t,i,h,l),a!==null)return Mn(a,t,l),Ay(a,i,l),!0}return!1}function Qf(t,i,a,l){if(l={lane:2,revertLane:Id(),action:l,hasEagerState:!1,eagerState:null,next:null},lc(t)){if(i)throw Error(s(479))}else i=pf(t,a,l,2),i!==null&&Mn(i,t,2)}function lc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Sy(t,i){qa=nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ay(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}var uc={readContext:tn,use:rc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},wy={readContext:tn,use:rc,useCallback:function(t,i){return _n().memoizedState=[t,i===void 0?null:i],t},useContext:tn,useEffect:ly,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,oc(4194308,4,fy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return oc(4194308,4,t,i)},useInsertionEffect:function(t,i){oc(4,2,t,i)},useMemo:function(t,i){var a=_n();i=i===void 0?null:i;var l=t();if(qs){Mt(!0);try{t()}finally{Mt(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=_n();if(a!==void 0){var h=a(i);if(qs){Mt(!0);try{a(i)}finally{Mt(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=eS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=_n();return t={current:t},i.memoizedState=t},useState:function(t){t=Ff(t);var i=t.queue,a=by.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,i){var a=_n();return Kf(a,t,i)},useTransition:function(){var t=Ff(!1);return t=yy.bind(null,Ie,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=_n();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Le&124)!==0||$g(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ly(Yg.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,ac(),Kg.bind(null,l,d,a,i),null),a},useId:function(){var t=_n(),i=tt.identifierPrefix;if(je){var a=er,l=Ji;a=(l&~(1<<32-Et(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Y1++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Xf,useFormState:iy,useActionState:iy,useOptimistic:function(t){var i=_n();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:jf,useCacheRefresh:function(){return _n().memoizedState=J1.bind(null,Ie)}},Ry={readContext:tn,use:rc,useCallback:my,useContext:tn,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:sc,useRef:oy,useState:function(){return sc(ir)},useDebugValue:$f,useDeferredValue:function(t,i){var a=At();return gy(a,We.memoizedState,t,i)},useTransition:function(){var t=sc(ir)[0],i=At().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:Xf,useFormState:ry,useActionState:ry,useOptimistic:function(t,i){var a=At();return Wg(a,We,t,i)},useMemoCache:jf,useCacheRefresh:Ty},tS={readContext:tn,use:rc,useCallback:my,useContext:tn,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:qf,useRef:oy,useState:function(){return qf(ir)},useDebugValue:$f,useDeferredValue:function(t,i){var a=At();return We===null?Kf(a,t,i):gy(a,We.memoizedState,t,i)},useTransition:function(){var t=qf(ir)[0],i=At().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:Xf,useFormState:ay,useActionState:ay,useOptimistic:function(t,i){var a=At();return We!==null?Wg(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:Ty},$a=null,dl=0;function cc(t){var i=dl;return dl+=1,$a===null&&($a=[]),Vg($a,t,i)}function ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function hc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Cy(t){var i=t._init;return i(t._payload)}function Iy(t){function i(L,P){if(t){var j=L.deletions;j===null?(L.deletions=[P],L.flags|=16):j.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)i(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Zi(L,P),L.index=0,L.sibling=null,L}function d(L,P,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<P?(L.flags|=67108866,P):j):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,P,j,W){return P===null||P.tag!==6?(P=yf(j,L.mode,W),P.return=L,P):(P=h(P,j),P.return=L,P)}function x(L,P,j,W){var fe=j.type;return fe===U?Q(L,P,j.props.children,W,j.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Cy(fe)===P.type)?(P=h(P,j.props),ml(P,j),P.return=L,P):(P=Ku(j.type,j.key,j.props,null,L.mode,W),ml(P,j),P.return=L,P)}function H(L,P,j,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==j.containerInfo||P.stateNode.implementation!==j.implementation?(P=_f(j,L.mode,W),P.return=L,P):(P=h(P,j.children||[]),P.return=L,P)}function Q(L,P,j,W,fe){return P===null||P.tag!==7?(P=ks(j,L.mode,W,fe),P.return=L,P):(P=h(P,j),P.return=L,P)}function J(L,P,j){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=yf(""+P,L.mode,j),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return j=Ku(P.type,P.key,P.props,null,L.mode,j),ml(j,P),j.return=L,j;case V:return P=_f(P,L.mode,j),P.return=L,P;case w:var W=P._init;return P=W(P._payload),J(L,P,j)}if(ye(P)||k(P))return P=ks(P,L.mode,j,null),P.return=L,P;if(typeof P.then=="function")return J(L,cc(P),j);if(P.$$typeof===te)return J(L,Wu(L,P),j);hc(L,P)}return null}function F(L,P,j,W){var fe=P!==null?P.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return fe!==null?null:T(L,P,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case R:return j.key===fe?x(L,P,j,W):null;case V:return j.key===fe?H(L,P,j,W):null;case w:return fe=j._init,j=fe(j._payload),F(L,P,j,W)}if(ye(j)||k(j))return fe!==null?null:Q(L,P,j,W,null);if(typeof j.then=="function")return F(L,P,cc(j),W);if(j.$$typeof===te)return F(L,P,Wu(L,j),W);hc(L,j)}return null}function G(L,P,j,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(j)||null,T(P,L,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case R:return L=L.get(W.key===null?j:W.key)||null,x(P,L,W,fe);case V:return L=L.get(W.key===null?j:W.key)||null,H(P,L,W,fe);case w:var Ne=W._init;return W=Ne(W._payload),G(L,P,j,W,fe)}if(ye(W)||k(W))return L=L.get(j)||null,Q(P,L,W,fe,null);if(typeof W.then=="function")return G(L,P,j,cc(W),fe);if(W.$$typeof===te)return G(L,P,j,Wu(P,W),fe);hc(P,W)}return null}function be(L,P,j,W){for(var fe=null,Ne=null,pe=P,Te=P=0,Lt=null;pe!==null&&Te<j.length;Te++){pe.index>Te?(Lt=pe,pe=null):Lt=pe.sibling;var ze=F(L,pe,j[Te],W);if(ze===null){pe===null&&(pe=Lt);break}t&&pe&&ze.alternate===null&&i(L,pe),P=d(ze,P,Te),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze,pe=Lt}if(Te===j.length)return a(L,pe),je&&Vs(L,Te),fe;if(pe===null){for(;Te<j.length;Te++)pe=J(L,j[Te],W),pe!==null&&(P=d(pe,P,Te),Ne===null?fe=pe:Ne.sibling=pe,Ne=pe);return je&&Vs(L,Te),fe}for(pe=l(pe);Te<j.length;Te++)Lt=G(pe,L,Te,j[Te],W),Lt!==null&&(t&&Lt.alternate!==null&&pe.delete(Lt.key===null?Te:Lt.key),P=d(Lt,P,Te),Ne===null?fe=Lt:Ne.sibling=Lt,Ne=Lt);return t&&pe.forEach(function(Jr){return i(L,Jr)}),je&&Vs(L,Te),fe}function Ee(L,P,j,W){if(j==null)throw Error(s(151));for(var fe=null,Ne=null,pe=P,Te=P=0,Lt=null,ze=j.next();pe!==null&&!ze.done;Te++,ze=j.next()){pe.index>Te?(Lt=pe,pe=null):Lt=pe.sibling;var Jr=F(L,pe,ze.value,W);if(Jr===null){pe===null&&(pe=Lt);break}t&&pe&&Jr.alternate===null&&i(L,pe),P=d(Jr,P,Te),Ne===null?fe=Jr:Ne.sibling=Jr,Ne=Jr,pe=Lt}if(ze.done)return a(L,pe),je&&Vs(L,Te),fe;if(pe===null){for(;!ze.done;Te++,ze=j.next())ze=J(L,ze.value,W),ze!==null&&(P=d(ze,P,Te),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze);return je&&Vs(L,Te),fe}for(pe=l(pe);!ze.done;Te++,ze=j.next())ze=G(pe,L,Te,ze.value,W),ze!==null&&(t&&ze.alternate!==null&&pe.delete(ze.key===null?Te:ze.key),P=d(ze,P,Te),Ne===null?fe=ze:Ne.sibling=ze,Ne=ze);return t&&pe.forEach(function(nA){return i(L,nA)}),je&&Vs(L,Te),fe}function Je(L,P,j,W){if(typeof j=="object"&&j!==null&&j.type===U&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case R:e:{for(var fe=j.key;P!==null;){if(P.key===fe){if(fe=j.type,fe===U){if(P.tag===7){a(L,P.sibling),W=h(P,j.props.children),W.return=L,L=W;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&Cy(fe)===P.type){a(L,P.sibling),W=h(P,j.props),ml(W,j),W.return=L,L=W;break e}a(L,P);break}else i(L,P);P=P.sibling}j.type===U?(W=ks(j.props.children,L.mode,W,j.key),W.return=L,L=W):(W=Ku(j.type,j.key,j.props,null,L.mode,W),ml(W,j),W.return=L,L=W)}return v(L);case V:e:{for(fe=j.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===j.containerInfo&&P.stateNode.implementation===j.implementation){a(L,P.sibling),W=h(P,j.children||[]),W.return=L,L=W;break e}else{a(L,P);break}else i(L,P);P=P.sibling}W=_f(j,L.mode,W),W.return=L,L=W}return v(L);case w:return fe=j._init,j=fe(j._payload),Je(L,P,j,W)}if(ye(j))return be(L,P,j,W);if(k(j)){if(fe=k(j),typeof fe!="function")throw Error(s(150));return j=fe.call(j),Ee(L,P,j,W)}if(typeof j.then=="function")return Je(L,P,cc(j),W);if(j.$$typeof===te)return Je(L,P,Wu(L,j),W);hc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,P!==null&&P.tag===6?(a(L,P.sibling),W=h(P,j),W.return=L,L=W):(a(L,P),W=yf(j,L.mode,W),W.return=L,L=W),v(L)):a(L,P)}return function(L,P,j,W){try{dl=0;var fe=Je(L,P,j,W);return $a=null,fe}catch(pe){if(pe===rl||pe===Ju)throw pe;var Ne=In(29,pe,null,L.mode);return Ne.lanes=W,Ne.return=L,Ne}finally{}}}var Ka=Iy(!0),xy=Iy(!1),Gn=Z(null),Ai=null;function Lr(t){var i=t.alternate;se(Dt,Dt.current&1),se(Gn,t),Ai===null&&(i===null||Ha.current!==null||i.memoizedState!==null)&&(Ai=t)}function Ny(t){if(t.tag===22){if(se(Dt,Dt.current),se(Gn,t),Ai===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ai=t)}}else Br()}function Br(){se(Dt,Dt.current),se(Gn,Gn.current)}function rr(t){ne(Gn),Ai===t&&(Ai=null),ne(Dt)}var Dt=Z(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Wf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Dn(),h=kr(l);h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(Mn(i,t,l),al(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Dn(),h=kr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(Mn(i,t,l),al(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),l=kr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(t,l,a),i!==null&&(Mn(i,t,a),al(i,t,a))}};function Oy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function Dy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Zf.enqueueReplaceState(i,i.state,null)}function Fs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function My(t){dc(t)}function Py(t){console.error(t)}function ky(t){dc(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(t,i,a){return a=kr(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function Vy(t){return t=kr(t),t.tag=3,t}function Ly(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Uy(i,a,l),typeof h!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function nS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&tl(i,a,h,!0),a=Gn.current,a!==null){switch(a.tag){case 13:return Ai===null?Sd():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===If?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),wd(t,l,h)),!1;case 22:return a.flags|=65536,l===If?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),wd(t,l,h)),!1}throw Error(s(435,a.tag))}return wd(t,l,h),Sd(),!1}if(je)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Tf&&(t=Error(s(422),{cause:l}),el(jn(t,a)))):(l!==Tf&&(i=Error(s(423),{cause:l}),el(jn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,a),h=Jf(t.stateNode,l,h),Of(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),Tl===null?Tl=[d]:Tl.push(d),dt!==4&&(dt=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Jf(a.stateNode,l,t),Of(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vy(h),Ly(h,t,a,l),Of(a,h),!1}a=a.return}while(a!==null);return!1}var By=Error(s(461)),Ut=!1;function Gt(t,i,a,l){i.child=t===null?xy(i,null,a,l):Ka(i,t.child,a,l)}function zy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return js(i),l=Uf(t,i,a,v,d,h),T=Vf(),t!==null&&!Ut?(Lf(t,i,h),sr(t,i,h)):(je&&T&&vf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function jy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!gf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Hy(t,i,d,l,h)):(t=Ku(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!od(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(v,l)&&t.ref===i.ref)return sr(t,i,h)}return i.flags|=1,t=Zi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Hy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===i.ref)if(Ut=!1,i.pendingProps=l=d,od(t,h))(t.flags&131072)!==0&&(Ut=!0);else return i.lanes=t.lanes,sr(t,i,h)}return ed(t,i,a,l,h)}function qy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Fy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?Hg(i,d):Mf(),Ny(i);else return i.lanes=i.childLanes=536870912,Fy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Zu(i,d.cachePool),Hg(i,d),Br(),i.memoizedState=null):(t!==null&&Zu(i,null),Mf(),Br());return Gt(t,i,h,a),i.child}function Fy(t,i,a,l){var h=Cf();return h=h===null?null:{parent:Ot._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Zu(i,null),Mf(),Ny(i),t!==null&&tl(t,i,l,!0),null}function pc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ed(t,i,a,l,h){return js(i),a=Uf(t,i,a,l,void 0,h),l=Vf(),t!==null&&!Ut?(Lf(t,i,h),sr(t,i,h)):(je&&l&&vf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Gy(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=Fg(i,l,a,h),qg(t),l=Vf(),t!==null&&!Ut?(Lf(t,i,d),sr(t,i,d)):(je&&l&&vf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function $y(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Va,v=a.contextType;typeof v=="object"&&v!==null&&(d=tn(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},xf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?tn(v):Va,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Wf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Zf.enqueueReplaceState(d,d.state,null),ll(i,l,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,x=Fs(a,T);d.props=x;var H=d.context,Q=a.contextType;v=Va,typeof Q=="object"&&Q!==null&&(v=tn(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&Dy(i,d,l,v),Pr=!1;var F=i.memoizedState;d.state=F,ll(i,l,d,h),ol(),H=i.memoizedState,T||F!==H||Pr?(typeof J=="function"&&(Wf(i,a,J,l),H=i.memoizedState),(x=Pr||Oy(i,a,x,l,F,H,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Nf(t,i),v=i.memoizedProps,Q=Fs(a,v),d.props=Q,J=i.pendingProps,F=d.context,H=a.contextType,x=Va,typeof H=="object"&&H!==null&&(x=tn(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||F!==x)&&Dy(i,d,l,x),Pr=!1,F=i.memoizedState,d.state=F,ll(i,l,d,h),ol();var G=i.memoizedState;v!==J||F!==G||Pr||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof T=="function"&&(Wf(i,a,T,l),G=i.memoizedState),(Q=Pr||Oy(i,a,Q,l,F,G,x)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=x,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,pc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ka(i,t.child,null,h),i.child=Ka(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=sr(t,i,h),t}function Ky(t,i,a,l){return Jo(),i.flags|=256,Gt(t,i,a,l),i.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(t){return{baseLanes:t,cachePool:Pg()}}function id(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=$n),t}function Yy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(h?Lr(i):Br(),je){var T=ft,x;if(x=T){e:{for(x=T,T=Si;x.nodeType!==8;){if(!T){T=null;break e}if(x=ni(x.nextSibling),x===null){T=null;break e}}T=x}T!==null?(i.memoizedState={dehydrated:T,treeContext:Us!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},x=In(18,null,null,0),x.stateNode=T,x.return=i,i.child=x,mn=i,ft=null,x=!0):x=!1}x||Bs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return zd(T)?i.lanes=32:i.lanes=536870912,null;rr(i)}return T=l.children,l=l.fallback,h?(Br(),h=i.mode,T=gc({mode:"hidden",children:T},h),l=ks(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=nd(a),h.childLanes=id(t,v,a),i.memoizedState=td,l):(Lr(i),rd(i,T))}if(x=t.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=sd(t,i,a)):i.memoizedState!==null?(Br(),i.child=t.child,i.flags|=128,i=null):(Br(),h=l.fallback,T=i.mode,l=gc({mode:"visible",children:l.children},T),h=ks(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ka(i,t.child,null,a),l=i.child,l.memoizedState=nd(a),l.childLanes=id(t,v,a),i.memoizedState=td,i=h);else if(Lr(i),zd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,el({value:l,source:null,stack:null}),i=sd(t,i,a)}else if(Ut||tl(t,i,a,!1),v=(a&t.childLanes)!==0,Ut||v){if(v=tt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Rr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Ua(t,l),Mn(v,t,l),By;T.data==="$?"||Sd(),i=sd(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,ft=ni(T.nextSibling),mn=i,je=!0,Ls=null,Si=!1,t!==null&&(qn[Fn++]=Ji,qn[Fn++]=er,qn[Fn++]=Us,Ji=t.id,er=t.overflow,Us=i),i=rd(i,l.children),i.flags|=4096);return i}return h?(Br(),h=l.fallback,T=i.mode,x=t.child,H=x.sibling,l=Zi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,H!==null?h=Zi(H,h):(h=ks(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=nd(a):(x=T.cachePool,x!==null?(H=Ot._currentValue,x=x.parent!==H?{parent:H,pool:H}:x):x=Pg(),T={baseLanes:T.baseLanes|a,cachePool:x}),h.memoizedState=T,h.childLanes=id(t,v,a),i.memoizedState=td,l):(Lr(i),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function rd(t,i){return i=gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gc(t,i){return t=In(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function sd(t,i,a){return Ka(i,t.child,null,a),t=rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Xy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Sf(t.return,i,a)}function ad(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Qy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Gt(t,i,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,a,i);else if(t.tag===19)Xy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Dt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ad(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&fc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ad(i,!0,a,null,d);break;case"together":ad(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function sr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(tl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Zi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function od(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function iS(t,i,a){switch(i.tag){case 3:He(i,i.stateNode.containerInfo),Mr(i,Ot,t.memoizedState.cache),Jo();break;case 27:case 5:kn(i);break;case 4:He(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Yy(t,i,a):(Lr(i),t=sr(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(tl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Qy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Dt,Dt.current),l)break;return null;case 22:case 23:return i.lanes=0,qy(t,i,a);case 24:Mr(i,Ot,t.memoizedState.cache)}return sr(t,i,a)}function Wy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ut=!0;else{if(!od(t,a)&&(i.flags&128)===0)return Ut=!1,iS(t,i,a);Ut=(t.flags&131072)!==0}else Ut=!1,je&&(i.flags&1048576)!==0&&Cg(i,Xu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")gf(l)?(t=Fs(l,t),i.tag=1,i=$y(null,i,l,t,a)):(i.tag=0,i=ed(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=zy(null,i,l,t,a);break e}else if(h===N){i.tag=14,i=jy(null,i,l,t,a);break e}}throw i=Ce(l)||l,Error(s(306,i,""))}}return i;case 0:return ed(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Fs(l,i.pendingProps),$y(t,i,l,h,a);case 3:e:{if(He(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Nf(t,i),ll(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Mr(i,Ot,l),l!==d.cache&&Af(i,[Ot],a,!0),ol(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ky(t,i,l,a);break e}else if(l!==h){h=jn(Error(s(424)),i),el(h),i=Ky(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=ni(t.firstChild),mn=i,je=!0,Ls=null,Si=!0,a=xy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),l===h){i=sr(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return pc(t,i),t===null?(a=tv(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=Nc(ve.current).createElement(a),l[It]=i,l[Tt]=t,Kt(l,a,t),yt(l),i.stateNode=l):i.memoizedState=tv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return kn(i),t===null&&je&&(l=i.stateNode=Z_(i.type,i.pendingProps,ve.current),mn=i,Si=!0,h=ft,Yr(i.type)?(jd=h,ft=ni(l.firstChild)):ft=h),Gt(t,i,i.pendingProps.children,a),pc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((h=l=ft)&&(l=OS(l,i.type,i.pendingProps,Si),l!==null?(i.stateNode=l,mn=i,ft=ni(l.firstChild),Si=!1,h=!0):h=!1),h||Bs(i)),kn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Vd(h,d)?l=null:v!==null&&Vd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Uf(t,i,X1,null,null,a),Nl._currentValue=h),pc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=ft)&&(a=DS(a,i.pendingProps,Si),a!==null?(i.stateNode=a,mn=i,ft=null,t=!0):t=!1),t||Bs(i)),null;case 13:return Yy(t,i,a);case 4:return He(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ka(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return zy(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=tn(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return jy(t,i,i.type,i.pendingProps,a);case 15:return Hy(t,i,i.type,i.pendingProps,a);case 19:return Qy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=gc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Zi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return qy(t,i,a);case 24:return js(i),l=tn(Ot),t===null?(h=Cf(),h===null&&(h=tt,d=wf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},xf(i),Mr(i,Ot,h)):((t.lanes&a)!==0&&(Nf(t,i),ll(i,null,null,a),ol()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,Ot,l)):(l=d.cache,Mr(i,Ot,l),l!==h.cache&&Af(i,[Ot],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ar(t){t.flags|=4}function Zy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!av(i)){if(i=Gn.current,i!==null&&((Le&4194048)===Le?Ai!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==Ai))throw sl=If,kg;t.flags|=8192}}function yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Do():536870912,t.lanes|=i,Wa|=i)}function pl(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function rS(t,i,a){var l=i.pendingProps;switch(Ef(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),nr(Ot),An(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zo(i)?ar(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ng())),lt(i),null;case 26:return a=i.memoizedState,t===null?(ar(i),a!==null?(lt(i),Zy(i,a)):(lt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ar(i),lt(i),Zy(i,a)):(lt(i),i.flags&=-16777217):(t.memoizedProps!==l&&ar(i),lt(i),i.flags&=-16777217),null;case 27:Yn(i),a=ve.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=ge.current,Zo(i)?Ig(i):(t=Z_(h,l,a),i.stateNode=t,ar(i))}return lt(i),null;case 5:if(Yn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(t=ge.current,Zo(i))Ig(i);else{switch(h=Nc(ve.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=i,t[Tt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Kt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ar(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ve.current,Zo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||G_(t.nodeValue,a)),t||Bs(i)}else t=Nc(t).createTextNode(l),t[It]=i,i.stateNode=t}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Zo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else Jo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else h=Ng(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(rr(i),i):(rr(i),null)}if(rr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),yc(i,i.updateQueue),lt(i),null;case 4:return An(),t===null&&Dd(i.stateNode.containerInfo),lt(i),null;case 10:return nr(i.type),lt(i),null;case 19:if(ne(Dt),h=i.memoizedState,h===null)return lt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)pl(h,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=fc(t),d!==null){for(i.flags|=128,pl(h,!1),t=d.updateQueue,i.updateQueue=t,yc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Rg(a,t),a=a.sibling;return se(Dt,Dt.current&1|2),i.child}t=t.sibling}h.tail!==null&&yn()>Ec&&(i.flags|=128,l=!0,pl(h,!1),i.lanes=4194304)}else{if(!l)if(t=fc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,yc(i,t),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!je)return lt(i),null}else 2*yn()-h.renderingStartTime>Ec&&a!==536870912&&(i.flags|=128,l=!0,pl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yn(),i.sibling=null,t=Dt.current,se(Dt,l?t&1|2:t&1),i):(lt(i),null);case 22:case 23:return rr(i),Pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&yc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ne(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),nr(Ot),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function sS(t,i){switch(Ef(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return nr(Ot),An(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Yn(i),null;case 13:if(rr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Jo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(Dt),null;case 4:return An(),null;case 10:return nr(i.type),null;case 22:case 23:return rr(i),Pf(),t!==null&&ne(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return nr(Ot),null;case 25:return null;default:return null}}function Jy(t,i){switch(Ef(i),i.tag){case 3:nr(Ot),An();break;case 26:case 27:case 5:Yn(i);break;case 4:An();break;case 13:rr(i);break;case 19:ne(Dt);break;case 10:nr(i.type);break;case 22:case 23:rr(i),Pf(),t!==null&&ne(Hs);break;case 24:nr(Ot)}}function gl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){et(i,i.return,T)}}function zr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var x=a,H=T;try{H()}catch(Q){et(h,x,Q)}}}l=l.next}while(l!==d)}}catch(Q){et(i,i.return,Q)}}function e_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{jg(i,a)}catch(l){et(t,t.return,l)}}}function t_(t,i,a){a.props=Fs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function yl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,i,h)}}function wi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,i,h)}else a.current=null}function n_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function ld(t,i,a){try{var l=t.stateNode;RS(l,t.type,a,i),l[Tt]=i}catch(h){et(t,t.return,h)}}function i_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=xc));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(cd(t,i,a),t=t.sibling;t!==null;)cd(t,i,a),t=t.sibling}function _c(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,i,a),t=t.sibling;t!==null;)_c(t,i,a),t=t.sibling}function r_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[It]=t,i[Tt]=a}catch(d){et(t,t.return,d)}}var or=!1,vt=!1,hd=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function aS(t,i){if(t=t.containerInfo,kd=Uc,t=gg(t),uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,x=-1,H=0,Q=0,J=t,F=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(x=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)F=J,J=G;for(;;){if(J===t)break t;if(F===a&&++H===h&&(T=v),F===d&&++Q===l&&(x=v),(G=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=G}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ud={focusedElem:t,selectionRange:a},Uc=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=Fs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){et(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function a_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:jr(t,a),l&4&&gl(5,a);break;case 1:if(jr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=Fs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&e_(a),l&512&&yl(a,a.return);break;case 3:if(jr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{jg(t,i)}catch(v){et(a,a.return,v)}}break;case 27:i===null&&l&4&&r_(a);case 26:case 5:jr(t,a),i===null&&l&4&&n_(a),l&512&&yl(a,a.return);break;case 12:jr(t,a);break;case 13:jr(t,a),l&4&&u_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pS.bind(null,a),MS(t,a))));break;case 22:if(l=a.memoizedState!==null||or,!l){i=i!==null&&i.memoizedState!==null||vt,h=or;var d=vt;or=l,(vt=i)&&!d?Hr(t,a,(a.subtreeFlags&8772)!==0):jr(t,a),or=h,vt=d}break;case 30:break;default:jr(t,a)}}function o_(t){var i=t.alternate;i!==null&&(t.alternate=null,o_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&xr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,vn=!1;function lr(t,i,a){for(a=a.child;a!==null;)l_(t,i,a),a=a.sibling}function l_(t,i,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Xe,a)}catch{}switch(a.tag){case 26:vt||wi(a,i),lr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||wi(a,i);var l=st,h=vn;Yr(a.type)&&(st=a.stateNode,vn=!1),lr(t,i,a),Rl(a.stateNode),st=l,vn=h;break;case 5:vt||wi(a,i);case 6:if(l=st,h=vn,st=null,lr(t,i,a),st=l,vn=h,st!==null)if(vn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:st!==null&&(vn?(t=st,Q_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Pl(t)):Q_(st,a.stateNode));break;case 4:l=st,h=vn,st=a.stateNode.containerInfo,vn=!0,lr(t,i,a),st=l,vn=h;break;case 0:case 11:case 14:case 15:vt||zr(2,a,i),vt||zr(4,a,i),lr(t,i,a);break;case 1:vt||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&t_(a,i,l)),lr(t,i,a);break;case 21:lr(t,i,a);break;case 22:vt=(l=vt)||a.memoizedState!==null,lr(t,i,a),vt=l;break;default:lr(t,i,a)}}function u_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(a){et(i,i.return,a)}}function oS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new s_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new s_),i;default:throw Error(s(435,t.tag))}}function fd(t,i){var a=oS(t);i.forEach(function(l){var h=gS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function xn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Yr(T.type)){st=T.stateNode,vn=!1;break e}break;case 5:st=T.stateNode,vn=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,vn=!0;break e}T=T.return}if(st===null)throw Error(s(160));l_(d,v,h),st=null,vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)c_(i,t),i=i.sibling}var ti=null;function c_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(i,t),Nn(t),l&4&&(zr(3,t,t.return),gl(3,t),zr(5,t,t.return));break;case 1:xn(i,t),Nn(t),l&512&&(vt||a===null||wi(a,a.return)),l&64&&or&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(xn(i,t),Nn(t),l&512&&(vt||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vs]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[It]=t,yt(d),l=d;break e;case"link":var v=rv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=rv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,yt(d),l=d}t.stateNode=l}else sv(h,t.type,t.stateNode);else t.stateNode=iv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?sv(h,t.type,t.stateNode):iv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ld(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(i,t),Nn(t),l&512&&(vt||a===null||wi(a,a.return)),a!==null&&l&4&&ld(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(i,t),Nn(t),l&512&&(vt||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{Vn(h,"")}catch(G){et(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ld(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(xn(i,t),Nn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){et(t,t.return,G)}}break;case 3:if(Mc=null,h=ti,ti=Oc(i.containerInfo),xn(i,t),ti=h,Nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(i.containerInfo)}catch(G){et(t,t.return,G)}hd&&(hd=!1,h_(t));break;case 4:l=ti,ti=Oc(t.stateNode.containerInfo),xn(i,t),Nn(t),ti=l;break;case 12:xn(i,t),Nn(t);break;case 13:xn(i,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_d=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,H=or,Q=vt;if(or=H||h,vt=Q||x,xn(i,t),vt=Q,or=H,Nn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||or||vt||Gs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=x.stateNode;var J=x.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){et(x,x.return,G)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(G){et(x,x.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fd(t,a))));break;case 19:xn(i,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 30:break;case 21:break;default:xn(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(i_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ud(t);_c(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Vn(v,""),a.flags&=-33);var T=ud(t);_c(t,T,v);break;case 3:case 4:var x=a.stateNode.containerInfo,H=ud(t);cd(t,H,x);break;default:throw Error(s(161))}}catch(Q){et(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function h_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;h_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function jr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)a_(t,i.alternate,i),i=i.sibling}function Gs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zr(4,i,i.return),Gs(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&t_(i,i.return,a),Gs(i);break;case 27:Rl(i.stateNode);case 26:case 5:wi(i,i.return),Gs(i);break;case 22:i.memoizedState===null&&Gs(i);break;case 30:Gs(i);break;default:Gs(i)}t=t.sibling}}function Hr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Hr(h,d,a),gl(4,d);break;case 1:if(Hr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){et(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)zg(x[h],T)}catch(H){et(l,l.return,H)}}a&&v&64&&e_(d),yl(d,d.return);break;case 27:r_(d);case 26:case 5:Hr(h,d,a),a&&l===null&&v&4&&n_(d),yl(d,d.return);break;case 12:Hr(h,d,a);break;case 13:Hr(h,d,a),a&&v&4&&u_(h,d);break;case 22:d.memoizedState===null&&Hr(h,d,a),yl(d,d.return);break;case 30:break;default:Hr(h,d,a)}i=i.sibling}}function dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function Ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f_(t,i,a,l),i=i.sibling}function f_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ri(t,i,a,l),h&2048&&gl(9,i);break;case 1:Ri(t,i,a,l);break;case 3:Ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){Ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){et(i,i.return,x)}}else Ri(t,i,a,l);break;case 13:Ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ri(t,i,a,l):_l(t,i):d._visibility&2?Ri(t,i,a,l):(d._visibility|=2,Ya(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&dd(v,i);break;case 24:Ri(t,i,a,l),h&2048&&md(i.alternate,i);break;default:Ri(t,i,a,l)}}function Ya(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,x=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Ya(d,v,T,x,h),gl(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Ya(d,v,T,x,h):_l(d,v):(Q._visibility|=2,Ya(d,v,T,x,h)),h&&H&2048&&dd(v.alternate,v);break;case 24:Ya(d,v,T,x,h),h&&H&2048&&md(v.alternate,v);break;default:Ya(d,v,T,x,h)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&dd(l.alternate,l);break;case 24:_l(a,l),h&2048&&md(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var vl=8192;function Xa(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)d_(t),t=t.sibling}function d_(t){switch(t.tag){case 26:Xa(t),t.flags&vl&&t.memoizedState!==null&&$S(ti,t.memoizedState,t.memoizedProps);break;case 5:Xa(t);break;case 3:case 4:var i=ti;ti=Oc(t.stateNode.containerInfo),Xa(t),ti=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=vl,vl=16777216,Xa(t),vl=i):Xa(t));break;default:Xa(t)}}function m_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,g_(l,t)}m_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&zr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,vc(t)):El(t);break;default:El(t)}}function vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,g_(l,t)}m_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zr(8,i,i.return),vc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,vc(i));break;default:vc(i)}t=t.sibling}}function g_(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:zr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(o_(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var lS={getCacheForType:function(t){var i=tn(Ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},uS=typeof WeakMap=="function"?WeakMap:Map,$e=0,tt=null,De=null,Le=0,Ke=0,On=null,qr=!1,Qa=!1,pd=!1,ur=0,dt=0,Fr=0,$s=0,gd=0,$n=0,Wa=0,Tl=null,En=null,yd=!1,_d=0,Ec=1/0,Tc=null,Gr=null,$t=0,$r=null,Za=null,Ja=0,vd=0,Ed=null,y_=null,bl=0,Td=null;function Dn(){if(($e&2)!==0&&Le!==0)return Le&-Le;if(K.T!==null){var t=za;return t!==0?t:Id()}return Cr()}function __(){$n===0&&($n=(Le&536870912)===0||je?Oo():536870912);var t=Gn.current;return t!==null&&(t.flags|=32),$n}function Mn(t,i,a){(t===tt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Kr(t,Le,$n,!1)),ji(t,a),(($e&2)===0||t!==tt)&&(t===tt&&(($e&2)===0&&($s|=a),dt===4&&Kr(t,Le,$n,!1)),Ci(t))}function v_(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||_s(t,i),h=l?fS(t,i):Ad(t,i,!0),d=l;do{if(h===0){Qa&&!l&&Kr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!cS(a)){h=Ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Tl;var x=T.current.memoizedState.isDehydrated;if(x&&(eo(T,v).flags|=256),v=Ad(T,v,!1),v!==2){if(pd&&!x){T.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),Kr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Kr(l,i,$n,!qr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=_d+300-yn(),10<h)){if(Kr(l,i,$n,!qr),ya(l,0,!0)!==0)break e;l.timeoutHandle=Y_(E_.bind(null,l,a,En,Tc,yd,i,$n,$s,Wa,qr,d,2,-0,0),h);break e}E_(l,a,En,Tc,yd,i,$n,$s,Wa,qr,d,0,-0,0)}}break}while(!0);Ci(t)}function E_(t,i,a,l,h,d,v,T,x,H,Q,J,F,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:GS},d_(i),J=KS(),J!==null)){t.cancelPendingCommit=J(C_.bind(null,t,i,d,a,l,h,v,T,x,Q,1,F,G)),Kr(t,d,v,!H);return}C_(t,i,d,a,l,h,v,T,x)}function cS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kr(t,i,a,l){i&=~gd,i&=~$s,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Et(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&fi(t,a,i)}function bc(){return($e&6)===0?(Sl(0),!1):!0}function bd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,tr=zs=null,Bf(t),$a=null,dl=0,t=De;for(;t!==null;)Jy(t.alternate,t),t=t.return;De=null}}function eo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bd(),tt=t,De=a=Zi(t.current,null),Le=i,Ke=0,On=null,qr=!1,Qa=_s(t,i),pd=!1,Wa=$n=gd=$s=Fr=dt=0,En=Tl=null,yd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Et(l),d=1<<h;i|=t[h],l&=~d}return ur=i,Fu(),a}function T_(t,i){Ie=null,K.H=uc,i===rl||i===Ju?(i=Lg(),Ke=3):i===kg?(i=Lg(),Ke=4):Ke=i===By?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,On=i,De===null&&(dt=1,mc(t,jn(i,t.current)))}function b_(){var t=K.H;return K.H=uc,t===null?uc:t}function S_(){var t=K.A;return K.A=lS,t}function Sd(){dt=4,qr||(Le&4194048)!==Le&&Gn.current!==null||(Qa=!0),(Fr&134217727)===0&&($s&134217727)===0||tt===null||Kr(tt,Le,$n,!1)}function Ad(t,i,a){var l=$e;$e|=2;var h=b_(),d=S_();(tt!==t||Le!==i)&&(Tc=null,eo(t,i)),i=!1;var v=dt;e:do try{if(Ke!==0&&De!==null){var T=De,x=On;switch(Ke){case 8:bd(),v=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(i=!0);var H=Ke;if(Ke=0,On=null,to(t,T,x,H),a&&Qa){v=0;break e}break;default:H=Ke,Ke=0,On=null,to(t,T,x,H)}}hS(),v=dt;break}catch(Q){T_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,tr=zs=null,$e=l,K.H=h,K.A=d,De===null&&(tt=null,Le=0,Fu()),v}function hS(){for(;De!==null;)A_(De)}function fS(t,i){var a=$e;$e|=2;var l=b_(),h=S_();tt!==t||Le!==i?(Tc=null,Ec=yn()+500,eo(t,i)):Qa=_s(t,i);e:do try{if(Ke!==0&&De!==null){i=De;var d=On;t:switch(Ke){case 1:Ke=0,On=null,to(t,i,d,1);break;case 2:case 9:if(Ug(d)){Ke=0,On=null,w_(i);break}i=function(){Ke!==2&&Ke!==9||tt!==t||(Ke=7),Ci(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Ug(d)?(Ke=0,On=null,w_(i)):(Ke=0,On=null,to(t,i,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(!v||av(v)){Ke=0,On=null;var x=T.sibling;if(x!==null)De=x;else{var H=T.return;H!==null?(De=H,Sc(H)):De=null}break t}}Ke=0,On=null,to(t,i,d,5);break;case 6:Ke=0,On=null,to(t,i,d,6);break;case 8:bd(),dt=6;break e;default:throw Error(s(462))}}dS();break}catch(Q){T_(t,Q)}while(!0);return tr=zs=null,K.H=l,K.A=h,$e=a,De!==null?0:(tt=null,Le=0,Fu(),dt)}function dS(){for(;De!==null&&!Xn();)A_(De)}function A_(t){var i=Wy(t.alternate,t,ur);t.memoizedProps=t.pendingProps,i===null?Sc(t):De=i}function w_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Gy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Gy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Bf(i);default:Jy(a,i),i=De=Rg(i,ur),i=Wy(a,i,ur)}t.memoizedProps=t.pendingProps,i===null?Sc(t):De=i}function to(t,i,a,l){tr=zs=null,Bf(i),$a=null,dl=0;var h=i.return;try{if(nS(t,h,i,a,Le)){dt=1,mc(t,jn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;dt=1,mc(t,jn(a,t.current)),De=null;return}i.flags&32768?(je||l===1?t=!0:Qa||(Le&536870912)!==0?t=!1:(qr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),R_(i,t)):Sc(i)}function Sc(t){var i=t;do{if((i.flags&32768)!==0){R_(i,qr);return}t=i.return;var a=rS(i.alternate,i,ur);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);dt===0&&(dt=5)}function R_(t,i){do{var a=sS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);dt=6,De=null}function C_(t,i,a,l,h,d,v,T,x){t.cancelPendingCommit=null;do Ac();while($t!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=mf,Mo(t,a,d,v,T,x),t===tt&&(De=tt=null,Le=0),Za=i,$r=t,Ja=a,vd=d,Ed=h,y_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yS(ce,function(){return D_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,v=$e,$e|=4;try{aS(t,i,a)}finally{$e=v,ae.p=h,K.T=l}}$t=1,I_(),x_(),N_()}}function I_(){if($t===1){$t=0;var t=$r,i=Za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=$e;$e|=4;try{c_(i,t);var d=Ud,v=gg(t.containerInfo),T=d.focusedElem,x=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&pg(T.ownerDocument.documentElement,T)){if(x!==null&&uf(T)){var H=x.start,Q=x.end;if(Q===void 0&&(Q=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Q,T.value.length);else{var J=T.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var G=F.getSelection(),be=T.textContent.length,Ee=Math.min(x.start,be),Je=x.end===void 0?Ee:Math.min(x.end,be);!G.extend&&Ee>Je&&(v=Je,Je=Ee,Ee=v);var L=mg(T,Ee),P=mg(T,Je);if(L&&P&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var j=J.createRange();j.setStart(L.node,L.offset),G.removeAllRanges(),Ee>Je?(G.addRange(j),G.extend(P.node,P.offset)):(j.setEnd(P.node,P.offset),G.addRange(j))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var W=J[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Uc=!!kd,Ud=kd=null}finally{$e=h,ae.p=l,K.T=a}}t.current=i,$t=2}}function x_(){if($t===2){$t=0;var t=$r,i=Za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=$e;$e|=4;try{a_(t,i.alternate,i)}finally{$e=h,ae.p=l,K.T=a}}$t=3}}function N_(){if($t===4||$t===3){$t=0,gs();var t=$r,i=Za,a=Ja,l=y_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,Za=$r=null,O_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gr=null),_a(a),i=i.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Xe,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=i,ae.p=h}}(Ja&3)!==0&&Ac(),Ci(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Td?bl++:(bl=0,Td=t):bl=0,Sl(0)}}function O_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Ac(t){return I_(),x_(),N_(),D_()}function D_(){if($t!==5)return!1;var t=$r,i=vd;vd=0;var a=_a(Ja),l=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=Ed,Ed=null;var d=$r,v=Ja;if($t=0,Za=$r=null,Ja=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,p_(d.current),f_(d,d.current,v,a),$e=T,Sl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Xe,d)}catch{}return!0}finally{ae.p=h,K.T=l,O_(t,i)}}function M_(t,i,a){i=jn(a,i),i=Jf(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(ji(t,2),Ci(t))}function et(t,i,a){if(t.tag===3)M_(t,t,a);else for(;i!==null;){if(i.tag===3){M_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=jn(a,t),a=Vy(2),l=Ur(i,a,2),l!==null&&(Ly(a,l,i,t),ji(l,2),Ci(l));break}}i=i.return}}function wd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new uS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(pd=!0,h.add(a),t=mS.bind(null,t,i,a),i.then(t,t))}function mS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Le&a)===a&&(dt===4||dt===3&&(Le&62914560)===Le&&300>yn()-_d?($e&2)===0&&eo(t,0):gd|=a,Wa===Le&&(Wa=0)),Ci(t)}function P_(t,i){i===0&&(i=Do()),t=Ua(t,i),t!==null&&(ji(t,i),Ci(t))}function pS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),P_(t,a)}function gS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),P_(t,a)}function yS(t,i){return Li(t,i)}var wc=null,no=null,Rd=!1,Rc=!1,Cd=!1,Ks=0;function Ci(t){t!==no&&t.next===null&&(no===null?wc=no=t:no=no.next=t),Rc=!0,Rd||(Rd=!0,vS())}function Sl(t,i){if(!Cd&&Rc){Cd=!0;do for(var a=!1,l=wc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Et(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,L_(l,d))}else d=Le,d=ya(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||_s(l,d)||(a=!0,L_(l,d));l=l.next}while(a);Cd=!1}}function _S(){k_()}function k_(){Rc=Rd=!1;var t=0;Ks!==0&&(CS()&&(t=Ks),Ks=0);for(var i=yn(),a=null,l=wc;l!==null;){var h=l.next,d=U_(l,i);d===0?(l.next=null,a===null?wc=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(Rc=!0)),l=h}Sl(t)}function U_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Et(d),T=1<<v,x=h[v];x===-1?((T&a)===0||(T&l)!==0)&&(h[v]=No(T,i)):x<=i&&(t.expiredLanes|=T),d&=~T}if(i=tt,a=Le,a=ya(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Bi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||_s(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Bi(l),_a(a)){case 2:case 8:a=wr;break;case 32:a=ce;break;case 268435456:a=ht;break;default:a=ce}return l=V_.bind(null,t),a=Li(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Bi(l),t.callbackPriority=2,t.callbackNode=null,2}function V_(t,i){if($t!==0&&$t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ac()&&t.callbackNode!==a)return null;var l=Le;return l=ya(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(v_(t,l,i),U_(t,yn()),t.callbackNode!=null&&t.callbackNode===a?V_.bind(null,t):null)}function L_(t,i){if(Ac())return null;v_(t,i,!0)}function vS(){xS(function(){($e&6)!==0?Li(Ar,_S):k_()})}function Id(){return Ks===0&&(Ks=Oo()),Ks}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function z_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ES(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=B_((h[Tt]||null).action),v=l.submitter;v&&(i=(i=v[Tt]||null)?B_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new wa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var x=v?z_(h,v):new FormData(h);Yf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=v?z_(h,v):new FormData(h),Yf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var xd=0;xd<df.length;xd++){var Nd=df[xd],TS=Nd.toLowerCase(),bS=Nd[0].toUpperCase()+Nd.slice(1);ei(TS,"on"+bS)}ei(vg,"onAnimationEnd"),ei(Eg,"onAnimationIteration"),ei(Tg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(B1,"onTransitionRun"),ei(z1,"onTransitionStart"),ei(j1,"onTransitionCancel"),ei(bg,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function j_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],x=T.instance,H=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Q){dc(Q)}h.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(T=l[v],x=T.instance,H=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Q){dc(Q)}h.currentTarget=null,d=x}}}}function Me(t,i){var a=i[ko];a===void 0&&(a=i[ko]=new Set);var l=t+"__bubble";a.has(l)||(H_(i,t,2,!1),a.add(l))}function Od(t,i,a){var l=0;i&&(l|=4),H_(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Dd(t){if(!t[Cc]){t[Cc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(SS.has(a)||Od(a,!1,t),Od(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,Od("selectionchange",!1,i))}}function H_(t,i,a,l){switch(fv(i)){case 2:var h=QS;break;case 8:h=WS;break;default:h=$d}a=h.bind(null,i,a,t),h=void 0,!Bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Md(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Hi(T),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue e}T=T.parentNode}}l=l.return}xu(function(){var H=d,Q=Ln(a),J=[];e:{var F=Sg.get(t);if(F!==void 0){var G=wa,be=t;switch(t){case"keypress":if(_i(a)===0)break e;case"keydown":case"keyup":G=Oa;break;case"focusin":be="focus",G=Ia;break;case"focusout":be="blur",G=Ia;break;case"beforeblur":case"afterblur":G=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Vu;break;case vg:case Eg:case Tg:G=xa;break;case bg:G=Bu;break;case"scroll":case"scrollend":G=Nu;break;case"wheel":G=Da;break;case"copy":case"cut":case"paste":G=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Yo;break;case"toggle":case"beforetoggle":G=ju}var Ee=(i&4)!==0,Je=!Ee&&(t==="scroll"||t==="scrollend"),L=Ee?F!==null?F+"Capture":null:F;Ee=[];for(var P=H,j;P!==null;){var W=P;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||L===null||(W=Rs(P,L),W!=null&&Ee.push(wl(P,W,j))),Je)break;P=P.return}0<Ee.length&&(F=new G(F,be,null,a,Q),J.push({event:F,listeners:Ee}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==$i&&(be=a.relatedTarget||a.fromElement)&&(Hi(be)||be[Un]))break e;if((G||F)&&(F=Q.window===Q?Q:(F=Q.ownerDocument)?F.defaultView||F.parentWindow:window,G?(be=a.relatedTarget||a.toElement,G=H,be=be?Hi(be):null,be!==null&&(Je=u(be),Ee=be.tag,be!==Je||Ee!==5&&Ee!==27&&Ee!==6)&&(be=null)):(G=null,be=H),G!==be)){if(Ee=zn,W="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Yo,W="onPointerLeave",L="onPointerEnter",P="pointer"),Je=G==null?F:mi(G),j=be==null?F:mi(be),F=new Ee(W,P+"leave",G,a,Q),F.target=Je,F.relatedTarget=j,W=null,Hi(Q)===H&&(Ee=new Ee(L,P+"enter",be,a,Q),Ee.target=j,Ee.relatedTarget=Je,W=Ee),Je=W,G&&be)t:{for(Ee=G,L=be,P=0,j=Ee;j;j=io(j))P++;for(j=0,W=L;W;W=io(W))j++;for(;0<P-j;)Ee=io(Ee),P--;for(;0<j-P;)L=io(L),j--;for(;P--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=io(Ee),L=io(L)}Ee=null}else Ee=null;G!==null&&q_(J,F,G,Ee,!1),be!==null&&Je!==null&&q_(J,Je,be,Ee,!0)}}e:{if(F=H?mi(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var fe=lg;else if(Nt(F))if(ug)fe=U1;else{fe=P1;var Ne=M1}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&jo(H.elementType)&&(fe=lg):fe=k1;if(fe&&(fe=fe(t,H))){Wi(J,fe,a,Q);break e}Ne&&Ne(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Or(F,"number",F.value)}switch(Ne=H?mi(H):window,t){case"focusin":(Nt(Ne)||Ne.contentEditable==="true")&&(Ma=Ne,cf=H,Wo=null);break;case"focusout":Wo=cf=Ma=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,yg(J,a,Q);break;case"selectionchange":if(L1)break;case"keydown":case"keyup":yg(J,a,Q)}var pe;if(Ti)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ue?X(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_&&a.locale!=="ko"&&(Ue||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ue&&(pe=qo()):(yi=Q,Dr="value"in yi?yi.value:yi.textContent,Ue=!0)),Ne=Ic(H,Te),0<Ne.length&&(Te=new $o(Te,t,null,a,Q),J.push({event:Te,listeners:Ne}),pe?Te.data=pe:(pe=oe(a),pe!==null&&(Te.data=pe)))),(pe=p?xt(t,a):Ve(t,a))&&(Te=Ic(H,"onBeforeInput"),0<Te.length&&(Ne=new $o("onBeforeInput","beforeinput",null,a,Q),J.push({event:Ne,listeners:Te}),Ne.data=pe)),ES(J,t,H,a,Q)}j_(J,i)})}function wl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Rs(t,a),h!=null&&l.unshift(wl(t,h,d)),h=Rs(t,i),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,x=T.alternate,H=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||H===null||(x=H,h?(H=Rs(a,d),H!=null&&v.unshift(wl(a,H,x))):h||(H=Rs(a,d),H!=null&&v.push(wl(a,H,x)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var AS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function F_(t){return(typeof t=="string"?t:""+t).replace(AS,`
`).replace(wS,"")}function G_(t,i){return i=F_(i),F_(t)===i}function xc(){}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Vn(t,""+l);break;case"className":pi(t,"class",l);break;case"tabIndex":pi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(t,a,l);break;case"style":zo(t,l,d);break;case"data":if(i!=="object"){pi(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Nr(t,"popover",l);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nf.get(a)||a,Nr(t,a,l))}}function Pd(t,i,a,l,h,d){switch(a){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&Vn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Nr(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,v,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=h=null,x=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":x=Q;break;case"defaultChecked":H=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Q,a,null)}}Ss(t,d,T,x,H,v,h,!1),Sa(t);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ze(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Gi(t,!!l,i,!1):a!=null&&Gi(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(t,i,v,T,a,null)}As(t,l,h,d),Sa(t);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,x,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Me(Al[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,H,l,a,null)}return;default:if(jo(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Pd(t,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,i,T,l,a,null))}function RS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,x=null,H=null,Q=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=J;default:l.hasOwnProperty(G)||Ze(t,i,G,null,l,J)}}for(var F in l){var G=l[F];if(J=a[F],l.hasOwnProperty(F)&&(G!=null||J!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":H=G;break;case"defaultChecked":Q=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&Ze(t,i,F,G,l,J)}}Rn(t,v,T,x,H,Q,d,h);return;case"select":G=v=T=F=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":G=x;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==x&&Ze(t,i,h,d,l,x)}i=T,a=v,l=G,F!=null?Gi(t,!!a,F,!1):!!l!=!!a&&(i!=null?Gi(t,!!a,i,!0):Gi(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,v,h,l,d)}Qe(t,F,G);return;case"option":for(var be in a)if(F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Ze(t,i,be,null,l,F)}for(x in l)if(F=l[x],G=a[x],l.hasOwnProperty(x)&&F!==G&&(F!=null||G!=null))switch(x){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ze(t,i,x,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee)&&Ze(t,i,Ee,null,l,F);for(H in l)if(F=l[H],G=a[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ze(t,i,H,F,l,G)}return;default:if(jo(i)){for(var Je in a)F=a[Je],a.hasOwnProperty(Je)&&F!==void 0&&!l.hasOwnProperty(Je)&&Pd(t,i,Je,void 0,l,F);for(Q in l)F=l[Q],G=a[Q],!l.hasOwnProperty(Q)||F===G||F===void 0&&G===void 0||Pd(t,i,Q,F,l,G);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Ze(t,i,L,null,l,F);for(J in l)F=l[J],G=a[J],!l.hasOwnProperty(J)||F===G||F==null&&G==null||Ze(t,i,J,F,l,G)}var kd=null,Ud=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function $_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Vd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ld=null;function CS(){var t=window.event;return t&&t.type==="popstate"?t===Ld?!1:(Ld=t,!0):(Ld=null,!1)}var Y_=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,xS=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(t){return X_.resolve(null).then(t).catch(NS)}:Y_;function NS(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function Q_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Rl(v.documentElement),a&2&&Rl(v.body),a&4)for(a=v.head,Rl(a),v=a.firstChild;v;){var T=v.nextSibling,x=v.nodeName;v[vs]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Pl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Pl(i)}function Bd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bd(a),xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function DS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ni(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function MS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ni(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var jd=null;function W_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Z_(t,i,a){switch(i=Nc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);xr(t)}var Kn=new Map,J_=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=ae.d;ae.d={f:PS,r:kS,D:US,C:VS,L:LS,m:BS,X:jS,S:zS,M:HS};function PS(){var t=cr.f(),i=bc();return t||i}function kS(t){var i=di(t);i!==null&&i.tag===5&&i.type==="form"?vy(i):cr.r(t)}var ro=typeof document>"u"?null:document;function ev(t,i,a){var l=ro;if(l&&typeof i=="string"&&i){var h=bt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),J_.has(h)||(J_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),yt(i),l.head.appendChild(i)))}}function US(t){cr.D(t),ev("dns-prefetch",t,null)}function VS(t,i){cr.C(t,i),ev("preconnect",t,i)}function LS(t,i,a){cr.L(t,i,a);var l=ro;if(l&&t&&i){var h='link[rel="preload"][as="'+bt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+bt(a.imageSizes)+'"]')):h+='[href="'+bt(t)+'"]';var d=h;switch(i){case"style":d=so(t);break;case"script":d=ao(t)}Kn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Kn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Kt(i,"link",t),yt(i),l.head.appendChild(i)))}}function BS(t,i){cr.m(t,i);var a=ro;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+bt(l)+'"][href="'+bt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ao(t)}if(!Kn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Kn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Kt(l,"link",t),yt(l),a.head.appendChild(l)}}}function zS(t,i,a){cr.S(t,i,a);var l=ro;if(l&&t){var h=hn(l).hoistableStyles,d=so(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Cl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Kn.get(d))&&Hd(t,a);var x=v=l.createElement("link");yt(x),Kt(x,"link",t),x._p=new Promise(function(H,Q){x.onload=H,x.onerror=Q}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Dc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function jS(t,i){cr.X(t,i);var a=ro;if(a&&t){var l=hn(a).hoistableScripts,h=ao(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=E({src:t,async:!0},i),(i=Kn.get(h))&&qd(t,i),d=a.createElement("script"),yt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function HS(t,i){cr.M(t,i);var a=ro;if(a&&t){var l=hn(a).hoistableScripts,h=ao(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Kn.get(h))&&qd(t,i),d=a.createElement("script"),yt(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function tv(t,i,a,l){var h=(h=ve.current)?Oc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=so(a.href),a=hn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var d=hn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Cl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),d||qS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ao(a),a=hn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function so(t){return'href="'+bt(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function nv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function qS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),yt(i),t.head.appendChild(i))}function ao(t){return'[src="'+bt(t)+'"]'}function Il(t){return"script[async]"+t}function iv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+bt(a.href)+'"]');if(l)return i.instance=l,yt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),yt(l),Kt(l,"style",h),Dc(l,a.precedence,t),i.instance=l;case"stylesheet":h=so(a.href);var d=t.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,yt(d),d;l=nv(a),(h=Kn.get(h))&&Hd(l,h),d=(t.ownerDocument||t).createElement("link"),yt(d);var v=d;return v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),Kt(d,"link",l),i.state.loading|=4,Dc(d,a.precedence,t),i.instance=d;case"script":return d=ao(a.src),(h=t.querySelector(Il(d)))?(i.instance=h,yt(h),h):(l=a,(h=Kn.get(d))&&(l=E({},a),qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),yt(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Dc(l,a.precedence,t));return i.instance}function Dc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Mc=null;function rv(t,i,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[vs]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function sv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function FS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function av(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function GS(){}function $S(t,i,a){if(xl===null)throw Error(s(475));var l=xl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=so(a.href),d=t.querySelector(Cl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,yt(d);return}d=t.ownerDocument||t,a=nv(a),(h=Kn.get(h))&&Hd(a,h),d=d.createElement("link"),yt(d);var v=d;v._p=new Promise(function(T,x){v.onload=T,v.onerror=x}),Kt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Pc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function KS(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&Fd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Fd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Fd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,i.forEach(YS,t),kc=null,Pc.call(t))}function YS(t,i){if(!(i.state.loading&4)){var a=kc.get(t);if(a)var l=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function XS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ov(t,i,a,l,h,d,v,T,x,H,Q,J){return t=new XS(t,i,a,v,T,x,H,J),i=1,d===!0&&(i|=24),d=In(3,null,null,i),t.current=d,d.stateNode=t,i=wf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},xf(d),t}function lv(t){return t?(t=Va,t):Va}function uv(t,i,a,l,h,d){h=lv(h),l.context===null?l.context=h:l.pendingContext=h,l=kr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,i),a!==null&&(Mn(a,t,i),al(a,t,i))}function cv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Gd(t,i){cv(t,i),(t=t.alternate)&&cv(t,i)}function hv(t){if(t.tag===13){var i=Ua(t,67108864);i!==null&&Mn(i,t,67108864),Gd(t,67108864)}}var Uc=!0;function QS(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,$d(t,i,a,l)}finally{ae.p=d,K.T=h}}function WS(t,i,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,$d(t,i,a,l)}finally{ae.p=d,K.T=h}}function $d(t,i,a,l){if(Uc){var h=Kd(l);if(h===null)Md(t,i,l,Vc,a),dv(t,l);else if(JS(h,t,i,a,l))l.stopPropagation();else if(dv(t,l),i&4&&-1<ZS.indexOf(t)){for(;h!==null;){var d=di(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Wn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var x=1<<31-Et(v);T.entanglements[1]|=x,v&=~x}Ci(d),($e&6)===0&&(Ec=yn()+500,Sl(0))}}break;case 13:T=Ua(d,2),T!==null&&Mn(T,d,2),bc(),Gd(d,2)}if(d=Kd(l),d===null&&Md(t,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Md(t,i,l,null,a)}}function Kd(t){return t=Ln(t),Yd(t)}var Vc=null;function Yd(t){if(Vc=null,t=Hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ga()){case Ar:return 2;case wr:return 8;case ce:case Ye:return 32;case ht:return 268435456;default:return 32}default:return 32}}var Xd=!1,Xr=null,Qr=null,Wr=null,Ol=new Map,Dl=new Map,Zr=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(t,i){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=di(i),i!==null&&hv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function JS(t,i,a,l,h){switch(i){case"focusin":return Xr=Ml(Xr,t,i,a,l,h),!0;case"dragenter":return Qr=Ml(Qr,t,i,a,l,h),!0;case"mouseover":return Wr=Ml(Wr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Ml(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ml(Dl.get(d)||null,t,i,a,l,h)),!0}return!1}function mv(t){var i=Hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,bu(t.priority,function(){if(a.tag===13){var l=Dn();l=Rr(l);var h=Ua(a,l);h!==null&&Mn(h,a,l),Gd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$i=l,a.target.dispatchEvent(l),$i=null}else return i=di(a),i!==null&&hv(i),t.blockedOn=a,!1;i.shift()}return!0}function pv(t,i,a){Lc(t)&&a.delete(i)}function eA(){Xd=!1,Xr!==null&&Lc(Xr)&&(Xr=null),Qr!==null&&Lc(Qr)&&(Qr=null),Wr!==null&&Lc(Wr)&&(Wr=null),Ol.forEach(pv),Dl.forEach(pv)}function Bc(t,i){t.blockedOn===i&&(t.blockedOn=null,Xd||(Xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eA)))}var zc=null;function gv(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Yd(l||a)===null)continue;break}var d=di(a);d!==null&&(t.splice(i,3),i-=3,Yf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pl(t){function i(x){return Bc(x,t)}Xr!==null&&Bc(Xr,t),Qr!==null&&Bc(Qr,t),Wr!==null&&Bc(Wr,t),Ol.forEach(i),Dl.forEach(i);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)mv(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Tt]||null;if(typeof d=="function")v||gv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Tt]||null)T=v.formAction;else if(Yd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),gv(a)}}}function Qd(t){this._internalRoot=t}jc.prototype.render=Qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Dn();uv(a,l,t,i,null,null)},jc.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;uv(t.current,2,null,t,null,null),bc(),i[Un]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Zr.length&&i!==0&&i<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&mv(t)}};var yv=e.version;if(yv!=="19.1.0")throw Error(s(527,yv,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var tA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{Xe=Hc.inject(tA),ke=Hc}catch{}}return Ul.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=My,d=Py,v=ky,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=ov(t,1,!1,null,null,a,l,h,d,v,T,null),t[Un]=i.current,Dd(t),new Qd(i)},Ul.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=My,v=Py,T=ky,x=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=ov(t,1,!0,i,a??null,l,h,d,v,T,x,H),i.context=lv(null),a=i.current,l=Dn(),l=Rr(l),h=kr(l),h.callback=null,Ur(a,h,l),a=l,i.current.lanes=a,ji(i,a),Ci(i),t[Un]=i.current,Dd(t),new jc(i)},Ul.version="19.1.0",Ul}var Cv;function hA(){if(Cv)return Jd.exports;Cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jd.exports=cA(),Jd.exports}var fA=hA();const dA=y0(fA);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Iv="popstate";function mA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Rm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Xl(o)}return gA(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Mi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pA(){return Math.random().toString(36).substring(2,10)}function xv(r,e){return{usr:r.state,key:r.key,idx:e}}function Rm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:n,key:e&&e.key||s||pA()}}function Xl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function wo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function gA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let q=E(),$=q==null?null:q-g;g=q,y&&y({action:m,location:z.location,delta:$})}function R(q,$){m="PUSH";let ie=Rm(z.location,q,$);g=E()+1;let te=xv(ie,g),ue=z.createHref(ie);try{f.pushState(te,"",ue)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(ue)}u&&y&&y({action:m,location:z.location,delta:1})}function V(q,$){m="REPLACE";let ie=Rm(z.location,q,$);g=E();let te=xv(ie,g),ue=z.createHref(ie);f.replaceState(te,"",ue),u&&y&&y({action:m,location:z.location,delta:0})}function U(q){return yA(q)}let z={get action(){return m},get location(){return r(o,f)},listen(q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Iv,A),y=q,()=>{o.removeEventListener(Iv,A),y=null}},createHref(q){return e(o,q)},createURL:U,encodeLocation(q){let $=U(q);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:V,go(q){return f.go(q)}};return z}function yA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Xl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function v0(r,e,n="/"){return _A(r,e,n,!1)}function _A(r,e,n,s){let o=typeof e=="string"?wo(e):e,u=vr(o.pathname||"/",n);if(u==null)return null;let f=E0(r);vA(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=NA(u);m=IA(f[y],g,s)}return m}function E0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(ct(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let g=mr([s,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),E0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:RA(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of T0(u.path))o(u,f,m)}),e}function T0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=T0(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function vA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:CA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var EA=/^:[\w-]+$/,TA=3,bA=2,SA=1,AA=10,wA=-2,Nv=r=>r==="*";function RA(r,e){let n=r.split("/"),s=n.length;return n.some(Nv)&&(s+=wA),e&&(s+=bA),n.filter(o=>!Nv(o)).reduce((o,u)=>o+(EA.test(u)?TA:u===""?SA:AA),s)}function CA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function IA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=hh({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),R=y.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=hh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:mr([u,A.pathname]),pathnameBase:PA(mr([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=mr([u,A.pathnameBase]))}return f}function hh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=xA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},R)=>{if(E==="*"){let U=m[R]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const V=m[R];return A&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function xA(r,e=!1,n=!0){Mi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function NA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function vr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function OA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?wo(r):r;return{pathname:n?n.startsWith("/")?n:DA(n,e):e,search:kA(s),hash:UA(o)}}function DA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function im(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function b0(r){let e=MA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function S0(r,e,n,s=!1){let o;typeof r=="string"?o=wo(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),im("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),im("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),im("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?e[A]:"/"}let y=OA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var mr=r=>r.join("/").replace(/\/\/+/g,"/"),PA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,UA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function VA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var A0=["POST","PUT","PATCH","DELETE"];new Set(A0);var LA=["GET",...A0];new Set(LA);var Ro=S.createContext(null);Ro.displayName="DataRouter";var Mh=S.createContext(null);Mh.displayName="DataRouterState";S.createContext(!1);var w0=S.createContext({isTransitioning:!1});w0.displayName="ViewTransition";var BA=S.createContext(new Map);BA.displayName="Fetchers";var zA=S.createContext(null);zA.displayName="Await";var Ui=S.createContext(null);Ui.displayName="Navigation";var iu=S.createContext(null);iu.displayName="Location";var Sr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var tp=S.createContext(null);tp.displayName="RouteError";function jA(r,{relative:e}={}){ct(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(Ui),{hash:o,pathname:u,search:f}=su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:mr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ru(){return S.useContext(iu)!=null}function ha(){return ct(ru(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(iu).location}var R0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C0(r){S.useContext(Ui).static||S.useLayoutEffect(r)}function HA(){let{isDataRoute:r}=S.useContext(Sr);return r?tw():qA()}function qA(){ct(ru(),"useNavigate() may be used only in the context of a <Router> component.");let r=S.useContext(Ro),{basename:e,navigator:n}=S.useContext(Ui),{matches:s}=S.useContext(Sr),{pathname:o}=ha(),u=JSON.stringify(b0(s)),f=S.useRef(!1);return C0(()=>{f.current=!0}),S.useCallback((y,g={})=>{if(Mi(f.current,R0),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=S0(y,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:mr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}S.createContext(null);function su(r,{relative:e}={}){let{matches:n}=S.useContext(Sr),{pathname:s}=ha(),o=JSON.stringify(b0(n));return S.useMemo(()=>S0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function FA(r,e){return I0(r,e)}function I0(r,e,n,s){ct(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(Ui),{matches:u}=S.useContext(Sr),f=u[u.length-1],m=f?f.params:{},y=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let $=E&&E.path||"";x0(y,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let A=ha(),R;if(e){let $=typeof e=="string"?wo(e):e;ct(g==="/"||$.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${$.pathname}" was given in the \`location\` prop.`),R=$}else R=A;let V=R.pathname||"/",U=V;if(g!=="/"){let $=g.replace(/^\//,"").split("/");U="/"+V.replace(/^\//,"").split("/").slice($.length).join("/")}let z=v0(r,{pathname:U});Mi(E||z!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Mi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=XA(z&&z.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:mr([g,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:mr([g,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,n,s);return e&&q?S.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},q):q}function GA(){let r=ew(),e=VA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:u},"ErrorBoundary")," or"," ",S.createElement("code",{style:u},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:o},n):null,f)}var $A=S.createElement(GA,null),KA=class extends S.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?S.createElement(Sr.Provider,{value:this.props.routeContext},S.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YA({routeContext:r,match:e,children:n}){let s=S.useContext(Ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Sr.Provider,{value:r},n)}function XA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let y=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:E,errors:A}=n,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,g,E)=>{let A,R=!1,V=null,U=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,V=g.route.errorElement||$A,f&&(m<0&&E===0?(x0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,U=null):m===E&&(R=!0,U=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,E+1)),q=()=>{let $;return A?$=V:R?$=U:g.route.Component?$=S.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=y,S.createElement(YA,{match:g,routeContext:{outlet:y,matches:z,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?S.createElement(KA,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:q(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):q()},null)}function np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QA(r){let e=S.useContext(Ro);return ct(e,np(r)),e}function WA(r){let e=S.useContext(Mh);return ct(e,np(r)),e}function ZA(r){let e=S.useContext(Sr);return ct(e,np(r)),e}function ip(r){let e=ZA(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function JA(){return ip("useRouteId")}function ew(){let r=S.useContext(tp),e=WA("useRouteError"),n=ip("useRouteError");return r!==void 0?r:e.errors?.[n]}function tw(){let{router:r}=QA("useNavigate"),e=ip("useNavigate"),n=S.useRef(!1);return C0(()=>{n.current=!0}),S.useCallback(async(o,u={})=>{Mi(n.current,R0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Ov={};function x0(r,e,n){!e&&!Ov[r]&&(Ov[r]=!0,Mi(!1,n))}S.memo(nw);function nw({routes:r,future:e,state:n}){return I0(r,void 0,n,e)}function hr(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ct(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=S.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=wo(n));let{pathname:y="/",search:g="",hash:E="",state:A=null,key:R="default"}=n,V=S.useMemo(()=>{let U=vr(y,f);return U==null?null:{location:{pathname:U,search:g,hash:E,state:A,key:R},navigationType:s}},[f,y,g,E,A,R,s]);return Mi(V!=null,`<Router basename="${f}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:S.createElement(Ui.Provider,{value:m},S.createElement(iu.Provider,{children:e,value:V}))}function rw({children:r,location:e}){return FA(Cm(r),e)}function Cm(r,e=[]){let n=[];return S.Children.forEach(r,(s,o)=>{if(!S.isValidElement(s))return;let u=[...e,o];if(s.type===S.Fragment){n.push.apply(n,Cm(s.props.children,u));return}ct(s.type===hr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Cm(s.props.children,u)),n.push(f)}),n}var Jc="get",eh="application/x-www-form-urlencoded";function Ph(r){return r!=null&&typeof r.tagName=="string"}function sw(r){return Ph(r)&&r.tagName.toLowerCase()==="button"}function aw(r){return Ph(r)&&r.tagName.toLowerCase()==="form"}function ow(r){return Ph(r)&&r.tagName.toLowerCase()==="input"}function lw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uw(r,e){return r.button===0&&(!e||e==="_self")&&!lw(r)}var qc=null;function cw(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rm(r){return r!=null&&!hw.has(r)?(Mi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):r}function fw(r,e){let n,s,o,u,f;if(aw(r)){let m=r.getAttribute("action");s=m?vr(m,e):null,n=r.getAttribute("method")||Jc,o=rm(r.getAttribute("enctype"))||eh,u=new FormData(r)}else if(sw(r)||ow(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?vr(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=rm(r.getAttribute("formenctype"))||rm(m.getAttribute("enctype"))||eh,u=new FormData(m,r),!cw()){let{name:g,type:E,value:A}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,A)}}else{if(Ph(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jc,s=null,o=eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function dw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&vr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function mw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await mw(u,n);return f.links?f.links():[]}return[]}));return Ew(s.flat(1).filter(pw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Dv(r,e,n,s,o,u){let f=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,m=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,g)=>f(y,g)||m(y,g)):u==="data"?e.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function yw(r,e,{includeHydrateFallback:n}={}){return _w(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _w(r){return[...new Set(r)]}function vw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Ew(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(vw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function N0(){let r=S.useContext(Ro);return rp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Tw(){let r=S.useContext(Mh);return rp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sp=S.createContext(void 0);sp.displayName="FrameworkContext";function O0(){let r=S.useContext(sp);return rp(r,"You must render this element inside a <HydratedRouter> element"),r}function bw(r,e){let n=S.useContext(sp),[s,o]=S.useState(!1),[u,f]=S.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,R=S.useRef(null);S.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let z=$=>{$.forEach(ie=>{f(ie.isIntersecting)})},q=new IntersectionObserver(z,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),S.useEffect(()=>{if(s){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[s]);let V=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Vl(m,V),onBlur:Vl(y,U),onMouseEnter:Vl(g,V),onMouseLeave:Vl(E,U),onTouchStart:Vl(A,V)}]:[!1,R,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Sw({page:r,...e}){let{router:n}=N0(),s=S.useMemo(()=>v0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?S.createElement(ww,{page:r,matches:s,...e}):null}function Aw(r){let{manifest:e,routeModules:n}=O0(),[s,o]=S.useState([]);return S.useEffect(()=>{let u=!1;return gw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function ww({page:r,matches:e,...n}){let s=ha(),{manifest:o,routeModules:u}=O0(),{basename:f}=N0(),{loaderData:m,matches:y}=Tw(),g=S.useMemo(()=>Dv(r,e,y,o,s,"data"),[r,e,y,o,s]),E=S.useMemo(()=>Dv(r,e,y,o,s,"assets"),[r,e,y,o,s]),A=S.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,z=!1;if(e.forEach($=>{let ie=o.routes[$.route.id];!ie||!ie.hasLoader||(!g.some(te=>te.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||ie.hasClientLoader?z=!0:U.add($.route.id))}),U.size===0)return[];let q=dw(r,f,"data");return z&&U.size>0&&q.searchParams.set("_routes",e.filter($=>U.has($.route.id)).map($=>$.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,e,r,u]),R=S.useMemo(()=>yw(E,o),[E,o]),V=Aw(E);return S.createElement(S.Fragment,null,A.map(U=>S.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),R.map(U=>S.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),V.map(({key:U,link:z})=>S.createElement("link",{key:U,...z})))}function Rw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var D0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D0&&(window.__reactRouterVersion="7.7.0")}catch{}function Cw({basename:r,children:e,window:n}){let s=S.useRef();s.current==null&&(s.current=mA({window:n,v5Compat:!0}));let o=s.current,[u,f]=S.useState({action:o.action,location:o.location}),m=S.useCallback(y=>{S.startTransition(()=>f(y))},[f]);return S.useLayoutEffect(()=>o.listen(m),[o,m]),S.createElement(iw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var M0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pn=S.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:g,preventScrollReset:E,viewTransition:A,...R},V){let{basename:U}=S.useContext(Ui),z=typeof g=="string"&&M0.test(g),q,$=!1;if(typeof g=="string"&&z&&(q=g,D0))try{let C=new URL(window.location.href),M=g.startsWith("//")?new URL(C.protocol+g):new URL(g),D=vr(M.pathname,U);M.origin===C.origin&&D!=null?g=D+M.search+M.hash:$=!0}catch{Mi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=jA(g,{relative:o}),[te,ue,le]=bw(s,R),he=Ow(g,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:A});function N(C){e&&e(C),C.defaultPrevented||he(C)}let w=S.createElement("a",{...R,...le,href:q||ie,onClick:$||u?e:N,ref:Rw(V,ue),target:y,"data-discover":!z&&n==="render"?"true":void 0});return te&&!z?S.createElement(S.Fragment,null,w,S.createElement(Sw,{page:ie})):w});Pn.displayName="Link";var Iw=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...g},E){let A=su(f,{relative:g.relative}),R=ha(),V=S.useContext(Mh),{navigator:U,basename:z}=S.useContext(Ui),q=V!=null&&Uw(A)&&m===!0,$=U.encodeLocation?U.encodeLocation(A).pathname:A.pathname,ie=R.pathname,te=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),te=te?te.toLowerCase():null,$=$.toLowerCase()),te&&z&&(te=vr(te,z)||te);const ue=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let le=ie===$||!o&&ie.startsWith($)&&ie.charAt(ue)==="/",he=te!=null&&(te===$||!o&&te.startsWith($)&&te.charAt($.length)==="/"),N={isActive:le,isPending:he,isTransitioning:q},w=le?e:void 0,C;typeof s=="function"?C=s(N):C=[s,le?"active":null,he?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(N):u;return S.createElement(Pn,{...g,"aria-current":w,className:C,ref:E,style:M,to:f,viewTransition:m},typeof y=="function"?y(N):y)});Iw.displayName="NavLink";var xw=S.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Jc,action:m,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:A,...R},V)=>{let U=Pw(),z=kw(m,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&M0.test(m),ie=te=>{if(y&&y(te),te.defaultPrevented)return;te.preventDefault();let ue=te.nativeEvent.submitter,le=ue?.getAttribute("formmethod")||f;U(ue||te.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return S.createElement("form",{ref:V,method:q,action:z,onSubmit:s?y:ie,...R,"data-discover":!$&&r==="render"?"true":void 0})});xw.displayName="Form";function Nw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P0(r){let e=S.useContext(Ro);return ct(e,Nw(r)),e}function Ow(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=HA(),y=ha(),g=su(r,{relative:u});return S.useCallback(E=>{if(uw(E,e)){E.preventDefault();let A=n!==void 0?n:Xl(y)===Xl(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,g,n,s,e,r,o,u,f])}var Dw=0,Mw=()=>`__${String(++Dw)}__`;function Pw(){let{router:r}=P0("useSubmit"),{basename:e}=S.useContext(Ui),n=JA();return S.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:g}=fw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Mw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function kw(r,{relative:e}={}){let{basename:n}=S.useContext(Ui),s=S.useContext(Sr);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:e})},f=ha();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mr([n,u.pathname])),Xl(u)}function Uw(r,e={}){let n=S.useContext(w0);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=P0("useViewTransitionState"),o=su(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}var Vw=_0();const k0="/assets/iwata-lKbIFHh-.jpg",U0="/assets/photoshop-BO87tPHN.jpg",V0="/assets/tattoomachine-CwHZE1Hq.jpg",Mv=[k0,U0,V0];function Lw(){const[r,e]=S.useState(0);return S.useEffect(()=>{const n=setInterval(()=>{e(s=>(s+1)%Mv.length)},3e3);return()=>clearInterval(n)},[]),Y.jsxs("section",{className:"relative w-full h-[90vh] md:h-screen bg-black overflow-hidden",children:[Mv.map((n,s)=>Y.jsx("img",{src:n,alt:`Hero Background ${s+1}`,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${s===r?"opacity-40":"opacity-0"}`},s)),Y.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-white text-center px-4",children:[Y.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 sm:mb-4",children:"AIRBRUSH & INK"}),Y.jsx("p",{className:"text-base sm:text-lg md:text-xl max-w-md sm:max-w-lg mb-6 sm:mb-8",children:"Unique visuals and layered detail in every piece. Explore the work."})]})]})}function Bw(){return Y.jsxs("section",{className:"text-white text-center mt-8 px-6 max-w-3xl mx-auto z-10 relative mb-8",children:[Y.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-4",children:"Who Am I?"}),Y.jsx("p",{className:"text-base sm:text-lg md:text-[1.1rem] leading-relaxed text-[#ddd]",children:"I'm not here to blend in — I'm here to create something that stops you in your tracks. Every piece I make is a mix of instinct, emotion, and obsession with detail. Whether it's airbrush, ink, or canvas, I bring raw ideas to life with color, contrast, and movement. Art isn’t just what I do — it’s how I communicate when words fall short. If you're into bold visuals, clean lines, and work that tells a story, you're in the right place. Take a look around — you’ll see exactly what I mean."})]})}function Pv({text:r,show:e}){const n=`
    absolute left-1/2 -translate-x-1/2 
    flex items-center justify-center 
    font-black tracking-[0.08em] uppercase 
    text-white/5 whitespace-nowrap 
    select-none pointer-events-none 
    z-[-1] transition-all duration-700 ease-in-out
  `,s=r==="& INK"?"top-[20%] sm:top-[20%] md:top-[15%] lg:top-[22%] -translate-y-1/2":r==="AIRBRUSH"?"top-1/2 -translate-y-1/2":"top-[5%]",o=r==="& INK"?"text-[35vw] sm:text-[25vw] md:text-[20vw] lg:text-[20vw]":r==="AIRBRUSH"?"text-[25vw] sm:text-[19vw] md:text-[17vw] lg:text-[17vw]":"text-[14vw] sm:text-[16vw] md:text-[18vw]",u=e?"opacity-100":"opacity-0";return Y.jsx("div",{className:"absolute inset-0 w-full pointer-events-none z-[-1]",children:Y.jsx("div",{className:`${n} ${s} ${o} ${u} max-w-full overflow-hidden text-center`,children:r})})}function sm({title:r,description:e,image:n,link:s,tag:o}){return Y.jsxs(Pn,{to:s,className:"rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition duration-300 w-full sm:w-[300px] md:w-[320px] flex flex-col",children:[Y.jsxs("div",{className:"relative",children:[o&&Y.jsx("span",{className:"absolute top-2 left-2 bg-black text-white/10 text-xs px-2 py-1 rounded",children:o.toUpperCase()}),Y.jsx("img",{src:n,alt:r,className:"w-full h-48 object-cover opacity-80"})]}),Y.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[Y.jsx("h3",{className:"text-white text-lg font-semibold",children:r}),Y.jsx("p",{className:"text-sm text-gray-300 mt-1 mb-3 flex-grow",children:e}),Y.jsx("hr",{className:"border-gray-700 my-2"}),Y.jsxs("div",{className:"flex justify-between text-sm text-white font-semibold",children:[Y.jsx("span",{children:"Explore"}),Y.jsx("span",{children:"Details"})]})]})]})}function zw(){return Y.jsx("div",{className:"w-full flex justify-center items-center mt-[-18vh] sm:mt-[-5vh] md:mt-[-6vh] lg:mt-[-15vh] xl:mt-[-15vh] mb-[1.5vh] z-20 relative",children:Y.jsx(Pn,{to:"/portfolio",className:"inline-block bg-black text-white text-sm sm:text-base uppercase font-semibold tracking-wide sm:tracking-wider py-2.5 px-6 sm:py-3 sm:px-8 rounded-md transition duration-300 hover:bg-[#222] shadow-lg",children:"CHECK OUT MY PORTFOLIO"})})}const jw="/assets/airbrushing-DD5v0QP3.jpg",Hw="/assets/ps-logo-CZrXkQ3k.jpg",qw="/assets/tattooing-CvF9Nw9R.jpg";function Fw(){const r=[k0,U0,V0],[e,n]=S.useState(0),s=S.useRef(null),o=S.useRef(null),[u,f]=S.useState(!1),[m,y]=S.useState(!1);return S.useEffect(()=>{const g=setInterval(()=>{n(E=>(E+1)%r.length)},5e3);return()=>clearInterval(g)},[]),S.useEffect(()=>{const g=new IntersectionObserver(([A])=>f(A.isIntersecting),{threshold:.2}),E=s.current;return E&&g.observe(E),()=>E&&g.unobserve(E)},[]),S.useEffect(()=>{const g=new IntersectionObserver(([A])=>y(A.isIntersecting),{threshold:.05}),E=o.current;return E&&g.observe(E),()=>E&&g.unobserve(E)},[]),Y.jsxs("div",{className:"relative z-0",children:[Y.jsx(Lw,{currentImage:r[e]}),Y.jsxs("section",{className:"relative min-h-[40vh] pt-10",ref:s,children:[Y.jsx(Pv,{text:"AIRBRUSH",show:u}),Y.jsx(Bw,{})]}),Y.jsx("section",{className:"relative z-10 mt-[2vh] px-8 pt-0 pb-16",children:Y.jsxs("div",{className:"flex flex-wrap justify-center gap-8",children:[Y.jsx(sm,{tag:"AIRBRUSH",title:"Custom Airbrush",description:"Whether you have a specific concept in mind...",image:jw,link:"/portfolio/airbrush"}),Y.jsx(sm,{tag:"DIGITAL",title:"Photoshop/Digital Art",description:"Every tattoo and individual is unique...",image:Hw,link:"/portfolio/photoshop"}),Y.jsx(sm,{tag:"TATTOO",title:"Custom Tattoo Design",description:"Whether you envision a full sleeve or half sleeve...",image:qw,link:"/portfolio/tattoos"})]})}),Y.jsxs("section",{className:`relative min-h-[30vh] sm:min-h-[15vh] md:min-h-[20vh] lg:min-h-[33vh] \r
  flex flex-col justify-center \r
  items-center pb-[4vh] overflow-visible\r
  pt-[8vh] sm:pt-[6vh] md:pt-[4vh] lg:pt-[2vh]\r
  pb-[8vh] sm:pb-[6vh] md:pb-[3vh] lg:pb-[2vh] `,ref:o,children:[Y.jsx("div",{className:"w-full overflow-x-hidden",children:Y.jsx(Pv,{text:"& INK",show:m})}),Y.jsx("div",{className:"relative z-10 flex justify-center items-center h-full pt-[8vh] sm:pt-[1vh] md:pt-[4vh] lg:pt-[2vh] pb-[2vh] sm:pb-[6vh] md:pb-[4vh] lg:pb-[1vh]",children:Y.jsx(zw,{})})]})]})}function Gw(){return Y.jsxs("div",{className:"py-12 px-8 text-center text-white min-h-screen bg-gradient-to-r from-black to-gray-800",children:[Y.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Portfolio"}),Y.jsx("p",{className:"text-lg mb-8",children:"Select a category to see the work:"}),Y.jsxs("div",{className:"grid gap-8 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 animate-fadeSlideUp",children:[Y.jsxs(Pn,{to:"/portfolio/airbrush",className:"block bg-[#1c1c1c] p-8 rounded-xl shadow-md hover:bg-[#333] hover:shadow-lg transform transition duration-300 hover:-translate-y-1",children:[Y.jsx("span",{role:"img","aria-label":"Airbrush",className:"text-3xl",children:"🎨"}),Y.jsx("span",{className:"block mt-2 text-xl",children:"Airbrush"})]}),Y.jsxs(Pn,{to:"/portfolio/photoshop",className:"block bg-[#1c1c1c] p-8 rounded-xl shadow-md hover:bg-[#333] hover:shadow-lg transform transition duration-300 hover:-translate-y-1",children:[Y.jsx("span",{role:"img","aria-label":"Photoshop",className:"text-3xl",children:"💻"}),Y.jsx("span",{className:"block mt-2 text-xl",children:"Photoshop"})]}),Y.jsxs(Pn,{to:"/portfolio/tattoos",className:"block bg-[#1c1c1c] p-8 rounded-xl shadow-md hover:bg-[#333] hover:shadow-lg transform transition duration-300 hover:-translate-y-1",children:[Y.jsx("span",{role:"img","aria-label":"Tattoos",className:"text-3xl",children:"🖋️"}),Y.jsx("span",{className:"block mt-2 text-xl",children:"Tattoos"})]})]})]})}const $w=()=>{};var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Kw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},B0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,V=g&63;y||(V=64,f||(R=64)),s.push(n[E],n[A],n[R],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(L0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Kw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new Yw;const R=u<<2|m>>4;if(s.push(R),g!==64){const V=m<<4&240|g>>2;if(s.push(V),A!==64){const U=g<<6&192|A;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Yw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xw=function(r){const e=L0(r);return B0.encodeByteArray(e,!0)},fh=function(r){return Xw(r).replace(/\./g,"")},z0=function(r){try{return B0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=()=>Qw().__FIREBASE_DEFAULTS__,Zw=()=>{if(typeof process>"u"||typeof kv>"u")return;const r=kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Jw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&z0(r[1]);return e&&JSON.parse(e)},kh=()=>{try{return $w()||Ww()||Zw()||Jw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j0=r=>kh()?.emulatorHosts?.[r],H0=r=>{const e=j0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},q0=()=>kh()?.config,F0=r=>kh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ap(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}const jl={};function tR(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function nR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Uv=!1;function op(r,e){if(typeof window>"u"||typeof document>"u"||!ms(window.location.host)||jl[r]===e||jl[r]||Uv)return;jl[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=tR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,V){R.setAttribute("width","24"),R.setAttribute("id",V),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Uv=!0,f()},R}function E(R,V){R.setAttribute("id",V),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=nR(s),V=n("text"),U=document.getElementById(V)||document.createElement("span"),z=n("learnmore"),q=document.getElementById(z)||document.createElement("a"),$=n("preprendIcon"),ie=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const te=R.element;m(te),E(q,z);const ue=g();y(ie,$),te.append(ie,U,q,ue),document.body.appendChild(te)}u?(U.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function rR(){const r=kh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lR(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cR(){try{return typeof indexedDB=="object"}catch{return!1}}function hR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="FirebaseError";class Vi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=fR,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?dR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Vi(o,m,s)}}function dR(r,e){return r.replace(mR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mR=/\{\$([^}]+)}/g;function pR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ia(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Vv(u)&&Vv(f)){if(!ia(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Vv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gR(r,e){const n=new yR(r,e);return n.subscribe.bind(n)}class yR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");_R(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=am),o.error===void 0&&(o.error=am),o.complete===void 0&&(o.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _R(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(r){return r&&r._delegate?r._delegate:r}class us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new eR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TR(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(r){return r===Xs?void 0:r}function TR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const SR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},AR=Pe.INFO,wR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},RR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=wR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lp{constructor(e){this.name=e,this._logLevel=AR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const CR=(r,e)=>e.some(n=>r instanceof n);let Lv,Bv;function IR(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xR(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,Im=new WeakMap,K0=new WeakMap,om=new WeakMap,up=new WeakMap;function NR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(as(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&$0.set(n,r)}).catch(()=>{}),up.set(e,r),e}function OR(r){if(Im.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Im.set(r,e)}let xm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Im.get(r);if(e==="objectStoreNames")return r.objectStoreNames||K0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DR(r){xm=r(xm)}function MR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(lm(this),e,...n);return K0.set(s,e.sort?e.sort():[e]),as(s)}:xR().includes(r)?function(...e){return r.apply(lm(this),e),as($0.get(this))}:function(...e){return as(r.apply(lm(this),e))}}function PR(r){return typeof r=="function"?MR(r):(r instanceof IDBTransaction&&OR(r),CR(r,IR())?new Proxy(r,xm):r)}function as(r){if(r instanceof IDBRequest)return NR(r);if(om.has(r))return om.get(r);const e=PR(r);return e!==r&&(om.set(r,e),up.set(e,r)),e}const lm=r=>up.get(r);function kR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=as(f);return s&&f.addEventListener("upgradeneeded",y=>{s(as(f.result),y.oldVersion,y.newVersion,as(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const UR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],um=new Map;function zv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=VR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||UR.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return um.set(e,u),u}DR(r=>({...r,get:(e,n,s)=>zv(e,n)||r.get(e,n,s),has:(e,n)=>!!zv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function BR(r){return r.getComponent()?.type==="VERSION"}const Nm="@firebase/app",jv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new lp("@firebase/app"),zR="@firebase/app-compat",jR="@firebase/analytics-compat",HR="@firebase/analytics",qR="@firebase/app-check-compat",FR="@firebase/app-check",GR="@firebase/auth",$R="@firebase/auth-compat",KR="@firebase/database",YR="@firebase/data-connect",XR="@firebase/database-compat",QR="@firebase/functions",WR="@firebase/functions-compat",ZR="@firebase/installations",JR="@firebase/installations-compat",eC="@firebase/messaging",tC="@firebase/messaging-compat",nC="@firebase/performance",iC="@firebase/performance-compat",rC="@firebase/remote-config",sC="@firebase/remote-config-compat",aC="@firebase/storage",oC="@firebase/storage-compat",lC="@firebase/firestore",uC="@firebase/ai",cC="@firebase/firestore-compat",hC="firebase",fC="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]",dC={[Nm]:"fire-core",[zR]:"fire-core-compat",[HR]:"fire-analytics",[jR]:"fire-analytics-compat",[FR]:"fire-app-check",[qR]:"fire-app-check-compat",[GR]:"fire-auth",[$R]:"fire-auth-compat",[KR]:"fire-rtdb",[YR]:"fire-data-connect",[XR]:"fire-rtdb-compat",[QR]:"fire-fn",[WR]:"fire-fn-compat",[ZR]:"fire-iid",[JR]:"fire-iid-compat",[eC]:"fire-fcm",[tC]:"fire-fcm-compat",[nC]:"fire-perf",[iC]:"fire-perf-compat",[rC]:"fire-rc",[sC]:"fire-rc-compat",[aC]:"fire-gcs",[oC]:"fire-gcs-compat",[lC]:"fire-fst",[cC]:"fire-fst-compat",[uC]:"fire-vertex","fire-js":"fire-js",[hC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,mC=new Map,Dm=new Map;function Hv(r,e){try{r.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ra(r){const e=r.name;if(Dm.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,r);for(const n of dh.values())Hv(n,r);for(const n of mC.values())Hv(n,r);return!0}function Uh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function si(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new au("app","Firebase",pC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=fC;function Y0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Om,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=q0()),!n)throw os.create("no-options");const u=dh.get(o);if(u){if(ia(n,u.options)&&ia(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const f=new bR(o);for(const y of Dm.values())f.addComponent(y);const m=new gC(n,s,f);return dh.set(o,m),m}function cp(r=Om){const e=dh.get(r);if(!e&&r===Om&&q0())return Y0();if(!e)throw os.create("no-app",{appName:r});return e}function Ni(r,e,n){let s=dC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(f.join(" "));return}ra(new us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebase-heartbeat-database",_C=1,Ql="firebase-heartbeat-store";let cm=null;function X0(){return cm||(cm=kR(yC,_C,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw os.create("idb-open",{originalErrorMessage:r.message})})),cm}async function vC(r){try{const n=(await X0()).transaction(Ql),s=await n.objectStore(Ql).get(Q0(r));return await n.done,s}catch(e){if(e instanceof Vi)Er.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e?.message});Er.warn(n.message)}}}async function qv(r,e){try{const s=(await X0()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,Q0(r)),await s.done}catch(n){if(n instanceof Vi)Er.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n?.message});Er.warn(s.message)}}}function Q0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=1024,TC=30;class bC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>TC){const o=wC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fv(),{heartbeatsToSend:n,unsentEntries:s}=SC(this._heartbeatsCache.heartbeats),o=fh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Er.warn(e),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function SC(r,e=EC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Gv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Gv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class AC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cR()?hR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gv(r){return fh(JSON.stringify({version:2,heartbeats:r})).length}function wC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(r){ra(new us("platform-logger",e=>new LR(e),"PRIVATE")),ra(new us("heartbeat",e=>new bC(e),"PRIVATE")),Ni(Nm,jv,r),Ni(Nm,jv,"esm2020"),Ni("fire-js","")}RC("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="firebasestorage.googleapis.com",Z0="storageBucket",CC=2*60*1e3,IC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Vi{constructor(e,n,s=0){super(hm(e),`Firebase Storage: ${n} (${hm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function hm(r){return"storage/"+r}function hp(){const r="An unknown error occurred, please check the error payload for server response.";return new gt(pt.UNKNOWN,r)}function xC(r){return new gt(pt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function NC(r){return new gt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OC(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(pt.UNAUTHENTICATED,r)}function DC(){return new gt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function MC(r){return new gt(pt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function PC(){return new gt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kC(){return new gt(pt.CANCELED,"User canceled the upload/download.")}function UC(r){return new gt(pt.INVALID_URL,"Invalid URL '"+r+"'.")}function VC(r){return new gt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function LC(){return new gt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Z0+"' property when initializing the app?")}function BC(){return new gt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zC(){return new gt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jC(r){return new gt(pt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mm(r){return new gt(pt.INVALID_ARGUMENT,r)}function J0(){return new gt(pt.APP_DELETED,"The Firebase app was deleted.")}function HC(r){return new gt(pt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hl(r,e){return new gt(pt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Ll(r){throw new gt(pt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=gn.makeFromUrl(e,n)}catch{return new gn(e,"")}if(s.path==="")return s;throw VC(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",V=new RegExp(`^https?://${A}/${E}/b/${o}/o${R}`,"i"),U={bucket:1,path:3},z=n===W0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,q="([^?#]*)",$=new RegExp(`^https?://${z}/${o}/${q}`,"i"),te=[{regex:m,indices:y,postModify:u},{regex:V,indices:U,postModify:g},{regex:$,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<te.length;ue++){const le=te[ue],he=le.regex.exec(e);if(he){const N=he[le.indices.bucket];let w=he[le.indices.path];w||(w=""),s=new gn(N,w),le.postModify(s);break}}if(s==null)throw UC(e);return s}}class qC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function y(){return m===2}let g=!1;function E(...q){g||(g=!0,e.apply(null,q))}function A(q){o=setTimeout(()=>{o=null,r(V,y())},q)}function R(){u&&clearTimeout(u)}function V(q,...$){if(g){R();return}if(q){R(),E.call(null,q,...$);return}if(y()||f){R(),E.call(null,q,...$);return}s<64&&(s*=2);let te;m===1?(m=2,te=0):te=(s+Math.random())*1e3,A(te)}let U=!1;function z(q){U||(U=!0,R(),!g&&(o!==null?(q||(m=2),clearTimeout(o),A(0)):q||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,z(!0)},n),z}function GC(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){return r!==void 0}function KC(r){return typeof r=="object"&&!Array.isArray(r)}function fp(r){return typeof r=="string"||r instanceof String}function $v(r){return dp()&&r instanceof Blob}function dp(){return typeof Blob<"u"}function Pm(r,e,n,s){if(s<e)throw Mm(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Mm(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function eT(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Js;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Js||(Js={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,s,o,u,f,m,y,g,E,A,R=!0,V=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=y,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=A,this.retry=R,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,z)=>{this.resolve_=U,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Fc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const y=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Js.NO_ERROR,y=u.getStatus();if(!m||YC(y,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Js.ABORT;s(!1,new Fc(!1,null,E));return}const g=this.successCodes_.indexOf(y)!==-1;s(!0,new Fc(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());$C(y)?u(y):u()}catch(y){f(y)}else if(m!==null){const y=hp();y.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,y)):f(y)}else if(o.canceled){const y=this.appDelete_?J0():kC();f(y)}else{const y=PC();f(y)}};this.canceled_?n(!1,new Fc(!1,null,!0)):this.backoffId_=FC(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function QC(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function WC(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZC(r,e){e&&(r["X-Firebase-GMPID"]=e)}function JC(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function eI(r,e,n,s,o,u,f=!0,m=!1){const y=eT(r.urlParams),g=r.url+y,E=Object.assign({},r.headers);return ZC(E,e),QC(E,n),WC(E,u),JC(E,s),new XC(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nI(...r){const e=tI();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(dp())return new Blob(r);throw new gt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function iI(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(r){if(typeof atob>"u")throw jC("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class fm{constructor(e,n){this.data=e,this.contentType=n||null}}function sI(r,e){switch(r){case xi.RAW:return new fm(tT(e));case xi.BASE64:case xi.BASE64URL:return new fm(nT(r,e));case xi.DATA_URL:return new fm(oI(e),lI(e))}throw hp()}function tT(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=r.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function aI(r){let e;try{e=decodeURIComponent(r)}catch{throw Hl(xi.DATA_URL,"Malformed data URL.")}return tT(e)}function nT(r,e){switch(r){case xi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Hl(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Hl(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=rI(e)}catch(o){throw o.message.includes("polyfill")?o:Hl(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class iT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hl(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=uI(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function oI(r){const e=new iT(r);return e.base64?nT(xi.BASE64,e.rest):aI(e.rest)}function lI(r){return new iT(r).contentType}function uI(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){let s=0,o="";$v(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if($v(this.data_)){const s=this.data_,o=iI(s,e,n);return o===null?null:new ts(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ts(s,!0)}}static getBlob(...e){if(dp()){const n=e.map(s=>s instanceof ts?s.data_:s);return new ts(nI.apply(null,n))}else{const n=e.map(f=>fp(f)?sI(xi.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new ts(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r){let e;try{e=JSON.parse(r)}catch{return null}return KC(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function hI(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function rT(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(r,e){return e}class pn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||fI}}let Gc=null;function dI(r){return!fp(r)||r.length<2?r:rT(r)}function sT(){if(Gc)return Gc;const r=[];r.push(new pn("bucket")),r.push(new pn("generation")),r.push(new pn("metageneration")),r.push(new pn("name","fullPath",!0));function e(u,f){return dI(f)}const n=new pn("name");n.xform=e,r.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new pn("size");return o.xform=s,r.push(o),r.push(new pn("timeCreated")),r.push(new pn("updated")),r.push(new pn("md5Hash",null,!0)),r.push(new pn("cacheControl",null,!0)),r.push(new pn("contentDisposition",null,!0)),r.push(new pn("contentEncoding",null,!0)),r.push(new pn("contentLanguage",null,!0)),r.push(new pn("contentType",null,!0)),r.push(new pn("metadata","customMetadata",!0)),Gc=r,Gc}function mI(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new gn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function pI(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return mI(s,r),s}function aT(r,e,n){const s=mp(e);return s===null?null:pI(r,s,n)}function gI(r,e,n,s){const o=mp(e);if(o===null||!fp(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=r.bucket,A=r.fullPath,R="/b/"+f(E)+"/o/"+f(A),V=Vh(R,n,s),U=eT({alt:"media",token:g});return V+U})[0]}function yI(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="prefixes",Yv="items";function _I(r,e,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Kv])for(const o of n[Kv]){const u=o.replace(/\/$/,""),f=r._makeStorageReference(new gn(e,u));s.prefixes.push(f)}if(n[Yv])for(const o of n[Yv]){const u=r._makeStorageReference(new gn(e,o.name));s.items.push(u)}return s}function vI(r,e,n){const s=mp(n);return s===null?null:_I(r,e,s)}class pp{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r){if(!r)throw hp()}function EI(r,e){function n(s,o){const u=aT(r,o,e);return gp(u!==null),u}return n}function TI(r,e){function n(s,o){const u=vI(r,e,o);return gp(u!==null),u}return n}function bI(r,e){function n(s,o){const u=aT(r,o,e);return gp(u!==null),gI(u,o,r.host,r._protocol)}return n}function yp(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=DC():o=OC():n.getStatus()===402?o=NC(r.bucket):n.getStatus()===403?o=MC(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function SI(r){const e=yp(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=xC(r.path)),u.serverResponse=o.serverResponse,u}return n}function AI(r,e,n,s,o){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",n.length>0&&(u.delimiter=n),s&&(u.pageToken=s),o&&(u.maxResults=o);const f=e.bucketOnlyServerUrl(),m=Vh(f,r.host,r._protocol),y="GET",g=r.maxOperationRetryTime,E=new pp(m,y,TI(r,e.bucket),g);return E.urlParams=u,E.errorHandler=yp(e),E}function wI(r,e,n){const s=e.fullServerUrl(),o=Vh(s,r.host,r._protocol),u="GET",f=r.maxOperationRetryTime,m=new pp(o,u,bI(r,n),f);return m.errorHandler=SI(e),m}function RI(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function CI(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=RI(null,e)),s}function II(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let te="";for(let ue=0;ue<2;ue++)te=te+Math.random().toString().slice(2);return te}const y=m();f["Content-Type"]="multipart/related; boundary="+y;const g=CI(e,s,o),E=yI(g,n),A="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+y+`\r
Content-Type: `+g.contentType+`\r
\r
`,R=`\r
--`+y+"--",V=ts.getBlob(A,s,R);if(V===null)throw BC();const U={name:g.fullPath},z=Vh(u,r.host,r._protocol),q="POST",$=r.maxUploadRetryTime,ie=new pp(z,q,EI(r,n),$);return ie.urlParams=U,ie.headers=f,ie.body=V.uploadData(),ie.errorHandler=yp(e),ie}class xI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Ll("cannot .send() more than once");if(ms(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ll("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ll("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ll("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ll("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class NI extends xI{initXhr(){this.xhr_.responseType="text"}}function _p(){return new NI}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this._service=e,n instanceof gn?this._location=n:this._location=gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new sa(e,n)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rT(this._location.path)}get storage(){return this._service}get parent(){const e=cI(this._location.path);if(e===null)return null;const n=new gn(this._location.bucket,e);return new sa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HC(e)}}function OI(r,e,n){r._throwIfRoot("uploadBytes");const s=II(r.storage,r._location,sT(),new ts(e,!0),n);return r.storage.makeRequestWithTokens(s,_p).then(o=>({metadata:o,ref:r}))}function DI(r){const e={prefixes:[],items:[]};return oT(r,e).then(()=>e)}async function oT(r,e,n){const o=await MI(r,{pageToken:n});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await oT(r,e,o.nextPageToken)}function MI(r,e){e!=null&&typeof e.maxResults=="number"&&Pm("options.maxResults",1,1e3,e.maxResults);const n=e||{},s=AI(r.storage,r._location,"/",n.pageToken,n.maxResults);return r.storage.makeRequestWithTokens(s,_p)}function PI(r){r._throwIfRoot("getDownloadURL");const e=wI(r.storage,r._location,sT());return r.storage.makeRequestWithTokens(e,_p).then(n=>{if(n===null)throw zC();return n})}function kI(r,e){const n=hI(r._location.path,e),s=new gn(r._location.bucket,n);return new sa(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(r){return/^[A-Za-z]+:\/\//.test(r)}function VI(r,e){return new sa(r,e)}function lT(r,e){if(r instanceof vp){const n=r;if(n._bucket==null)throw LC();const s=new sa(n,n._bucket);return e!=null?lT(s,e):s}else return e!==void 0?kI(r,e):r}function LI(r,e){if(e&&UI(e)){if(r instanceof vp)return VI(r,e);throw Mm("To use ref(service, url), the first argument must be a Storage instance.")}else return lT(r,e)}function Xv(r,e){const n=e?.[Z0];return n==null?null:gn.makeFromBucketSpec(n,r)}function BI(r,e,n,s={}){r.host=`${e}:${n}`;const o=ms(e);o&&(ap(`https://${r.host}/b`),op("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:G0(u,r.app.options.projectId))}class vp{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=W0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CC,this._maxUploadRetryTime=IC,this._requests=new Set,o!=null?this._bucket=gn.makeFromBucketSpec(o,this._host):this._bucket=Xv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=Xv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pm("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pm("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new qC(J0());{const f=eI(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const Qv="@firebase/storage",Wv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="storage";function cT(r,e,n){return r=Jt(r),OI(r,e,n)}function zI(r){return r=Jt(r),DI(r)}function Ep(r){return r=Jt(r),PI(r)}function Tp(r,e){return r=Jt(r),LI(r,e)}function jI(r=cp(),e){r=Jt(r);const s=Uh(r,uT).getImmediate({identifier:e}),o=H0("storage");return o&&HI(s,...o),s}function HI(r,e,n,s={}){BI(r,e,n,s)}function qI(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new vp(n,s,o,e,fa)}function FI(){ra(new us(uT,qI,"PUBLIC").setMultipleInstances(!0)),Ni(Qv,Wv,""),Ni(Qv,Wv,"esm2020")}FI();var GI="firebase",$I="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(GI,$I,"app");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bp;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,w){function C(){}C.prototype=w.prototype,N.D=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(M,D,k){for(var I=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)I[Ce-2]=arguments[Ce];return w.prototype[D].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,C){C||(C=0);var M=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)M[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;16>D;++D)M[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];var k=N.g[3],I=w+(k^C&(D^k))+M[0]+3614090360&4294967295;w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+M[1]+3905402710&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+M[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+M[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(k^C&(D^k))+M[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+M[5]+1200080426&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+M[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+M[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(k^C&(D^k))+M[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+M[9]+2336552879&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+M[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+M[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(k^C&(D^k))+M[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+M[13]+4254626195&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+M[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+M[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(D^k&(C^D))+M[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+M[6]+3225465664&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+M[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+M[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^k&(C^D))+M[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+M[10]+38016083&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+M[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+M[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^k&(C^D))+M[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+M[14]+3275163606&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+M[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+M[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^k&(C^D))+M[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+M[2]+4243563512&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+M[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+M[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(C^D^k)+M[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+M[8]+2272392833&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+M[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+M[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^k)+M[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+M[4]+1272893353&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+M[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+M[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^k)+M[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+M[0]+3936430074&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+M[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+M[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^k)+M[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+M[12]+3873151461&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+M[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+M[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(D^(C|~k))+M[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+M[7]+1126891415&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+M[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+M[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~k))+M[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+M[3]+2399980690&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+M[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+M[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~k))+M[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+M[15]+4264355552&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+M[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+M[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~k))+M[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+M[11]+3174756917&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+M[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}s.prototype.u=function(N,w){w===void 0&&(w=N.length);for(var C=w-this.blockSize,M=this.B,D=this.h,k=0;k<w;){if(D==0)for(;k<=C;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(M[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,M),D=0;break}}else for(;k<w;)if(M[D++]=N[k++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=w},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;var C=8*this.o;for(w=N.length-8;w<N.length;++w)N[w]=C&255,C/=256;for(this.u(N),N=Array(16),w=C=0;4>w;++w)for(var M=0;32>M;M+=8)N[C++]=this.g[w]>>>M&255;return N};function u(N,w){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function f(N,w){this.h=w;for(var C=[],M=!0,D=N.length-1;0<=D;D--){var k=N[D]|0;M&&k==w||(C[D]=k,M=!1)}this.g=C}var m={};function y(N){return-128<=N&&128>N?u(N,function(w){return new f([w|0],0>w?-1:0)}):new f([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return A;if(0>N)return q(g(-N));for(var w=[],C=1,M=0;N>=C;M++)w[M]=N/C|0,C*=4294967296;return new f(w,0)}function E(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return q(E(N.substring(1),w));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(w,8)),M=A,D=0;D<N.length;D+=8){var k=Math.min(8,N.length-D),I=parseInt(N.substring(D,D+k),w);8>k?(k=g(Math.pow(w,k)),M=M.j(k).add(g(I))):(M=M.j(C),M=M.add(g(I)))}return M}var A=y(0),R=y(1),V=y(16777216);r=f.prototype,r.m=function(){if(z(this))return-q(this).m();for(var N=0,w=1,C=0;C<this.g.length;C++){var M=this.i(C);N+=(0<=M?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(z(this))return"-"+q(this).toString(N);for(var w=g(Math.pow(N,6)),C=this,M="";;){var D=ue(C,w).g;C=$(C,D.j(w));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=D,U(C))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(var w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function z(N){return N.h==-1}r.l=function(N){return N=$(this,N),z(N)?-1:U(N)?0:1};function q(N){for(var w=N.g.length,C=[],M=0;M<w;M++)C[M]=~N.g[M];return new f(C,~N.h).add(R)}r.abs=function(){return z(this)?q(this):this},r.add=function(N){for(var w=Math.max(this.g.length,N.g.length),C=[],M=0,D=0;D<=w;D++){var k=M+(this.i(D)&65535)+(N.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=I>>>16,k&=65535,I&=65535,C[D]=I<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function $(N,w){return N.add(q(w))}r.j=function(N){if(U(this)||U(N))return A;if(z(this))return z(N)?q(this).j(q(N)):q(q(this).j(N));if(z(N))return q(this.j(q(N)));if(0>this.l(V)&&0>N.l(V))return g(this.m()*N.m());for(var w=this.g.length+N.g.length,C=[],M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var D=0;D<N.g.length;D++){var k=this.i(M)>>>16,I=this.i(M)&65535,Ce=N.i(D)>>>16,ye=N.i(D)&65535;C[2*M+2*D]+=I*ye,ie(C,2*M+2*D),C[2*M+2*D+1]+=k*ye,ie(C,2*M+2*D+1),C[2*M+2*D+1]+=I*Ce,ie(C,2*M+2*D+1),C[2*M+2*D+2]+=k*Ce,ie(C,2*M+2*D+2)}for(M=0;M<w;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=w;M<2*w;M++)C[M]=0;return new f(C,0)};function ie(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function te(N,w){this.g=N,this.h=w}function ue(N,w){if(U(w))throw Error("division by zero");if(U(N))return new te(A,A);if(z(N))return w=ue(q(N),w),new te(q(w.g),q(w.h));if(z(w))return w=ue(N,q(w)),new te(q(w.g),w.h);if(30<N.g.length){if(z(N)||z(w))throw Error("slowDivide_ only works with positive integers.");for(var C=R,M=w;0>=M.l(N);)C=le(C),M=le(M);var D=he(C,1),k=he(M,1);for(M=he(M,2),C=he(C,2);!U(M);){var I=k.add(M);0>=I.l(N)&&(D=D.add(C),k=I),M=he(M,1),C=he(C,1)}return w=$(N,D.j(w)),new te(D,w)}for(D=A;0<=N.l(w);){for(C=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=g(C),I=k.j(w);z(I)||0<I.l(N);)C-=M,k=g(C),I=k.j(w);U(k)&&(k=R),D=D.add(k),N=$(N,I)}return new te(D,N)}r.A=function(N){return ue(this,N).h},r.and=function(N){for(var w=Math.max(this.g.length,N.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)&N.i(M);return new f(C,this.h&N.h)},r.or=function(N){for(var w=Math.max(this.g.length,N.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)|N.i(M);return new f(C,this.h|N.h)},r.xor=function(N){for(var w=Math.max(this.g.length,N.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)^N.i(M);return new f(C,this.h^N.h)};function le(N){for(var w=N.g.length+1,C=[],M=0;M<w;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(C,N.h)}function he(N,w){var C=w>>5;w%=32;for(var M=N.g.length-C,D=[],k=0;k<M;k++)D[k]=0<w?N.i(k+C)>>>w|N.i(k+C+1)<<32-w:N.i(k+C);return new f(D,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,bp=f}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hT,zl,fT,th,km,dT,mT,pT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in _))break e;_=_[B]}c=c[c.length-1],b=_[c],p=p(b),p!=b&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,b=!1,B={next:function(){if(!b&&_<c.length){var X=_++;return{value:p(X,c[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function A(c,p,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(p,B)}}return function(){return c.apply(p,arguments)}}function R(c,p,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,R.apply(null,arguments)}function V(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function U(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,B,X){for(var oe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)oe[Ue-2]=arguments[Ue];return p.prototype[B].apply(b,oe)}}function z(c){const p=c.length;if(0<p){const _=Array(p);for(let b=0;b<p;b++)_[b]=c[b];return _}return[]}function q(c,p){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(y(b)){const B=c.length||0,X=b.length||0;c.length=B+X;for(let oe=0;oe<X;oe++)c[B+oe]=b[oe]}else c.push(b)}}class ${constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ie(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var le=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function he(c,p,_){for(const b in c)p.call(_,c[b],b,c)}function N(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function w(c){const p={};for(const _ in c)p[_]=c[_];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,p){let _,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(_ in b)c[_]=b[_];for(let X=0;X<C.length;X++)_=C[X],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function D(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Oe;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Ce{constructor(){this.h=this.g=null}add(p,_){const b=ye.get();b.set(p,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ye=new $(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,Oe=new Ce,O=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(Z)}};var Z=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var p=ye;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}de=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Ae(c,p){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(le){e:{try{ue(p.nodeName);var B=!0;break e}catch{}B=!1}B||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ae.aa.h.call(this)}}U(Ae,se);var ve={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),He=0;function An(c,p,_,b,B){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!b,this.ha=B,this.key=++He,this.da=this.fa=!1}function kn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Yn(c){this.src=c,this.g={},this.h=0}Yn.prototype.add=function(c,p,_,b,B){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var oe=Li(c,p,b,B);return-1<oe?(p=c[oe],_||(p.fa=!1)):(p=new An(p,this.src,X,!!b,B),p.fa=_,c.push(p)),p};function ci(c,p){var _=p.type;if(_ in c.g){var b=c.g[_],B=Array.prototype.indexOf.call(b,p,void 0),X;(X=0<=B)&&Array.prototype.splice.call(b,B,1),X&&(kn(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Li(c,p,_,b){for(var B=0;B<c.length;++B){var X=c[B];if(!X.da&&X.listener==p&&X.capture==!!_&&X.ha==b)return B}return-1}var Bi="closure_lm_"+(1e6*Math.random()|0),Xn={};function gs(c,p,_,b,B){if(Array.isArray(p)){for(var X=0;X<p.length;X++)gs(c,p[X],_,b,B);return null}return _=Ht(_),c&&c[it]?c.K(p,_,g(b)?!!b.capture:!1,B):yn(c,p,_,!1,b,B)}function yn(c,p,_,b,B,X){if(!p)throw Error("Invalid event type");var oe=g(B)?!!B.capture:!!B,Ue=ht(c);if(Ue||(c[Bi]=Ue=new Yn(c)),_=Ue.add(p,_,b,oe,X),_.proxy)return _;if(b=ga(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ge||(B=oe),B===void 0&&(B=!1),c.addEventListener(p.toString(),b,B);else if(c.attachEvent)c.attachEvent(ce(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ga(){function c(_){return p.call(c.src,c.listener,_)}const p=Ye;return c}function Ar(c,p,_,b,B){if(Array.isArray(p))for(var X=0;X<p.length;X++)Ar(c,p[X],_,b,B);else b=g(b)?!!b.capture:!!b,_=Ht(_),c&&c[it]?(c=c.i,p=String(p).toString(),p in c.g&&(X=c.g[p],_=Li(X,_,b,B),-1<_&&(kn(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[p],c.h--)))):c&&(c=ht(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Li(p,_,b,B)),(_=-1<c?p[c]:null)&&wr(_))}function wr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[it])ci(p.i,c);else{var _=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(_,b,c.capture):p.detachEvent?p.detachEvent(ce(_),b):p.addListener&&p.removeListener&&p.removeListener(b),(_=ht(p))?(ci(_,c),_.h==0&&(_.src=null,p[Bi]=null)):kn(c)}}}function ce(c){return c in Xn?Xn[c]:Xn[c]="on"+c}function Ye(c,p){if(c.da)c=!0;else{p=new Ae(p,this);var _=c.listener,b=c.ha||c.src;c.fa&&wr(c),c=_.call(b,p)}return c}function ht(c){return c=c[Bi],c instanceof Yn?c:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ht(c){return typeof c=="function"?c:(c[en]||(c[en]=function(p){return c.handleEvent(p)}),c[en])}function Xe(){ne.call(this),this.i=new Yn(this),this.M=this,this.F=null}U(Xe,ne),Xe.prototype[it]=!0,Xe.prototype.removeEventListener=function(c,p,_,b){Ar(this,c,p,_,b)};function ke(c,p){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new se(p,c);else if(p instanceof se)p.target=p.target||c;else{var B=p;p=new se(b,c),M(p,B)}if(B=!0,_)for(var X=_.length-1;0<=X;X--){var oe=p.g=_[X];B=Mt(oe,b,!0,p)&&B}if(oe=p.g=c,B=Mt(oe,b,!0,p)&&B,B=Mt(oe,b,!1,p)&&B,_)for(X=0;X<_.length;X++)oe=p.g=_[X],B=Mt(oe,b,!1,p)&&B}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],b=0;b<_.length;b++)kn(_[b]);delete c.g[p],c.h--}}this.F=null},Xe.prototype.K=function(c,p,_,b){return this.i.add(String(c),p,!1,_,b)},Xe.prototype.L=function(c,p,_,b){return this.i.add(String(c),p,!0,_,b)};function Mt(c,p,_,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var B=!0,X=0;X<p.length;++X){var oe=p[X];if(oe&&!oe.da&&oe.capture==_){var Ue=oe.listener,xt=oe.ha||oe.src;oe.fa&&ci(c.i,oe),B=Ue.call(xt,b)!==!1&&B}}return B&&!b.defaultPrevented}function Et(c,p,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function cn(c){c.g=Et(()=>{c.g=null,c.i&&(c.i=!1,cn(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class ys extends ne{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:cn(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(c){ne.call(this),this.h=c,this.g={}}U(wn,ne);var hi=[];function Qn(c){he(c.g,function(p,_){this.g.hasOwnProperty(_)&&wr(p)},c),c.g={}}wn.prototype.N=function(){wn.aa.N.call(this),Qn(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=m.JSON.stringify,ya=m.JSON.parse,_s=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function No(){}No.prototype.h=null;function Oo(c){return c.h||(c.h=c.i())}function Do(){}var zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){se.call(this,"d")}U(ji,se);function Mo(){se.call(this,"c")}U(Mo,se);var fi={},Po=null;function Rr(){return Po=Po||new Xe}fi.La="serverreachability";function _a(c){se.call(this,fi.La,c)}U(_a,se);function Cr(c){const p=Rr();ke(p,new _a(p))}fi.STAT_EVENT="statevent";function bu(c,p){se.call(this,fi.STAT_EVENT,c),this.stat=p}U(bu,se);function rt(c){const p=Rr();ke(p,new bu(p,c))}fi.Ma="timingevent";function It(c,p){se.call(this,fi.Ma,c),this.size=p}U(It,se);function Tt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function ko(c,p,_,b,B,X){c.info(function(){if(c.g)if(X)for(var oe="",Ue=X.split("&"),xt=0;xt<Ue.length;xt++){var Ve=Ue[xt].split("=");if(1<Ve.length){var kt=Ve[0];Ve=Ve[1];var Nt=kt.split("_");oe=2<=Nt.length&&Nt[1]=="type"?oe+(kt+"="+Ve+"&"):oe+(kt+"=redacted&")}}else oe=null;else oe=X;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+p+`
`+_+`
`+oe})}function Jh(c,p,_,b,B,X,oe){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+p+`
`+_+`
`+X+" "+oe})}function Ir(c,p,_,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+vs(c,_)+(b?" "+b:"")})}function Su(c,p){c.info(function(){return"TIMEOUT: "+p})}Un.prototype.info=function(){};function vs(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var X=B[0];if(X!="noop"&&X!="stop"&&X!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return Wn(_)}catch{return p}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function mi(){}U(mi,No),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},di=new mi;function hn(c,p,_,b){this.j=c,this.i=p,this.l=_,this.R=b||1,this.U=new wn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var Uo={},va={};function Zn(c,p,_){c.L=1,c.v=As(Rn(p)),c.m=_,c.P=!0,qi(c,null)}function qi(c,p){c.F=Date.now(),Es(c),c.A=Rn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Ho(_.i,"t",b),c.C=0,_=c.j.J,c.h=new yt,c.g=Bu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new ys(R(c.Y,c,c.g),c.O)),p=c.U,_=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(hi[0]=B.toString()),B=hi);for(var X=0;X<B.length;X++){var oe=gs(_,B[X],b||p.handleEvent,!1,p.h||p);if(!oe)break;p.g[oe.key]=oe}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Cr(),ko(c.i,c.u,c.A,c.l,c.R,c.m)}hn.prototype.ca=function(c){c=c.target;const p=this.M;p&&zn(c)==3?p.j():this.Y(c)},hn.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=zn(this.g);var p=this.g.Ba();const Wi=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||Nt!=4||p==7||(p==8||0>=Wi?Cr(3):Cr(2)),Nr(this);var _=this.g.Z();this.X=_;t:if(Au(this)){var b=Ou(this.g);c="";var B=b.length,X=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),pi(this);var oe="";break t}this.h.i=new m.TextDecoder}for(p=0;p<B;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(X&&p==B-1)});b.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Jh(this.i,this.u,this.A,this.l,this.R,Nt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,xt=this.g;if((Ue=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Ue)){var Ve=Ue;break t}}Ve=null}if(_=Ve)Ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ts(this,_);else{this.o=!1,this.s=3,rt(12),qt(this),pi(this);break e}}if(this.P){_=!0;let Ft;for(;!this.J&&this.C<oe.length;)if(Ft=wu(this,oe),Ft==va){Nt==4&&(this.s=4,rt(14),_=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Uo){this.s=4,rt(15),Ir(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Ir(this.i,this.l,Ft,null),Ts(this,Ft);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||oe.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)Ir(this.i,this.l,oe,"[Invalid Chunked Response]"),qt(this),pi(this);else if(0<oe.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ds(kt),kt.M=!0,rt(11))}}else Ir(this.i,this.l,oe,null),Ts(this,oe);Nt==4&&qt(this),this.o&&!this.J&&(Nt==4?Uu(this.j,this):(this.o=!1,Es(this)))}else sf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),qt(this),pi(this)}}}catch{}finally{}};function Au(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wu(c,p){var _=c.C,b=p.indexOf(`
`,_);return b==-1?va:(_=Number(p.substring(_,b)),isNaN(_)?Uo:(b+=1,b+_>p.length?va:(p=p.slice(b,b+_),c.C=b+_,p)))}hn.prototype.cancel=function(){this.J=!0,qt(this)};function Es(c){c.S=Date.now()+c.I,Ru(c,c.I)}function Ru(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(R(c.ba,c),p)}function Nr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}hn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Su(this.i,this.A),this.L!=2&&(Cr(),rt(17)),qt(this),this.s=2,pi(this)):Ru(this,this.S-c)};function pi(c){c.j.G==0||c.J||Uu(c.j,c)}function qt(c){Nr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Qn(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Ts(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Vo(_.h,c))){if(!c.K&&Vo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Oa(_),xa(_);else break e;Ko(_),rt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tt(R(_.Za,_),6e3));if(1>=Ta(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Qi(_,11)}else if((c.K||_.g==c)&&Oa(_),!ie(p))for(B=_.Da.g.parse(p),p=0;p<B.length;p++){let Ve=B[p];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const kt=Ve[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const Nt=Ve[4];Nt!=null&&(_.Aa=Nt,_.j.info("SVER="+_.Aa));const Wi=Ve[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(b=1.5*Wi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ft=c.g;if(Ft){const bi=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var X=b.h;X.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ba(X,X.h),X.h=null))}if(b.D){const Xo=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(b.ya=Xo,Qe(b.I,b.D,Xo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var oe=c;if(b.qa=Lu(b,b.J?b.ia:null,b.W),oe.K){fn(b.h,oe);var Ue=oe,xt=b.L;xt&&(Ue.I=xt),Ue.B&&(Nr(Ue),Es(Ue)),b.g=oe}else Pu(b);0<_.i.length&&Na(_)}else Ve[0]!="stop"&&Ve[0]!="close"||Qi(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Qi(_,7):Go(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}Cr(4)}catch{}}var Cu=class{constructor(c,p){this.g=c,this.map=p}};function Fi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ta(c){return c.h?1:c.g?c.g.size:0}function Vo(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function ba(c,p){c.g?c.g.add(p):c.h=p}function fn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Fi.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return z(c.i)}function ef(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var p=[],_=c.length,b=0;b<_;b++)p.push(c[b]);return p}p=[],_=0;for(b in c)p[_++]=c[b];return p}function Sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const b in c)p[_++]=b;return p}}}function Bo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=Sa(c),b=ef(c),B=b.length,X=0;X<B;X++)p.call(void 0,b[X],_&&_[X],c)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tf(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),B=null;if(0<=b){var X=c[_].substring(0,b);B=c[_].substring(b+1)}else X=c[_];p(X,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof bt){this.h=c.h,Ss(this,c.j),this.o=c.o,this.g=c.g,Or(this,c.s),this.l=c.l;var p=c.i,_=new $i;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Gi(this,_),this.m=c.m}else c&&(p=String(c).match(bs))?(this.h=!1,Ss(this,p[1]||"",!0),this.o=Vn(p[2]||""),this.g=Vn(p[3]||"",!0),Or(this,p[4]),this.l=Vn(p[5]||"",!0),Gi(this,p[6]||"",!0),this.m=Vn(p[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}bt.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ws(p,zo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ws(p,zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ws(_,_.charAt(0)=="/"?nf:jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ws(_,Aa)),c.join("")};function Rn(c){return new bt(c)}function Ss(c,p,_){c.j=_?Vn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Or(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Gi(c,p,_){p instanceof $i?(c.i=p,xu(c.i,c.h)):(_||(p=ws(p,rf)),c.i=new $i(p,c.h))}function Qe(c,p,_){c.i.set(p,_)}function As(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,Iu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Iu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,jo=/[#\?:]/g,nf=/[#\?]/g,rf=/[#\?@]/g,Aa=/#/g;function $i(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Ln(c){c.g||(c.g=new Map,c.h=0,c.i&&tf(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=$i.prototype,r.add=function(c,p){Ln(this),this.i=null,c=gi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Ki(c,p){Ln(c),p=gi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Yi(c,p){return Ln(c),p=gi(c,p),c.g.has(p)}r.forEach=function(c,p){Ln(this),this.g.forEach(function(_,b){_.forEach(function(B){c.call(p,B,b,this)},this)},this)},r.na=function(){Ln(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let b=0;b<p.length;b++){const B=c[b];for(let X=0;X<B.length;X++)_.push(p[b])}return _},r.V=function(c){Ln(this);let p=[];if(typeof c=="string")Yi(this,c)&&(p=p.concat(this.g.get(gi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return Ln(this),this.i=null,c=gi(this,c),Yi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Ho(c,p,_){Ki(c,p),0<_.length&&(c.i=null,c.g.set(gi(c,p),z(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var b=p[_];const X=encodeURIComponent(String(b)),oe=this.V(b);for(b=0;b<oe.length;b++){var B=X;oe[b]!==""&&(B+="="+encodeURIComponent(String(oe[b]))),c.push(B)}}return this.i=c.join("&")};function gi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function xu(c,p){p&&!c.j&&(Ln(c),c.i=null,c.g.forEach(function(_,b){var B=b.toLowerCase();b!=B&&(Ki(this,b),Ho(this,B,_))},c)),c.j=p}function Rs(c,p){const _=new Un;if(m.Image){const b=new Image;b.onload=V(Bn,_,"TestLoadImage: loaded",!0,p,b),b.onerror=V(Bn,_,"TestLoadImage: error",!1,p,b),b.onabort=V(Bn,_,"TestLoadImage: abort",!1,p,b),b.ontimeout=V(Bn,_,"TestLoadImage: timeout",!1,p,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function Jn(c,p){const _=new Un,b=new AbortController,B=setTimeout(()=>{b.abort(),Bn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(X=>{clearTimeout(B),X.ok?Bn(_,"TestPingServer: ok",!0,p):Bn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),Bn(_,"TestPingServer: error",!1,p)})}function Bn(c,p,_,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(_)}catch{}}function Cs(){this.g=new _s}function yi(c,p,_){const b=_||"";try{Bo(c,function(B,X){let oe=B;g(B)&&(oe=Wn(B)),p.push(b+X+"="+encodeURIComponent(oe))})}catch(B){throw p.push(b+"type="+encodeURIComponent("_badmap")),B}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Dr,No),Dr.prototype.g=function(){return new Xi(this.l,this.j)},Dr.prototype.i=function(c){return function(){return c}}({});function Xi(c,p){Xe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Xi,Xe),r=Xi.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,vi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?_i(this):vi(this),this.readyState==3&&qo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,_i(this))},r.Qa=function(c){this.g&&(this.response=c,_i(this))},r.ga=function(){this.g&&_i(this)};function _i(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vi(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function vi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fo(c){let p="";return he(c,function(_,b){p+=b,p+=":",p+=_,p+=`\r
`}),p}function Pt(c,p,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Fo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,p,_))}function qe(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(qe,Xe);var wa=/^https?$/i,Is=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?Oo(this.o):Oo(di),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(X){Nu(this,X);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)_.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())_.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Is,p,void 0))||b||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,oe]of _)this.g.setRequestHeader(X,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Nu(this,X)}};function Nu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ra(c),Ei(c)}function Ra(c){c.A||(c.A=!0,ke(c,"complete"),ke(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ke(this,"complete"),ke(this,"abort"),Ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},r.bb=function(){Ca(this)};function Ca(c){if(c.h&&typeof f<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)Et(c.Ea,0,c);else if(ke(c,"readystatechange"),zn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var b;if(b=oe===0){var B=String(c.D).match(bs)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),b=!wa.test(B?B.toLowerCase():"")}_=b}if(_)ke(c,"complete"),ke(c,"success");else{c.m=6;try{var X=2<zn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Ra(c)}}finally{Ei(c)}}}}function Ei(c,p){if(c.g){xs(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||ke(c,"ready");try{_.onreadystatechange=b}catch{}}}function xs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ya(p)}};function Ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sf(c){const p={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ie(c[b]))continue;var _=D(c[b]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=p[B]||[];p[B]=X,X.push(_)}N(p,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function Ia(c){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,c),this.cb=Ns("retryDelaySeedMs",1e4,c),this.Wa=Ns("forwardChannelMaxRetries",2,c),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(c&&c.concurrentRequestLimit),this.Da=new Cs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ia.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,b){rt(0),this.W=c,this.H=p||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Lu(this,null,this.W),Na(this)};function Go(c){if(Du(c),c.G==3){var p=c.U++,_=Rn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",p),Qe(_,"TYPE","terminate"),Os(c,_),p=new hn(c,c.j,p),p.L=2,p.v=As(Rn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Bu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Es(p)}Vu(c)}function xa(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function Du(c){xa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!Ea(c.h)&&!c.s){c.s=!0;var p=c.Ga;ae||O(),de||(ae(),de=!0),Oe.add(p,c),c.B=0}}function af(c,p){return Ta(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(R(c.Ga,c,p),Yo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new hn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=w(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(B.H=X,X=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Mu(this,B,p),_=Rn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),Os(this,_),X&&(this.O?p="headers="+encodeURIComponent(String(Fo(X)))+"&"+p:this.m&&Pt(_,this.m,X)),ba(this.h,B),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",p),Qe(_,"SID","null"),B.T=!0,Zn(B,_,null)):Zn(B,_,p),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||Ea(this.h)||$o(this))};function $o(c,p){var _;p?_=p.l:_=c.U++;const b=Rn(c.I);Qe(b,"SID",c.K),Qe(b,"RID",_),Qe(b,"AID",c.T),Os(c,b),c.m&&c.o&&Pt(b,c.m,c.o),_=new hn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Mu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ba(c.h,_),Zn(_,b,p)}function Os(c,p){c.H&&he(c.H,function(_,b){Qe(p,b,_)}),c.l&&Bo({},function(_,b){Qe(p,b,_)})}function Mu(c,p,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;e:{var B=c.i;let X=-1;for(;;){const oe=["count="+_];X==-1?0<_?(X=B[0].g,oe.push("ofs="+X)):X=0:oe.push("ofs="+X);let Ue=!0;for(let xt=0;xt<_;xt++){let Ve=B[xt].g;const kt=B[xt].map;if(Ve-=X,0>Ve)X=Math.max(0,B[xt].g-100),Ue=!1;else try{yi(kt,oe,"req"+Ve+"_")}catch{b&&b(kt)}}if(Ue){b=oe.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,b}function Pu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ae||O(),de||(ae(),de=!0),Oe.add(p,c),c.v=0}}function Ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(R(c.Fa,c),Yo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),xa(this),ku(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ku(c){c.g=new hn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Rn(c.qa);Qe(p,"RID","rpc"),Qe(p,"SID",c.K),Qe(p,"AID",c.T),Qe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(p,"TO",c.ja),Qe(p,"TYPE","xmlhttp"),Os(c,p),c.m&&c.o&&Pt(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=As(Rn(p)),_.m=null,_.P=!0,qi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,xa(this),Ko(this),rt(19))};function Oa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Uu(c,p){var _=null;if(c.g==p){Oa(c),Ds(c),c.g=null;var b=2}else if(Vo(c.h,p))_=p.D,fn(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var B=c.B;b=Rr(),ke(b,new It(b,_)),Na(c)}else Pu(c);else if(B=p.s,B==3||B==0&&0<p.X||!(b==1&&af(c,p)||b==2&&Ko(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),B){case 1:Qi(c,5);break;case 4:Qi(c,10);break;case 3:Qi(c,6);break;default:Qi(c,2)}}}function Yo(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Qi(c,p){if(c.j.info("Error code "+p),p==2){var _=R(c.fb,c),b=c.Xa;const B=!b;b=new bt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ss(b,"https"),As(b),B?Rs(b.toString(),_):Jn(b.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(p),Vu(c),Du(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Vu(c){if(c.G=0,c.ka=[],c.l){const p=Lo(c.h);(p.length!=0||c.i.length!=0)&&(q(c.ka,p),q(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function Lu(c,p,_){var b=_ instanceof bt?Rn(_):new bt(_);if(b.g!="")p&&(b.g=p+"."+b.g),Or(b,b.s);else{var B=m.location;b=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;var X=new bt(null);b&&Ss(X,b),p&&(X.g=p),B&&Or(X,B),_&&(X.l=_),b=X}return _=c.D,p=c.ya,_&&p&&Qe(b,_,p),Qe(b,"VER",c.la),Os(c,b),b}function Bu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new qe(new Dr({eb:_})):new qe(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}r=zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Da(){}Da.prototype.g=function(c,p){return new dn(c,p)};function dn(c,p){Xe.call(this),this.g=new Ia(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ie(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ie(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ti(this)}U(dn,Xe),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Go(this.g)},dn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Wn(c),c=_);p.i.push(new Cu(p.Ya++,c)),p.G==3&&Na(p)},dn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,dn.aa.N.call(this)};function ju(c){ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}U(ju,ji);function Hu(){Mo.call(this),this.status=1}U(Hu,Mo);function Ti(c){this.g=c}U(Ti,zu),Ti.prototype.ua=function(){ke(this.g,"a")},Ti.prototype.ta=function(c){ke(this.g,new ju(c))},Ti.prototype.sa=function(c){ke(this.g,new Hu)},Ti.prototype.ra=function(){ke(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,pT=function(){return new Da},mT=function(){return Rr()},dT=fi,km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,th=xr,Hi.COMPLETE="complete",fT=Hi,Do.EventType=zi,zi.OPEN="a",zi.CLOSE="b",zi.ERROR="c",zi.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,zl=Do,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,hT=qe}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",eE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new lp("@firebase/firestore");function lo(){return aa.logLevel}function me(r,...e){if(aa.logLevel<=Pe.DEBUG){const n=e.map(Sp);aa.debug(`Firestore (${Co}): ${r}`,...n)}}function oa(r,...e){if(aa.logLevel<=Pe.ERROR){const n=e.map(Sp);aa.error(`Firestore (${Co}): ${r}`,...n)}}function Lh(r,...e){if(aa.logLevel<=Pe.WARN){const n=e.map(Sp);aa.warn(`Firestore (${Co}): ${r}`,...n)}}function Sp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,gT(r,s,n)}function gT(r,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw oa(s),new Error(s)}function mt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||gT(e,o,s)}function nt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class YI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XI{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ea,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ea)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(mt(typeof s.accessToken=="string",31837,{l:s}),new yT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class QI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new QI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){mt(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new tE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Fe(r,e){return r<e?-1:r>e?1:0}function Um(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return dm(o)===dm(u)?Fe(o,u):dm(o)?1:-1}return Fe(r.length,e.length)}const e2=55296,t2=57343;function dm(r){const e=r.charCodeAt(0);return e>=e2&&e<=t2}function yo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="__name__";class Ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Fe(e.length,n.length)}static compareSegments(e,n){const s=Ii.isNumericId(e),o=Ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bp.fromString(e.substring(4,e.length-2))}}class ut extends Ii{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const n2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ii{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return n2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nE}static keyField(){return new Wt([nE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ut.fromString(e))}static fromName(e){return new Re(ut.fromString(e).popFirst(5))}static empty(){return new Re(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(r,e,n){if(!n)throw new _e(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function i2(r,e,n,s){if(e===!0&&s===!0)throw new _e(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function iE(r){if(!Re.isDocumentKey(r))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function rE(r){if(Re.isDocumentKey(r))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function ET(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wp(r);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,e){const n={typeString:r};return e&&(n.value=e),n}function lu(r,e){if(!vT(r))throw new _e(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new _e(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=-62135596800,aE=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*aE);return new ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sE)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:Ct("string",ot._jsonSchemaVersion),seconds:Ct("number"),nanoseconds:Ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(e){return new at(e)}static min(){return new at(new ot(0,0))}static max(){return new at(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function r2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=at.fromTimestamp(s===1e9?new ot(n+1,0):new ot(n,s));return new cs(o,Re.empty(),e)}function s2(r){return new cs(r.readTime,r.key,Wl)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(at.min(),Re.empty(),Wl)}static max(){return new cs(at.max(),Re.empty(),Wl)}}function a2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(r.documentKey,e.documentKey),n!==0?n:Fe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rp(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==o2)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},y=>s(y))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function u2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function xp(r){return r==null}function mh(r){return r===0&&1/r==-1/0}function c2(r){return typeof r=="number"&&Number.isInteger(r)&&!mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="";function h2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=oE(e)),e=f2(r.get(n),e);return oE(e)}function f2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case TT:n+="";break;default:n+=u}}return n}function oE(r){return r+TT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Io(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function bT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new Sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new Sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new li([])}unionWith(e){let n=new Zt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new li(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new d2("Invalid base64 string: "+u):u}}(e);return new Pi(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Pi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const m2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(r){if(mt(!!r,39018),typeof r=="string"){let e=0;const n=m2.exec(r);if(mt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Qt(r.seconds),nanos:Qt(r.nanos)}}function Qt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _o(r){return typeof r=="string"?Pi.fromBase64String(r):Pi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="server_timestamp",AT="__type__",wT="__previous_value__",RT="__local_write_time__";function Np(r){return(r?.mapValue?.fields||{})[AT]?.stringValue===ST}function Op(r){const e=r.mapValue.fields[wT];return Np(e)?Op(e):e}function ph(r){const e=la(r.mapValue.fields[RT].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,s,o,u,f,m,y,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const gh="(default)";class yh{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new yh("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof yh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="__type__",g2="__max__",Yc={mapValue:{}},IT="__vector__",Vm="value";function ua(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Np(r)?4:_2(r)?9007199254740991:y2(r)?10:11:xe(28295,{value:r})}function ki(r,e){if(r===e)return!0;const n=ua(r);if(n!==ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ph(r).isEqual(ph(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=la(o.timestampValue),m=la(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return _o(o.bytesValue).isEqual(_o(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Qt(o.geoPointValue.latitude)===Qt(u.geoPointValue.latitude)&&Qt(o.geoPointValue.longitude)===Qt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Qt(o.integerValue)===Qt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Qt(o.doubleValue),m=Qt(u.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(lE(f)!==lE(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!ki(f[y],m[y])))return!1;return!0}(r,e);default:return xe(52216,{left:r})}}function Zl(r,e){return(r.values||[]).find(n=>ki(n,e))!==void 0}function vo(r,e){if(r===e)return 0;const n=ua(r),s=ua(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Qt(u.integerValue||u.doubleValue),y=Qt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(r,e);case 3:return cE(r.timestampValue,e.timestampValue);case 4:return cE(ph(r),ph(e));case 5:return Um(r.stringValue,e.stringValue);case 6:return function(u,f){const m=_o(u),y=_o(f);return m.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const E=Fe(m[g],y[g]);if(E!==0)return E}return Fe(m.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Fe(Qt(u.latitude),Qt(f.latitude));return m!==0?m:Fe(Qt(u.longitude),Qt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return hE(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},y=f.fields||{},g=m[Vm]?.arrayValue,E=y[Vm]?.arrayValue,A=Fe(g?.values?.length||0,E?.values?.length||0);return A!==0?A:hE(g,E)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const R=Um(y[A],E[A]);if(R!==0)return R;const V=vo(m[y[A]],g[E[A]]);if(V!==0)return V}return Fe(y.length,E.length)}(r.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function cE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Fe(r,e);const n=la(r),s=la(e),o=Fe(n.seconds,s.seconds);return o!==0?o:Fe(n.nanos,s.nanos)}function hE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Fe(n.length,s.length)}function Eo(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=la(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return _o(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Re.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"}(r.mapValue):xe(61005,{value:r})}function nh(r){switch(ua(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Op(r);return e?16+nh(e):16;case 5:return 2*r.stringValue.length;case 6:return _o(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+nh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Io(s.fields,(u,f)=>{o+=u.length+nh(f)}),o}(r.mapValue);default:throw xe(13486,{value:r})}}function Bm(r){return!!r&&"integerValue"in r}function Dp(r){return!!r&&"arrayValue"in r}function ih(r){return!!r&&"mapValue"in r}function y2(r){return(r?.mapValue?.fields||{})[CT]?.stringValue===IT}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Io(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ql(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(r.arrayValue.values[n]);return e}return{...r}}function _2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Io(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new ai(ql(this.value))}}function xT(r){const e=[];return Io(r.fields,(n,s)=>{const o=new Wt([n]);if(ih(s)){const u=xT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new li(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new ri(e,0,at.min(),at.min(),at.min(),ai.empty(),0)}static newFoundDocument(e,n,s,o){return new ri(e,1,n,at.min(),s,o,0)}static newNoDocument(e,n){return new ri(e,2,n,at.min(),at.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new ri(e,3,n,at.min(),at.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ri&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function fE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Re.comparator(Re.fromName(f.referenceValue),n.key):s=vo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function v2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{}class jt extends NT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new T2(e,n,s):n==="array-contains"?new A2(e,s):n==="in"?new w2(e,s):n==="not-in"?new R2(e,s):n==="array-contains-any"?new C2(e,s):new jt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new b2(e,s):new S2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&ua(this.value)===ua(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hs extends NT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hs(e,n)}matches(e){return OT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OT(r){return r.op==="and"}function DT(r){return E2(r)&&OT(r)}function E2(r){for(const e of r.filters)if(e instanceof hs)return!1;return!0}function zm(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(DT(r))return r.filters.map(e=>zm(e)).join(",");{const e=r.filters.map(n=>zm(n)).join(",");return`${r.op}(${e})`}}function MT(r,e){return r instanceof jt?function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)}(r,e):r instanceof hs?function(s,o){return o instanceof hs&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&MT(f,o.filters[m]),!0):!1}(r,e):void xe(19439)}function PT(r){return r instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`}(r):r instanceof hs?function(n){return n.op.toString()+" {"+n.getFilters().map(PT).join(" ,")+"}"}(r):"Filter"}class T2 extends jt{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class b2 extends jt{constructor(e,n){super(e,"in",n),this.keys=kT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class S2 extends jt{constructor(e,n){super(e,"not-in",n),this.keys=kT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kT(r,e){return(e.arrayValue?.values||[]).map(n=>Re.fromName(n.referenceValue))}class A2 extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&Zl(n.arrayValue,this.value)}}class w2 extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class R2 extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zl(this.value.arrayValue,n)}}class C2 extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function mE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new I2(r,e,n,s,o,u,f)}function Mp(r){const e=nt(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>zm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),xp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Eo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Eo(s)).join(",")),e.Te=n}return e.Te}function Pp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!v2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!MT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dE(r.startAt,e.startAt)&&dE(r.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function x2(r,e,n,s,o,u,f,m){return new Bh(r,e,n,s,o,u,f,m)}function N2(r){return new Bh(r)}function pE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function O2(r){return r.collectionGroup!==null}function Fl(r){const e=nt(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Zt(Wt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new vh(u,s))}),n.has(Wt.keyField().canonicalString())||e.Ie.push(new vh(Wt.keyField(),s))}return e.Ie}function ta(r){const e=nt(r);return e.Ee||(e.Ee=D2(e,Fl(r))),e.Ee}function D2(r,e){if(r.limitType==="F")return mE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new vh(o.field,u)});const n=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return mE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function jm(r,e,n){return new Bh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function UT(r,e){return Pp(ta(r),ta(e))&&r.limitType===e.limitType}function VT(r){return`${Mp(ta(r))}|lt:${r.limitType}`}function Bl(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>PT(o)).join(", ")}]`),xp(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Eo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Eo(o)).join(",")),`Target(${s})`}(ta(r))}; limitType=${r.limitType})`}function kp(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Re.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,y){const g=fE(f,m,y);return f.inclusive?g<=0:g<0}(s.startAt,Fl(s),o)||s.endAt&&!function(f,m,y){const g=fE(f,m,y);return f.inclusive?g>=0:g>0}(s.endAt,Fl(s),o))}(r,e)}function M2(r){return(e,n)=>{let s=!1;for(const o of Fl(r)){const u=P2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function P2(r,e,n){const s=r.field.isKeyField()?Re.comparator(e.key,n.key):function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?vo(y,g):xe(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Io(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return bT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Sn(Re.comparator);function Eh(){return k2}const LT=new Sn(Re.comparator);function Xc(...r){let e=LT;for(const n of r)e=e.insert(n.key,n);return e}function BT(r){let e=LT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Zs(){return Gl()}function zT(){return Gl()}function Gl(){return new da(r=>r.toString(),(r,e)=>r.isEqual(e))}const U2=new Sn(Re.comparator),V2=new Zt(Re.comparator);function on(...r){let e=V2;for(const n of r)e=e.add(n);return e}const L2=new Zt(Fe);function B2(){return L2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function jT(r){return{integerValue:""+r}}function z2(r,e){return c2(e)?jT(e):Up(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function j2(r,e,n){return r instanceof Th?function(o,u){const f={fields:{[AT]:{stringValue:ST},[RT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Np(u)&&(u=Op(u)),u&&(f.fields[wT]=u),{mapValue:f}}(n,e):r instanceof Jl?qT(r,e):r instanceof eu?FT(r,e):function(o,u){const f=HT(o,u),m=gE(f)+gE(o.Ae);return Bm(f)&&Bm(o.Ae)?jT(m):Up(o.serializer,m)}(r,e)}function H2(r,e,n){return r instanceof Jl?qT(r,e):r instanceof eu?FT(r,e):n}function HT(r,e){return r instanceof bh?function(s){return Bm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Th extends zh{}class Jl extends zh{constructor(e){super(),this.elements=e}}function qT(r,e){const n=GT(e);for(const s of r.elements)n.some(o=>ki(o,s))||n.push(s);return{arrayValue:{values:n}}}class eu extends zh{constructor(e){super(),this.elements=e}}function FT(r,e){let n=GT(e);for(const s of r.elements)n=n.filter(o=>!ki(o,s));return{arrayValue:{values:n}}}class bh extends zh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gE(r){return Qt(r.integerValue||r.doubleValue)}function GT(r){return Dp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function q2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof eu&&o instanceof eu?yo(s.elements,o.elements,ki):s instanceof bh&&o instanceof bh?ki(s.Ae,o.Ae):s instanceof Th&&o instanceof Th}(r.transform,e.transform)}class F2{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jh{}function $T(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new YT(r.key,pr.none()):new cu(r.key,r.data,pr.none());{const n=r.data,s=ai.empty();let o=new Zt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ma(r.key,s,new li(o.toArray()),pr.none())}}function G2(r,e,n){r instanceof cu?function(o,u,f){const m=o.value.clone(),y=_E(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ma?function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=_E(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(KT(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function $l(r,e,n,s){return r instanceof cu?function(u,f,m,y){if(!rh(u.precondition,f))return m;const g=u.value.clone(),E=vE(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof ma?function(u,f,m,y){if(!rh(u.precondition,f))return m;const g=vE(u.fieldTransforms,y,f),E=f.data;return E.setAll(KT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function $2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=HT(s.transform,o||null);u!=null&&(n===null&&(n=ai.empty()),n.set(s.field,u))}return n||null}function yE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,(u,f)=>q2(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class cu extends jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ma extends jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function KT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function _E(r,e,n){const s=new Map;mt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,H2(f,m,n[o]))}return s}function vE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,j2(u,f,e))}return s}class YT extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K2 extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&G2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=zT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=$T(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(at.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),on())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,s)=>yE(n,s))&&yo(this.baseMutations,e.baseMutations,(n,s)=>yE(n,s))}}class Vp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){mt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return U2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Vp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Be;function Q2(r){switch(r){case re.OK:return xe(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function W2(r){if(r===void 0)return oa("GRPC error has no .code"),re.UNKNOWN;switch(r){case wt.OK:return re.OK;case wt.CANCELLED:return re.CANCELLED;case wt.UNKNOWN:return re.UNKNOWN;case wt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case wt.INTERNAL:return re.INTERNAL;case wt.UNAVAILABLE:return re.UNAVAILABLE;case wt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case wt.NOT_FOUND:return re.NOT_FOUND;case wt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case wt.ABORTED:return re.ABORTED;case wt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case wt.DATA_LOSS:return re.DATA_LOSS;default:return xe(39323,{code:r})}}(Be=wt||(wt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new bp([4294967295,4294967295],0);class Z2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ex(r,e){return Hm(r,e.toTimestamp())}function ho(r){return mt(!!r,49232),at.fromTimestamp(function(n){const s=la(n);return new ot(s.seconds,s.nanos)}(r))}function XT(r,e){return qm(r,e).canonicalString()}function qm(r,e){const n=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function tx(r){const e=ut.fromString(r);return mt(ux(e),10190,{key:e.toString()}),e}function Fm(r,e){return XT(r.databaseId,e.path)}function nx(r){const e=tx(r);return e.length===4?ut.emptyPath():rx(e)}function ix(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rx(r){return mt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function EE(r,e,n){return{name:Fm(r,e),fields:n.value.mapValue.fields}}function sx(r,e){let n;if(e instanceof cu)n={update:EE(r,e.key,e.value)};else if(e instanceof YT)n={delete:Fm(r,e.key)};else if(e instanceof ma)n={update:EE(r,e.key,e.data),updateMask:lx(e.fieldMask)};else{if(!(e instanceof K2))return xe(16599,{Vt:e.type});n={verify:Fm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw xe(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:ex(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)}(r,e.precondition)),n}function ax(r,e){return r&&r.length>0?(mt(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?ho(o.updateTime):ho(u);return f.isEqual(at.min())&&(f=ho(u)),new F2(f,o.transformResults||[])}(n,e))):[]}function ox(r){let e=nx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){mt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const R=QT(A);return R instanceof hs&&DT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(R=>function(U){return new vh(uo(U.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,xp(R)?null:R}(n.limit));let y=null;n.startAt&&(y=function(A){const R=!!A.before,V=A.values||[];return new _h(V,R)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const R=!A.before,V=A.values||[];return new _h(V,R)}(n.endAt)),x2(e,o,f,u,m,"F",y,g)}function QT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=uo(n.unaryFilter.field);return jt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(r):r.fieldFilter!==void 0?function(n){return jt.create(uo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return hs.create(n.compositeFilter.filters.map(s=>QT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(n.compositeFilter.op))}(r):xe(30097,{filter:r})}function uo(r){return Wt.fromServerFormat(r.fieldPath)}function lx(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ux(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.yt=e}}function hx(r){const e=ox({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.Cn=new dx}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(cs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class dx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Zt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WT=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(WT,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new To(0)}static cr(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="LruGarbageCollector",mx=1048576;function SE([r,e],[n,s]){const o=Fe(r,n);return o===0?Fe(e,s):o}class px{constructor(e){this.Ir=e,this.buffer=new Zt(SE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();SE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(bE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uu(n)?me(bE,"Ignoring IndexedDB error during garbage collection: ",n):await Rp(n)}await this.Vr(3e5)})}}class yx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Cp.ce);const s=new px(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(TE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,y,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),lo()<=Pe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function _x(r,e){return new yx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.changes=new da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ri.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&$l(s.mutation,o,li.empty(),ot.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,on()).next(()=>s))}getLocalViewOfDocuments(e,n,s=on()){const o=Zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Xc();return u.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,on()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Eh();const f=Gl(),m=function(){return Gl()}();return n.forEach((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ma)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),$l(E.mutation,g,E.mutation.getFieldMask(),ot.now())):f.set(g.key,li.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>m.set(g,new Ex(E,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=Gl();let o=new Sn((f,m)=>f-m),u=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const g=n.get(y);if(g===null)return;let E=s.get(y)||li.empty();E=m.applyToLocalView(g,E),s.set(y,E);const A=(o.get(m.batchId)||on()).add(y);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,E=y.value,A=zT();E.forEach(R=>{if(!u.has(R)){const V=$T(n.get(R),s.get(R));V!==null&&A.set(R,V),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Re.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):O2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Zs());let m=Wl,y=u;return f.next(g=>ee.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{y=y.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,y,g,on())).next(E=>({batchId:m,changes:BT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(s=>{let o=Xc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Xc();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,y=>{const g=function(A,R){return new Bh(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,R)=>{f=f.insert(A,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,ri.newInvalidDocument(E)))});let m=Xc();return f.forEach((y,g)=>{const E=u.get(y);E!==void 0&&$l(E.mutation,g,li.empty(),ot.now()),kp(n,g)&&(m=m.insert(y,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ho(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:hx(o.bundledQuery),readTime:ho(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.overlays=new Sn(Re.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new Re(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Sn((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Zs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new X2(n,s));let u=this.qr.get(n);u===void 0&&(u=on(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.sessionToken=Pi.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.Qr=new Zt(zt.$r),this.Ur=new Zt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Re(new ut([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new ut([])),s=new zt(n,e),o=new zt(n,e+1);let u=on();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(zt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Y2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Ip:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Zt(Fe);return n.forEach(o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Re.isDocumentKey(u)||(u=u.child(""));const f=new zt(new Re(u),0);let m=new Zt(Fe);return this.Zr.forEachWhile(y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Yr)),!0)},f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){mt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.ri=e,this.docs=function(){return new Sn(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():ri.newInvalidDocument(n))}getEntries(e,n){let s=Eh();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ri.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Eh();const f=n.path,m=new Re(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||a2(s2(E),s)<=0||(o.has(E.key)||kp(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){xe(9500)}ii(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Cx(this)}getSize(e){return ee.resolve(this.size)}}class Cx extends vx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.persistence=e,this.si=new da(n=>Mp(n),Pp),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.oi=0,this._i=new Lp,this.targetCount=0,this.ai=To.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new To(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.ui={},this.overlays={},this.ci=new Cp(0),this.li=!1,this.li=!0,this.hi=new Ax,this.referenceDelegate=e(this),this.Pi=new Ix(this),this.indexManager=new fx,this.remoteDocumentCache=function(o){return new Rx(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new cx(n),this.Ii=new bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new wx(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new xx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ee.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class xx extends l2{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Ri=new Lp,this.Vi=null}static mi(e){return new Bp(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,s=>{const o=Re.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,at.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.pi=new da(s=>h2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=_x(this,n)}static mi(e,n){return new Sh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ee.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,at.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=on(),o=on();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new zp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return uR()?8:u2(un())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new Nx;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(lo()<=Pe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Bl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(lo()<=Pe.DEBUG&&me("QueryEngine","Query:",Bl(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(lo()<=Pe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Bl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ta(n))):ee.resolve())}ys(e,n){if(pE(n))return ee.resolve(null);let s=ta(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=ta(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=on(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const g=this.Ds(n,m);return this.Cs(n,g,f,y.readTime)?this.ys(e,jm(n,null,"F")):this.vs(e,g,n,y)}))})))}ws(e,n,s,o){return pE(n)||o.isEqual(at.min())?ee.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(lo()<=Pe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bl(n)),this.vs(e,f,n,r2(o,Wl)).next(m=>m))})}Ds(e,n){let s=new Zt(M2(e));return n.forEach((o,u)=>{kp(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return lo()<=Pe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Bl(n)),this.ps.getDocumentsMatchingQuery(e,n,cs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="LocalStore";class Mx{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Sn(Fe),this.xs=new da(u=>Mp(u),Pp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Px(r,e,n,s){return new Mx(r,e,n,s)}async function JT(r,e){const n=nt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let y=on();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function kx(r,e){const n=nt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,g,E){const A=g.batch,R=A.keys();let V=ee.resolve();return R.forEach(U=>{V=V.next(()=>E.getEntry(y,U)).next(z=>{const q=g.docVersions.get(U);mt(q!==null,48541),z.version.compareTo(q)<0&&(A.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),E.addEntry(z)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(y,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=on();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Ux(r){const e=nt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Vx(r,e){const n=nt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}class AE{constructor(){this.activeTargetIds=B2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lx{constructor(){this.Mo=new AE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="ConnectivityMonitor";class RE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(wE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(wE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Gm(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",zx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Gm(),m=this.zo(e,n.toUriEncodedString());me(mm,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(m),E=ms(g);return this.Jo(e,m,y,s,E).then(A=>(me(mm,`Received RPC '${e}' ${f}: `,A),A),A=>{throw Lh(mm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=zx[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class qx extends jx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Gm();return new Promise((m,y)=>{const g=new hT;g.setWithCredentials(!0),g.listenOnce(fT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case th.NO_ERROR:const A=g.getResponseJson();me(rn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case th.TIMEOUT:me(rn,`RPC '${e}' ${f} timed out`),y(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const R=g.getStatus();if(me(rn,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const U=V?.error;if(U&&U.status&&U.message){const z=function($){const ie=$.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(ie)>=0?ie:re.UNKNOWN}(U.status);y(new _e(z,U.message))}else y(new _e(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new _e(re.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(rn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);me(rn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(e,n,s){const o=Gm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=pT(),m=mT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");me(rn,`Creating RPC '${e}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let R=!1,V=!1;const U=new Hx({Yo:q=>{V?me(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(me(rn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),me(rn,`RPC '${e}' stream ${o} sending:`,q),A.send(q))},Zo:()=>A.close()}),z=(q,$,ie)=>{q.listen($,te=>{try{ie(te)}catch(ue){setTimeout(()=>{throw ue},0)}})};return z(A,zl.EventType.OPEN,()=>{V||(me(rn,`RPC '${e}' stream ${o} transport opened.`),U.o_())}),z(A,zl.EventType.CLOSE,()=>{V||(V=!0,me(rn,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(A))}),z(A,zl.EventType.ERROR,q=>{V||(V=!0,Lh(rn,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),U.a_(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),z(A,zl.EventType.MESSAGE,q=>{if(!V){const $=q.data[0];mt(!!$,16349);const ie=$,te=ie?.error||ie[0]?.error;if(te){me(rn,`RPC '${e}' stream ${o} received error:`,te);const ue=te.status;let le=function(w){const C=wt[w];if(C!==void 0)return W2(C)}(ue),he=te.message;le===void 0&&(le=re.INTERNAL,he="Unknown error status: "+ue+" with message "+te.message),V=!0,U.a_(new _e(le,he)),A.close()}else me(rn,`RPC '${e}' stream ${o} received:`,$),U.u_($)}}),z(m,dT.STAT_EVENT,q=>{q.stat===km.PROXY?me(rn,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===km.NOPROXY&&me(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.__()},0),U}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(r){return new Z2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="PersistentStream";class Fx{constructor(e,n,s,o,u,f,m,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(oa(n.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new _e(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return me(CE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(me(CE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gx extends Fx{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ax(e.writeResults,e.commitTime),s=ho(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ix(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>sx(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{}class Kx extends $x{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,qm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(re.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,qm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _e(re.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Yx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oa(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="RemoteStore";class Xx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{du(this)&&(me(hu,"Restarting streams for network reachability change."),await async function(y){const g=nt(y);g.Ea.add(4),await fu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await qh(g)}(this))})}),this.Ra=new Yx(s,o)}}async function qh(r){if(du(r))for(const e of r.da)await e(!0)}async function fu(r){for(const e of r.da)await e(!1)}function du(r){return nt(r).Ea.size===0}async function tb(r,e,n){if(!uu(e))throw e;r.Ea.add(1),await fu(r),r.Ra.set("Offline"),n||(n=()=>Ux(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{me(hu,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await qh(r)})}function nb(r,e){return e().catch(n=>tb(r,n,e))}async function Fh(r){const e=nt(r),n=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ip;for(;Qx(e);)try{const o=await Vx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Wx(e,o)}catch(o){await tb(e,o)}ib(e)&&rb(e)}function Qx(r){return du(r)&&r.Ta.length<10}function Wx(r,e){r.Ta.push(e);const n=fs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function ib(r){return du(r)&&!fs(r).x_()&&r.Ta.length>0}function rb(r){fs(r).start()}async function Zx(r){fs(r).ra()}async function Jx(r){const e=fs(r);for(const n of r.Ta)e.ea(n.mutations)}async function eN(r,e,n){const s=r.Ta.shift(),o=Vp.from(s,e,n);await nb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Fh(r)}async function tN(r,e){e&&fs(r).X_&&await async function(s,o){if(function(f){return Q2(f)&&f!==re.ABORTED}(o.code)){const u=s.Ta.shift();fs(s).B_(),await nb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Fh(s)}}(r,e),ib(r)&&rb(r)}async function IE(r,e){const n=nt(r);n.asyncQueue.verifyOperationInProgress(),me(hu,"RemoteStore received new credentials");const s=du(n);n.Ea.add(3),await fu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qh(n)}async function nN(r,e){const n=nt(r);e?(n.Ea.delete(2),await qh(n)):e||(n.Ea.add(2),await fu(n),n.Ra.set("Unknown"))}function fs(r){return r.fa||(r.fa=function(n,s,o){const u=nt(n);return u.sa(),new Gx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Zx.bind(null,r),r_:tN.bind(null,r),ta:Jx.bind(null,r),na:eN.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Fh(r)):(await r.fa.stop(),r.Ta.length>0&&(me(hu,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new jp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sb(r,e){if(oa("AsyncQueue",`${e}: ${r}`),uu(r))return new _e(re.UNAVAILABLE,`${e}: ${r}`);throw r}class iN{constructor(){this.queries=xE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=nt(n),u=o.queries;o.queries=xE(),u.forEach((f,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function xE(){return new da(r=>VT(r),UT)}function rN(r){r.Ca.forEach(e=>{e.next()})}var NE,OE;(OE=NE||(NE={})).Ma="default",OE.Cache="cache";const sN="SyncEngine";class aN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new da(m=>VT(m),UT),this.Iu=new Map,this.Eu=new Set,this.du=new Sn(Re.comparator),this.Au=new Map,this.Ru=new Lp,this.Vu={},this.mu=new Map,this.fu=To.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oN(r,e,n){const s=hN(r);try{const o=await function(f,m){const y=nt(f),g=ot.now(),E=m.reduce((V,U)=>V.add(U.key),on());let A,R;return y.persistence.runTransaction("Locally write mutations","readwrite",V=>{let U=Eh(),z=on();return y.Ns.getEntries(V,E).next(q=>{U=q,U.forEach(($,ie)=>{ie.isValidDocument()||(z=z.add($))})}).next(()=>y.localDocuments.getOverlayedDocuments(V,U)).next(q=>{A=q;const $=[];for(const ie of m){const te=$2(ie,A.get(ie.key).overlayedDocument);te!=null&&$.push(new ma(ie.key,te,xT(te.value.mapValue),pr.exists(!0)))}return y.mutationQueue.addMutationBatch(V,g,$,m)}).next(q=>{R=q;const $=q.applyToLocalDocumentSet(A,z);return y.documentOverlayCache.saveOverlays(V,q.batchId,$)})}).then(()=>({batchId:R.batchId,changes:BT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new Sn(Fe)),g=g.insert(m,y),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Gh(s,o.changes),await Fh(s.remoteStore)}catch(o){const u=sb(o,"Failed to persist write");n.reject(u)}}function DE(r,e,n){const s=nt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=nt(f);y.onlineState=m;let g=!1;y.queries.forEach((E,A)=>{for(const R of A.Sa)R.va(m)&&(g=!0)}),g&&rN(y)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lN(r,e){const n=nt(r),s=e.batch.batchId;try{const o=await kx(n.localStore,e);ob(n,s,null),ab(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Gh(n,o)}catch(o){await Rp(o)}}async function uN(r,e,n){const s=nt(r);try{const o=await function(f,m){const y=nt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return y.mutationQueue.lookupMutationBatch(g,m).next(A=>(mt(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(g,A))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>y.localDocuments.getDocuments(g,E))})}(s.localStore,e);ob(s,e,n),ab(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Gh(s,o)}catch(o){await Rp(o)}}function ab(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function ob(r,e,n){const s=nt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}async function Gh(r,e,n){const s=nt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{f.push(s.pu(y,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=zp.As(y.targetId,g);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(y,g){const E=nt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,R=>ee.forEach(R.Es,V=>E.persistence.referenceDelegate.addReference(A,R.targetId,V)).next(()=>ee.forEach(R.ds,V=>E.persistence.referenceDelegate.removeReference(A,R.targetId,V)))))}catch(A){if(!uu(A))throw A;me(Dx,"Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const V=E.Ms.get(R),U=V.snapshotVersion,z=V.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(R,z)}}}(s.localStore,u))}async function cN(r,e){const n=nt(r);if(!n.currentUser.isEqual(e)){me(sN,"User change. New user:",e.toKey());const s=await JT(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(y=>{y.reject(new _e(re.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Gh(n,s.Ls)}}function hN(r){const e=nt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uN.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Px(this.persistence,new Ox,e.initialUser,this.serializer)}Cu(e){return new ZT(Bp.mi,this.serializer)}Du(e){return new Lx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class fN extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){mt(this.persistence.referenceDelegate instanceof Sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new ZT(s=>Sh.mi(s,n),this.serializer)}}class $m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>DE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cN.bind(null,this.syncEngine),await nN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iN}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),s=function(u){return new qx(u)}(e.databaseInfo);return function(u,f,m,y){return new Kx(u,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new Xx(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>DE(this.syncEngine,n,0),function(){return RE.v()?new RE:new Bx}())}createSyncEngine(e,n){return function(o,u,f,m,y,g,E){const A=new aN(o,u,f,m,y,g);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=nt(n);me(hu,"RemoteStore shutting down."),s.Ea.add(5),await fu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$m.provider={build:()=>new $m};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="FirestoreClient";class dN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{me(ds,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(me(ds,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sb(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function gm(r,e){r.asyncQueue.verifyOperationInProgress(),me(ds,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await JT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function ME(r,e){r.asyncQueue.verifyOperationInProgress();const n=await mN(r);me(ds,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>IE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>IE(e.remoteStore,o)),r._onlineComponents=e}async function mN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(ds,"Using user provided OfflineComponentProvider");try{await gm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Lh("Error using user provided cache. Falling back to memory cache: "+n),await gm(r,new Ah)}}else me(ds,"Using default OfflineComponentProvider"),await gm(r,new fN(void 0));return r._offlineComponents}async function pN(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(ds,"Using user provided OnlineComponentProvider"),await ME(r,r._uninitializedComponentsProvider._online)):(me(ds,"Using default OnlineComponentProvider"),await ME(r,new $m))),r._onlineComponents}function gN(r){return pN(r).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="firestore.googleapis.com",kE=!0;class UE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ub,this.ssl=kE}else this.host=e.host,this.ssl=e.ssl??kE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mx)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lb(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new KI;switch(s.type){case"firstParty":return new WI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=PE.get(n);s&&(me("ComponentProvider","Removing Datastore"),PE.delete(n),s.terminate())}(this),Promise.resolve()}}function yN(r,e,n,s={}){r=ET(r,$h);const o=ms(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(ap(`https://${m}`),op("Firestore",!0)),u.host!==ub&&u.host!==m&&Lh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!ia(y,f)&&(r._setSettings(y),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=an.MOCK_USER;else{g=G0(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new an(A)}r._authCredentials=new YI(new yT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Hp(this.firestore,e,this._query)}}class ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}toJSON(){return{type:ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(lu(n,ln._jsonSchema))return new ln(e,s||null,new Re(ut.fromString(n.referencePath)))}}ln._jsonSchemaVersion="firestore/documentReference/1.0",ln._jsonSchema={type:Ct("string",ln._jsonSchemaVersion),referencePath:Ct("string")};class ls extends Hp{constructor(e,n,s){super(e,n,N2(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new Re(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function _N(r,e,...n){if(r=Jt(r),_T("collection","path",e),r instanceof $h){const s=ut.fromString(e,...n);return rE(s),new ls(r,null,s)}{if(!(r instanceof ln||r instanceof ls))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return rE(s),new ls(r.firestore,null,s)}}function vN(r,e,...n){if(r=Jt(r),arguments.length===1&&(e=Ap.newId()),_T("doc","path",e),r instanceof $h){const s=ut.fromString(e,...n);return iE(s),new ln(r,null,new Re(s))}{if(!(r instanceof ln||r instanceof ls))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return iE(s),new ln(r.firestore,r instanceof ls?r.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class LE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eb(this,"async_queue_retry"),this._c=()=>{const s=pm();s&&me(VE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ea;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uu(e))throw e;me(VE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,oa("INTERNAL UNHANDLED ERROR: ",BE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=jp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:BE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class cb extends $h{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new LE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LE(e),this._firestoreClient=void 0,await e}}}function EN(r,e){const n=typeof r=="object"?r:cp(),s=typeof r=="string"?r:gh,o=Uh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=H0("firestore");u&&yN(o,...u)}return o}function TN(r){if(r._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bN(r),r._firestoreClient}function bN(r){const e=r._freezeSettings(),n=function(o,u,f,m){return new p2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,lb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new dN(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(Pi.fromBase64String(e))}catch(n){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oi(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:Ct("string",oi._jsonSchemaVersion),bytes:Ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(lu(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:Ct("string",gr._jsonSchemaVersion),latitude:Ct("number"),longitude:Ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new yr(e.vectorValues);throw new _e(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:Ct("string",yr._jsonSchemaVersion),vectorValues:Ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^__.*__$/;class AN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}function fb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:r})}}class Fp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fb(this.Ac)&&SN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hh(e)}Cc(e,n,s,o=!1){return new Fp({Ac:e,methodName:n,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RN(r){const e=r._freezeSettings(),n=Hh(r._databaseId);return new wN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function CN(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);gb("Data must be an object, but it was:",f,s);const m=mb(s,f);let y,g;if(u.merge)y=new li(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=IN(e,A,n);if(!f.contains(R))throw new _e(re.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);NN(E,R)||E.push(R)}y=new li(E),g=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,g=f.fieldTransforms;return new AN(new ai(m),y,g)}function db(r,e){if(pb(r=Jt(r)))return gb("Unsupported field value:",e,r),mb(r,e);if(r instanceof hb)return function(s,o){if(!fb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let y=db(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return z2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ot.fromDate(s);return{timestampValue:Hm(o.serializer,u)}}if(s instanceof ot){const u=new ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hm(o.serializer,u)}}if(s instanceof gr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oi)return{bytesValue:J2(o.serializer,s._byteString)};if(s instanceof ln){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:XT(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yr)return function(f,m){return{mapValue:{fields:{[CT]:{stringValue:IT},[Vm]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Up(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${wp(s)}`)}(r,e)}function mb(r,e){const n={};return bT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Io(r,(s,o)=>{const u=db(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function pb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ot||r instanceof gr||r instanceof oi||r instanceof ln||r instanceof hb||r instanceof yr)}function gb(r,e,n){if(!pb(n)||!vT(n)){const s=wp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function IN(r,e,n){if((e=Jt(e))instanceof qp)return e._internalPath;if(typeof e=="string")return yb(r,e);throw wh("Field path arguments must be of type string or ",r,!1,void 0,n)}const xN=new RegExp("[~\\*/\\[\\]]");function yb(r,e,n){if(e.search(xN)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new qp(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new _e(re.INVALID_ARGUMENT,m+r+y)}function NN(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ON(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ON extends _b{data(){return super.data()}}function vb(r,e){return typeof e=="string"?yb(r,e):e instanceof qp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fo extends _b{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(vb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=fo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",fo._jsonSchema={type:Ct("string",fo._jsonSchemaVersion),bundleSource:Ct("string","DocumentSnapshot"),bundleName:Ct("string"),bundle:Ct("string")};class sh extends fo{data(e={}){return super.data(e)}}class Kl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Wc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new sh(this._firestore,this._userDataWriter,s.key,s,new Wc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Wc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:MN(m.type),doc:y,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _e(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}Kl._jsonSchemaVersion="firestore/querySnapshot/1.0",Kl._jsonSchema={type:Ct("string",Kl._jsonSchemaVersion),bundleSource:Ct("string","QuerySnapshot"),bundleName:Ct("string"),bundle:Ct("string")};function PN(r,e){const n=ET(r.firestore,cb),s=vN(r),o=DN(r.converter,e);return kN(n,[CN(RN(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,pr.exists(!1))]).then(()=>s)}function kN(r,e){return function(s,o){const u=new ea;return s.asyncQueue.enqueueAndForget(async()=>oN(await gN(s),o,u)),u.promise}(TN(r),e)}(function(e,n=!0){(function(o){Co=o})(fa),ra(new us("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new cb(new XI(s.getProvider("auth-internal")),new ZI(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yh(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ni(Jv,eE,e),Ni(Jv,eE,"esm2020")})();function Eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UN=Eb,Tb=new au("auth","Firebase",Eb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new lp("@firebase/auth");function VN(r,...e){Rh.logLevel<=Pe.WARN&&Rh.warn(`Auth (${fa}): ${r}`,...e)}function ah(r,...e){Rh.logLevel<=Pe.ERROR&&Rh.error(`Auth (${fa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(r,...e){throw Gp(r,...e)}function Oi(r,...e){return Gp(r,...e)}function bb(r,e,n){const s={...UN(),[e]:n};return new au("auth","Firebase",s).create(e,{appName:r.name})}function na(r){return bb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Tb.create(r,...e)}function Se(r,e,...n){if(!r)throw Gp(e,...n)}function fr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ah(e),new Error(e)}function br(r,e){r||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){return typeof self<"u"&&self.location?.href||""}function LN(){return zE()==="http:"||zE()==="https:"}function zE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LN()||aR()||"connection"in navigator)?navigator.onLine:!0}function zN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=iR()||oR()}get(){return BN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r,e){br(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qN=new mu(3e4,6e4);function Kp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function xo(r,e,n,s,o={}){return Ab(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ou({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...u};return sR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ms(r.emulatorConfig.host)&&(g.credentials="include"),Sb.fetch()(await wb(r,r.config.apiHost,n,m),g)})}async function Ab(r,e,n){r._canInitEmulator=!1;const s={...jN,...e};try{const o=new GN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw Zc(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bb(r,E,g);Tr(r,E)}}catch(o){if(o instanceof Vi)throw o;Tr(r,"network-request-failed",{message:String(o)})}}async function FN(r,e,n,s,o={}){const u=await xo(r,e,n,s,o);return"mfaPendingCredential"in u&&Tr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function wb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?$p(r.config,o):`${r.config.apiScheme}://${o}`;return HN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class GN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),qN.get())})}}function Zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Oi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(r,e){return xo(r,"POST","/v1/accounts:delete",e)}async function Ch(r,e){return xo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KN(r,e=!1){const n=Jt(r),s=await n.getIdToken(e),o=Yp(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Yl(ym(o.auth_time)),issuedAtTime:Yl(ym(o.iat)),expirationTime:Yl(ym(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function ym(r){return Number(r)*1e3}function Yp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=z0(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o?.toString()),null}}function jE(r){const e=Yp(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vi&&YN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(r){const e=r.auth,n=await r.getIdToken(),s=await tu(r,Ch(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Rb(o.providerUserInfo):[],f=WN(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,g=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function QN(r){const e=Jt(r);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Rb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(r,e){const n=await Ab(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await wb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&ms(r.emulatorConfig.host)&&(y.credentials="include"),Sb.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JN(r,e){return xo(r,"POST","/v2/accounts:revokeToken",Kp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=jE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ZN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new mo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new XN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KN(this,e)}reload(){return QN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(na(this.auth));const e=await this.getIdToken();return await tu(this,$N(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:V,providerData:U,stsTokenManager:z}=n;Se(A&&z,e,"internal-error");const q=mo.fromJSON(this.name,z);Se(typeof A=="string",e,"internal-error"),es(s,e.name),es(o,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof V=="boolean",e,"internal-error"),es(u,e.name),es(f,e.name),es(m,e.name),es(y,e.name),es(g,e.name),es(E,e.name);const $=new ui({uid:A,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:E});return U&&Array.isArray(U)&&($.providerData=U.map(ie=>({...ie}))),y&&($._redirectEventId=y),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new mo;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Rb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new mo;m.updateFromIdToken(s);const y=new ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function dr(r){br(r instanceof Function,"Expected a class definition");let e=HE.get(r);return e?(br(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,HE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cb.type="NONE";const qE=Cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(r,e,n){return`firebase:${r}:${e}:${n}`}class po{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new po(dr(qE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||dr(qE);const f=oh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const R=await Ch(e,{idToken:E}).catch(()=>{});if(!R)break;A=await ui._fromGetAccountInfoResponse(e,R,E)}else A=ui._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new po(u,e,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new po(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mb(e))return"Blackberry";if(Pb(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||Nb(e))&&!e.includes("edge/"))return"Chrome";if(Db(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Ib(r=un()){return/firefox\//i.test(r)}function xb(r=un()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nb(r=un()){return/crios\//i.test(r)}function Ob(r=un()){return/iemobile/i.test(r)}function Db(r=un()){return/android/i.test(r)}function Mb(r=un()){return/blackberry/i.test(r)}function Pb(r=un()){return/webos/i.test(r)}function Xp(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function eO(r=un()){return Xp(r)&&!!window.navigator?.standalone}function tO(){return lR()&&document.documentMode===10}function kb(r=un()){return Xp(r)||Db(r)||Pb(r)||Mb(r)||/windows phone/i.test(r)||Ob(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(r,e=[]){let n;switch(r){case"Browser":n=FE(un());break;case"Worker":n=`${FE(un())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(r,e={}){return xo(r,"GET","/v2/passwordPolicy",Kp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=6;class sO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GE(this),this.idTokenSubscription=new GE(this),this.beforeStateQueue=new nO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(si(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(na(this));const n=e?Jt(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(na(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(na(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iO(this),n=new sO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await JN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qp(r){return Jt(r)}class GE{constructor(e){this.auth=e,this.observer=null,this.addObserver=gR(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oO(r){Wp=r}function lO(r){return Wp.loadJS(r)}function uO(){return Wp.gapiScript}function cO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(r,e){const n=Uh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ia(u,e??{}))return o;Tr(o,"already-initialized")}return n.initialize({options:e})}function fO(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function dO(r,e,n){const s=Qp(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Vb(e),{host:f,port:m}=mO(e),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ia(g,s.config.emulator)&&ia(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ms(f)?(ap(`${u}//${f}${y}`),op("Auth",!0)):pO()}function Vb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function mO(r){const e=Vb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:$E(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:$E(f)}}}function $E(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function pO(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r,e){return FN(r,"POST","/v1/accounts:signInWithIdp",Kp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="http://localhost";class ca extends Lb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ca(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,go(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:gO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Bb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends pu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends pu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends pu{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ui._fromIdTokenResponse(e,s,o),f=KE(s);return new bo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=KE(s);return new bo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function KE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Vi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xh(e,n,s,o)}}function zb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(r,u,e,s):u})}async function yO(r,e,n=!1){const s=await tu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return bo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(r,e,n=!1){const{auth:s}=r;if(si(s.app))return Promise.reject(na(s));const o="reauthenticate";try{const u=await tu(r,zb(s,o,e,r),n);Se(u.idToken,s,"internal-error");const f=Yp(u.idToken);Se(f,s,"internal-error");const{sub:m}=f;return Se(r.uid===m,s,"user-mismatch"),bo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Tr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(r,e,n=!1){if(si(r.app))return Promise.reject(na(r));const s="signIn",o=await zb(r,s,e),u=await bo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function EO(r,e,n,s){return Jt(r).onIdTokenChanged(e,n,s)}function TO(r,e,n){return Jt(r).beforeAuthStateChanged(e,n)}function bO(r,e,n,s){return Jt(r).onAuthStateChanged(e,n,s)}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=1e3,AO=10;class Hb extends jb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);tO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},SO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hb.type="LOCAL";const wO=Hb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb extends jb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qb.type="SESSION";const Fb=qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await RO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=Zp("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}function IO(r){Di().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function xO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NO(){return navigator?.serviceWorker?.controller||null}function OO(){return Gb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="firebaseLocalStorageDb",DO=1,Oh="firebaseLocalStorage",Kb="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function MO(){const r=indexedDB.deleteDatabase($b);return new gu(r).toPromise()}function Xm(){const r=indexedDB.open($b,DO);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Oh,{keyPath:Kb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await MO(),e(await Xm()))})})}async function YE(r,e,n){const s=Yh(r,!0).put({[Kb]:e,value:n});return new gu(s).toPromise()}async function PO(r,e){const n=Yh(r,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function XE(r,e){const n=Yh(r,!0).delete(e);return new gu(n).toPromise()}const kO=800,UO=3;class Yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>UO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(OO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xO(),!this.activeServiceWorker)return;this.sender=new CO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await YE(e,Nh,"1"),await XE(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>YE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yb.type="LOCAL";const VO=Yb;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(r,e){return e?dr(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends Lb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BO(r){return vO(r.auth,new Jp(r),r.bypassAuthState)}function zO(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),_O(n,new Jp(r),r.bypassAuthState)}async function jO(r){const{auth:e,user:n}=r;return Se(n,e,"internal-error"),yO(n,new Jp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BO;case"linkViaPopup":case"linkViaRedirect":return jO;case"reauthViaPopup":case"reauthViaRedirect":return zO;default:Tr(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new mu(2e3,1e4);class co extends Xb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HO.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="pendingRedirect",lh=new Map;class FO extends Xb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await GO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GO(r,e){const n=YO(e),s=KO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $O(r,e){lh.set(r._key(),e)}function KO(r){return dr(r._redirectPersistence)}function YO(r){return oh(qO,r.config.apiKey,r.name)}async function XO(r,e,n=!1){if(si(r.app))return Promise.reject(na(r));const s=Qp(r),o=LO(s,e),f=await new FO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=10*60*1e3;class WO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Qb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QO&&this.cachedEventUids.clear(),this.cachedEventUids.has(QE(e))}saveEventToCache(e){this.cachedEventUids.add(QE(e)),this.lastProcessedEventTime=Date.now()}}function QE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Qb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ZO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(r,e={}){return xo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tD=/^https?/;async function nD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await JO(r);for(const n of e)try{if(iD(n))return}catch{}Tr(r,"unauthorized-domain")}function iD(r){const e=Km(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!tD.test(n))return!1;if(eD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new mu(3e4,6e4);function WE(){const r=Di().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function sD(r){return new Promise((e,n)=>{function s(){WE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WE(),n(Oi(r,"network-request-failed"))},timeout:rD.get()})}if(Di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Di().gapi?.load)s();else{const o=cO("iframefcb");return Di()[o]=()=>{gapi.load?s():n(Oi(r,"network-request-failed"))},lO(`${uO()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw uh=null,e})}let uh=null;function aD(r){return uh=uh||sD(r),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new mu(5e3,15e3),lD="__/auth/iframe",uD="emulator/auth/iframe",cD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fD(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?$p(e,uD):`https://${r.config.authDomain}/${lD}`,s={apiKey:e.apiKey,appName:r.name,v:fa},o=hD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function dD(r){const e=await aD(r),n=Di().gapi;return Se(n,r,"internal-error"),e.open({where:document.body,url:fD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Oi(r,"network-request-failed"),m=Di().setTimeout(()=>{u(f)},oD.get());function y(){Di().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pD=500,gD=600,yD="_blank",_D="http://localhost";class ZE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vD(r,e,n,s=pD,o=gD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...mD,width:s.toString(),height:o.toString(),top:u,left:f},g=un().toLowerCase();n&&(m=Nb(g)?yD:n),Ib(g)&&(e=e||_D,y.scrollbars="yes");const E=Object.entries(y).reduce((R,[V,U])=>`${R}${V}=${U},`,"");if(eO(g)&&m!=="_self")return ED(e||"",m),new ZE(null);const A=window.open(e||"",m,E);Se(A,r,"popup-blocked");try{A.focus()}catch{}return new ZE(A)}function ED(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="__/auth/handler",bD="emulator/auth/handler",SD=encodeURIComponent("fac");async function JE(r,e,n,s,o,u){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:fa,eventId:o};if(e instanceof Bb){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",pR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof pu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),g=y?`#${SD}=${encodeURIComponent(y)}`:"";return`${AD(r)}?${ou(m).slice(1)}${g}`}function AD({config:r}){return r.emulator?$p(r,bD):`https://${r.authDomain}/${TD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class wD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fb,this._completeRedirectFn=XO,this._overrideRedirectResult=$O}async _openPopup(e,n,s,o){br(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await JE(e,n,s,Km(),o);return vD(e,u,Zp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await JE(e,n,s,Km(),o);return IO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dD(e),s=new WO(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{const u=o?.[0]?.[_m];u!==void 0&&n(!!u),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kb()||xb()||Xp()}}const RD=wD;var e0="@firebase/auth",t0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xD(r){ra(new us("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Se(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ub(r)},g=new aO(s,o,u,y);return fO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ra(new us("auth-internal",e=>{const n=Qp(e.getProvider("auth").getImmediate());return(s=>new CD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(e0,t0,ID(r)),Ni(e0,t0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=5*60,OD=F0("authIdTokenMaxAge")||ND;let n0=null;const DD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>OD)return;const o=n?.token;n0!==o&&(n0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MD(r=cp()){const e=Uh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=hO(r,{popupRedirectResolver:RD,persistence:[VO,wO,Fb]}),s=F0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=DD(u.toString());TO(n,f,()=>f(n.currentUser)),EO(n,m=>f(m))}}const o=j0("auth");return o&&dO(n,`http://${o}`),n}function PD(){return document.getElementsByTagName("head")?.[0]??document}oO({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",PD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xD("Browser");const kD={apiKey:"AIzaSyC7-csoZhhfuwiDUjT2bzg1vzjmDFdFOZ8",authDomain:"airbrushnink-9f735.firebaseapp.com",projectId:"airbrushnink-9f735",storageBucket:"airbrushnink-9f735.firebasestorage.app",messagingSenderId:"215988959144",appId:"1:215988959144:web:112df869e6d191c0970f9d"},eg=Y0(kD),UD=MD(eg),tg=jI(eg),VD=EN(eg),Wb="carousel",Zb="controller",LD="navigation",BD="no-scroll",ng="portal",zD="root",Jb="toolbar",vm="loading",Em="error",Tm="complete",jD="placeholder",HD=r=>`active-slide-${r}`,e1="flex_center",qD="no_scroll",t1="no_scroll_padding",ig="slide",FD="slide_wrapper",Qs="prev",Ws="next",i0="swipe",So="close",n1="onPointerDown",i1="onPointerMove",r1="onPointerUp",s1="onPointerLeave",a1="onPointerCancel",o1="onKeyDown",GD="onKeyUp",l1="onWheel",$D="Escape",KD="ArrowLeft",YD="ArrowRight",XD="button",Qm="icon",u1="contain",r0="cover",QD="Unknown action type",c1="yarl__";function _r(...r){return[...r].filter(Boolean).join(" ")}function Ge(r){return`${c1}${r}`}function bn(r){return`--${c1}${r}`}function yu(r,e){return`${r}${e?`_${e}`:""}`}function rg(r){return e=>yu(r,e)}function Ao(r,e){var n;return(n=r?.[e])!==null&&n!==void 0?n:e}function WD(r,e,n){return Ao(r,"{index} of {total}").replace(/\{index}/g,`${sg(n,e.length)+1}`).replace(/\{total}/g,`${e.length}`)}function h1(...r){return()=>{r.forEach(e=>{e()})}}function ps(r,e,n){return()=>{const s=S.useContext(n);if(!s)throw new Error(`${r} must be used within a ${e}.Provider`);return s}}function f1(){return typeof window<"u"}function ZD(r,e=0){const n=10**e;return Math.round((r+Number.EPSILON)*n)/n}function d1(r){return r.type===void 0||r.type==="image"}function JD(r,e){return r.imageFit===r0||r.imageFit!==u1&&e===r0}function Xh(r){return typeof r=="string"?Number.parseInt(r,10):r}function Dh(r){if(typeof r=="number")return{pixel:r};if(typeof r=="string"){const e=Xh(r);return r.endsWith("%")?{percent:e}:{pixel:e}}return{pixel:0}}function eM(r,e){const n=Dh(e),s=n.percent!==void 0?r.width/100*n.percent:n.pixel;return{width:Math.max(r.width-2*s,0),height:Math.max(r.height-2*s,0)}}function sg(r,e){return e>0?(r%e+e)%e:0}function m1(r){return r.length>0}function p1(r,e){return r[sg(e,r.length)]}function Wm(r,e){return m1(r)?p1(r,e):void 0}function tM(r){return d1(r)?r.src:void 0}function nM(r,e,n=0){return Math.min(r.preload,Math.max(r.finite?e.length-1:Math.floor(e.length/2),n))}const iM=Number(S.version.split(".")[0])>=19;function rM(r){return{inert:iM?r:r?"":void 0}}function sM(r){r.scrollTop}const Zm={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[So]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:u1,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function pa(r,e){return{name:r,component:e}}function Bt(r,e){return{module:r,children:e}}function g1(r,e,n){return r.module.name===e?n(r):r.children?[Bt(r.module,r.children.flatMap(s=>{var o;return(o=g1(s,e,n))!==null&&o!==void 0?o:[]}))]:[r]}function oo(r,e,n){return r.flatMap(s=>{var o;return(o=g1(s,e,n))!==null&&o!==void 0?o:[]})}function aM(r,e=[],n=[]){let s=r;const o=V=>{const U=[...s];for(;U.length>0;){const z=U.pop();if(z?.module.name===V)return!0;z?.children&&U.push(...z.children)}return!1},u=(V,U)=>{if(V===""){s=[Bt(U,s)];return}s=oo(s,V,z=>[Bt(U,[z])])},f=(V,U)=>{s=oo(s,V,z=>[Bt(z.module,[Bt(U,z.children)])])},m=(V,U,z)=>{s=oo(s,V,q=>{var $;return[Bt(q.module,[...z?[Bt(U)]:[],...($=q.children)!==null&&$!==void 0?$:[],...z?[]:[Bt(U)]])]})},y=(V,U,z)=>{s=oo(s,V,q=>[...z?[Bt(U)]:[],q,...z?[]:[Bt(U)]])},g=V=>{f(Zb,V)},E=(V,U)=>{s=oo(s,V,z=>[Bt(U,z.children)])},A=V=>{s=oo(s,V,U=>U.children)},R=V=>{n.push(V)};return e.forEach(V=>{V({contains:o,addParent:u,append:f,addChild:m,addSibling:y,addModule:g,replace:E,remove:A,augment:R})}),{config:s,augmentation:V=>n.reduce((U,z)=>z(U),V)}}const y1=S.createContext(null),_1=ps("useA11yContext","A11yContext",y1);function oM({children:r}){const[e,n]=S.useState(!1),[s,o]=S.useState(!1),u=S.useMemo(()=>({focusWithin:e,trackFocusWithin:(m,y)=>{const g=E=>A=>{var R;A.currentTarget.contains(A.relatedTarget)||n(E),(R=E?m:y)===null||R===void 0||R(A)};return{onFocus:g(!0),onBlur:g(!1)}},autoPlaying:s,setAutoPlaying:o}),[e,s]);return S.createElement(y1.Provider,{value:u},r)}const v1=S.createContext(null),ag=ps("useDocument","DocumentContext",v1);function lM({nodeRef:r,children:e}){const n=S.useMemo(()=>{const s=u=>{var f;return((f=u||r.current)===null||f===void 0?void 0:f.ownerDocument)||document};return{getOwnerDocument:s,getOwnerWindow:u=>{var f;return((f=s(u))===null||f===void 0?void 0:f.defaultView)||window}}},[r]);return S.createElement(v1.Provider,{value:n},e)}const E1=S.createContext(null),Qh=ps("useEvents","EventsContext",E1);function uM({children:r}){const[e]=S.useState({});S.useEffect(()=>()=>{Object.keys(e).forEach(s=>delete e[s])},[e]);const n=S.useMemo(()=>{const s=(f,m)=>{var y;(y=e[f])===null||y===void 0||y.splice(0,e[f].length,...e[f].filter(g=>g!==m))};return{publish:(...[f,m])=>{var y;(y=e[f])===null||y===void 0||y.forEach(g=>g(m))},subscribe:(f,m)=>(e[f]||(e[f]=[]),e[f].push(m),()=>s(f,m)),unsubscribe:s}},[e]);return S.createElement(E1.Provider,{value:n},r)}const T1=S.createContext(null),_u=ps("useLightboxProps","LightboxPropsContext",T1);function cM({children:r,...e}){return S.createElement(T1.Provider,{value:e},r)}const b1=S.createContext(null),Wh=ps("useLightboxState","LightboxStateContext",b1),S1=S.createContext(null),hM=ps("useLightboxDispatch","LightboxDispatchContext",S1);function fM(r,e){switch(e.type){case"swipe":{const{slides:n}=r,s=e?.increment||0,o=r.globalIndex+s,u=sg(o,n.length),f=Wm(n,u),m=s||e.duration!==void 0?{increment:s,duration:e.duration,easing:e.easing}:void 0;return{slides:n,currentIndex:u,globalIndex:o,currentSlide:f,animation:m}}case"update":return e.slides!==r.slides||e.index!==r.currentIndex?{slides:e.slides,currentIndex:e.index,globalIndex:e.index,currentSlide:Wm(e.slides,e.index)}:r;default:throw new Error(QD)}}function dM({slides:r,index:e,children:n}){const[s,o]=S.useReducer(fM,{slides:r,currentIndex:e,globalIndex:e,currentSlide:Wm(r,e)});S.useEffect(()=>{o({type:"update",slides:r,index:e})},[r,e]);const u=S.useMemo(()=>({...s,state:s,dispatch:o}),[s,o]);return S.createElement(S1.Provider,{value:o},S.createElement(b1.Provider,{value:u},n))}const A1=S.createContext(null),Zh=ps("useTimeouts","TimeoutsContext",A1);function mM({children:r}){const[e]=S.useState([]);S.useEffect(()=>()=>{e.forEach(s=>window.clearTimeout(s)),e.splice(0,e.length)},[e]);const n=S.useMemo(()=>{const s=f=>{e.splice(0,e.length,...e.filter(m=>m!==f))};return{setTimeout:(f,m)=>{const y=window.setTimeout(()=>{s(y),f()},m);return e.push(y),y},clearTimeout:f=>{f!==void 0&&(s(f),window.clearTimeout(f))}}},[e]);return S.createElement(A1.Provider,{value:n},r)}const w1=S.forwardRef(function({label:e,className:n,icon:s,renderIcon:o,onClick:u,style:f,...m},y){const{styles:g,labels:E}=_u(),A=Ao(E,e);return S.createElement("button",{ref:y,type:"button",title:A,"aria-label":A,className:_r(Ge(XD),n),onClick:u,style:{...f,...g.button},...m},o?o():S.createElement(s,{className:Ge(Qm),style:g.icon}))});function pM(r,e){const n=s=>S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...s},e);return n.displayName=r,n}function vu(r,e){return pM(r,S.createElement("g",{fill:"currentColor"},S.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),e))}const gM=vu("Close",S.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),yM=vu("Previous",S.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),_M=vu("Next",S.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),vM=vu("Loading",S.createElement(S.Fragment,null,Array.from({length:8}).map((r,e,n)=>S.createElement("line",{key:e,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/n.length*(e+1),transform:`rotate(${360/n.length*e}, 12, 12)`})))),EM=vu("Error",S.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Eu=f1()?S.useLayoutEffect:S.useEffect;function R1(){const[r,e]=S.useState(!1);return S.useEffect(()=>{var n,s;const o=(n=window.matchMedia)===null||n===void 0?void 0:n.call(window,"(prefers-reduced-motion: reduce)");e(o?.matches);const u=f=>e(f.matches);return(s=o?.addEventListener)===null||s===void 0||s.call(o,"change",u),()=>{var f;return(f=o?.removeEventListener)===null||f===void 0?void 0:f.call(o,"change",u)}},[]),r}function TM(r){let e=0,n=0,s=0;const u=window.getComputedStyle(r).transform.match(/matrix.*\((.+)\)/);if(u){const f=u[1].split(",").map(Xh);f.length===6?(e=f[4],n=f[5]):f.length===16&&(e=f[12],n=f[13],s=f[14])}return{x:e,y:n,z:s}}function s0(r,e){const n=S.useRef(void 0),s=S.useRef(void 0),o=R1();return Eu(()=>{var u,f,m;if(r.current&&n.current!==void 0&&!o){const{keyframes:y,duration:g,easing:E,onfinish:A}=e(n.current,r.current.getBoundingClientRect(),TM(r.current))||{};if(y&&g){(u=s.current)===null||u===void 0||u.cancel(),s.current=void 0;try{s.current=(m=(f=r.current).animate)===null||m===void 0?void 0:m.call(f,y,{duration:g,easing:E})}catch(R){console.error(R)}s.current&&(s.current.onfinish=()=>{s.current=void 0,A?.()})}}n.current=void 0}),{prepareAnimation:u=>{n.current=u},isAnimationPlaying:()=>{var u;return((u=s.current)===null||u===void 0?void 0:u.playState)==="running"}}}function C1(){const r=S.useRef(null),e=S.useRef(void 0),[n,s]=S.useState();return{setContainerRef:S.useCallback(u=>{r.current=u,e.current&&(e.current.disconnect(),e.current=void 0);const f=()=>{if(u){const m=window.getComputedStyle(u),y=g=>parseFloat(g)||0;s({width:Math.round(u.clientWidth-y(m.paddingLeft)-y(m.paddingRight)),height:Math.round(u.clientHeight-y(m.paddingTop)-y(m.paddingBottom))})}else s(void 0)};f(),u&&typeof ResizeObserver<"u"&&(e.current=new ResizeObserver(f),e.current.observe(u))},[]),containerRef:r,containerRect:n}}function ch(){const r=S.useRef(void 0),{setTimeout:e,clearTimeout:n}=Zh();return S.useCallback((s,o)=>{n(r.current),r.current=e(s,o>0?o:0)},[e,n])}function Rt(r){const e=S.useRef(r);return Eu(()=>{e.current=r}),S.useCallback((...n)=>{var s;return(s=e.current)===null||s===void 0?void 0:s.call(e,...n)},[])}function a0(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function Jm(r,e){return S.useMemo(()=>r==null&&e==null?null:n=>{a0(r,n),a0(e,n)},[r,e])}function bM(r,e=!1){const n=S.useRef(!1);Eu(()=>{e&&n.current&&(n.current=!1,r())},[e,r]);const s=S.useCallback(()=>{n.current=!0},[]),o=S.useCallback(()=>{n.current=!1},[]);return{onFocus:s,onBlur:o}}function og(){const[r,e]=S.useState(!1);return Eu(()=>{e(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),r}function SM(){const[r]=S.useState({}),e=S.useCallback((o,u)=>{var f;(f=r[o])===null||f===void 0||f.forEach(m=>{u.isPropagationStopped()||m(u)})},[r]),n=S.useMemo(()=>({onPointerDown:o=>e(n1,o),onPointerMove:o=>e(i1,o),onPointerUp:o=>e(r1,o),onPointerLeave:o=>e(s1,o),onPointerCancel:o=>e(a1,o),onKeyDown:o=>e(o1,o),onKeyUp:o=>e(GD,o),onWheel:o=>e(l1,o)}),[e]),s=S.useCallback((o,u)=>(r[o]||(r[o]=[]),r[o].unshift(u),()=>{const f=r[o];f&&f.splice(0,f.length,...f.filter(m=>m!==u))}),[r]);return{registerSensors:n,subscribeSensors:s}}function o0(r,e){const n=S.useRef(0),s=ch(),o=Rt((...u)=>{n.current=Date.now(),r(u)});return S.useCallback((...u)=>{s(()=>{o(u)},e-(Date.now()-n.current))},[e,o,s])}const bm=rg("slide"),Sm=rg("slide_image");function AM({slide:r,offset:e,render:n,rect:s,imageFit:o,imageProps:u,onClick:f,onLoad:m,onError:y,style:g}){var E,A,R,V,U,z,q,$;const[ie,te]=S.useState(vm),{publish:ue}=Qh(),{setTimeout:le}=Zh(),he=S.useRef(null);S.useEffect(()=>{e===0&&ue(HD(ie))},[e,ie,ue]);const N=Rt(ne=>{("decode"in ne?ne.decode():Promise.resolve()).catch(()=>{}).then(()=>{ne.parentNode&&(te(Tm),le(()=>{m?.(ne)},0))})}),w=S.useCallback(ne=>{he.current=ne,ne?.complete&&N(ne)},[N]),C=S.useCallback(ne=>{N(ne.currentTarget)},[N]),M=Rt(()=>{te(Em),y?.()}),D=JD(r,o),k=(ne,se)=>Number.isFinite(ne)?ne:se,I=k(Math.max(...((A=(E=r.srcSet)===null||E===void 0?void 0:E.map(ne=>ne.width))!==null&&A!==void 0?A:[]).concat(r.width?[r.width]:[]).filter(Boolean)),((R=he.current)===null||R===void 0?void 0:R.naturalWidth)||0),Ce=k(Math.max(...((U=(V=r.srcSet)===null||V===void 0?void 0:V.map(ne=>ne.height))!==null&&U!==void 0?U:[]).concat(r.height?[r.height]:[]).filter(Boolean)),((z=he.current)===null||z===void 0?void 0:z.naturalHeight)||0),ye=I&&Ce?{maxWidth:`min(${I}px, 100%)`,maxHeight:`min(${Ce}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},K=(q=r.srcSet)===null||q===void 0?void 0:q.sort((ne,se)=>ne.width-se.width).map(ne=>`${ne.src} ${ne.width}w`).join(", "),ae=()=>s&&!D&&r.width&&r.height?s.height/r.height*r.width:Number.MAX_VALUE,de=K&&s&&f1()?`${Math.round(Math.min(ae(),s.width))}px`:void 0,{style:Oe,className:O,...Z}=u||{};return S.createElement(S.Fragment,null,S.createElement("img",{ref:w,onLoad:C,onError:M,onClick:f,draggable:!1,className:_r(Ge(Sm()),D&&Ge(Sm("cover")),ie!==Tm&&Ge(Sm("loading")),O),style:{...ye,...g,...Oe},...Z,alt:($=r.alt)!==null&&$!==void 0?$:"",sizes:de,srcSet:K,src:r.src}),ie!==Tm&&S.createElement("div",{className:Ge(bm(jD))},ie===vm&&(n?.iconLoading?n.iconLoading():S.createElement(vM,{className:_r(Ge(Qm),Ge(bm(vm)))})),ie===Em&&(n?.iconError?n.iconError():S.createElement(EM,{className:_r(Ge(Qm),Ge(bm(Em)))}))))}const wM=S.forwardRef(function({className:e,children:n,onFocus:s,onBlur:o,...u},f){const m=S.useRef(null),{trackFocusWithin:y}=_1();return S.createElement(lM,{nodeRef:m},S.createElement("div",{ref:Jm(f,m),className:_r(Ge("root"),e),...y(s,o),...u},n))});var sn;(function(r){r[r.NONE=0]="NONE",r[r.SWIPE=1]="SWIPE",r[r.PULL=2]="PULL",r[r.ANIMATION=3]="ANIMATION"})(sn||(sn={}));function RM(r,e,n,s,o){S.useEffect(()=>h1(r(n1,e),r(i1,n),r(r1,s),r(s1,s),r(a1,s)),[r,e,n,s,o])}var ii;(function(r){r[r.NONE=0]="NONE",r[r.SWIPE=1]="SWIPE",r[r.PULL=2]="PULL"})(ii||(ii={}));const Am=30;function CM({disableSwipeNavigation:r,closeOnBackdropClick:e},n,s,o,u,f,m,y,g,E,A,R,V,U,z,q){const $=S.useRef(0),ie=S.useRef([]),te=S.useRef(void 0),ue=S.useRef(0),le=S.useRef(ii.NONE),he=S.useCallback(I=>{te.current===I.pointerId&&(te.current=void 0,le.current=ii.NONE);const Ce=ie.current;Ce.splice(0,Ce.length,...Ce.filter(ye=>ye.pointerId!==I.pointerId))},[]),N=S.useCallback(I=>{he(I),I.persist(),ie.current.push(I)},[he]),w=S.useCallback(I=>ie.current.find(({pointerId:Ce})=>I.pointerId===Ce),[]),C=Rt(I=>{N(I)}),M=(I,Ce)=>A&&I>Ce||E&&I<-Ce,D=Rt(I=>{const Ce=w(I);if(Ce)if(te.current===I.pointerId){const ye=Date.now()-ue.current,K=$.current;le.current===ii.SWIPE?Math.abs(K)>.3*o||Math.abs(K)>5&&ye<u?y(K,ye):g(K):le.current===ii.PULL&&(M(K,2*Am)?U(K,ye):z(K)),$.current=0,le.current=ii.NONE}else{const{target:ye}=I;e&&ye instanceof HTMLElement&&ye===Ce.target&&(ye.classList.contains(Ge(ig))||ye.classList.contains(Ge(FD)))&&q()}he(I)}),k=Rt(I=>{const Ce=w(I);if(Ce){const ye=te.current===I.pointerId;if(I.buttons===0){ye&&$.current!==0?D(I):he(Ce);return}const K=I.clientX-Ce.clientX,ae=I.clientY-Ce.clientY;if(te.current===void 0){const de=Oe=>{N(I),te.current=I.pointerId,ue.current=Date.now(),le.current=Oe};Math.abs(K)>Math.abs(ae)&&Math.abs(K)>Am&&s(K)?r||(de(ii.SWIPE),f()):Math.abs(ae)>Math.abs(K)&&M(ae,Am)&&(de(ii.PULL),R())}else ye&&(le.current===ii.SWIPE?($.current=K,m(K)):le.current===ii.PULL&&($.current=ae,V(ae)))}});RM(n,C,k,D)}function IM({preventDefaultWheelX:r,preventDefaultWheelY:e}){const n=S.useRef(null),s=Rt(o=>{const u=Math.abs(o.deltaX)>Math.abs(o.deltaY);(u&&r||!u&&e||o.ctrlKey)&&o.preventDefault()});return S.useCallback(o=>{var u;o?o.addEventListener("wheel",s,{passive:!1}):(u=n.current)===null||u===void 0||u.removeEventListener("wheel",s),n.current=o},[s])}function xM(r,e,n,s,o,u,f,m,y){const g=S.useRef(0),E=S.useRef(0),A=S.useRef(void 0),R=S.useRef(void 0),V=S.useRef(0),U=S.useRef(void 0),z=S.useRef(0),{setTimeout:q,clearTimeout:$}=Zh(),ie=S.useCallback(()=>{A.current&&($(A.current),A.current=void 0)},[$]),te=S.useCallback(()=>{R.current&&($(R.current),R.current=void 0)},[$]),ue=Rt(()=>{r!==sn.SWIPE&&(g.current=0,z.current=0,ie(),te())});S.useEffect(ue,[r,ue]);const le=Rt(N=>{R.current=void 0,g.current===N&&y(g.current)}),he=Rt(N=>{if(N.ctrlKey||Math.abs(N.deltaY)>Math.abs(N.deltaX))return;const w=C=>{V.current=C,$(U.current),U.current=C>0?q(()=>{V.current=0,U.current=void 0},300):void 0};if(r===sn.NONE){if(Math.abs(N.deltaX)<=1.2*Math.abs(V.current)){w(N.deltaX);return}if(!n(-N.deltaX))return;if(E.current+=N.deltaX,ie(),Math.abs(E.current)>30)E.current=0,w(0),z.current=Date.now(),u();else{const C=E.current;A.current=q(()=>{A.current=void 0,C===E.current&&(E.current=0)},o)}}else if(r===sn.SWIPE){let C=g.current-N.deltaX;if(C=Math.min(Math.abs(C),s)*Math.sign(C),g.current=C,f(C),te(),Math.abs(C)>.2*s){w(N.deltaX),m(C,Date.now()-z.current);return}R.current=q(()=>le(C),2*o)}else w(N.deltaX)});S.useEffect(()=>e(l1,he),[e,he])}const l0=rg("container"),I1=S.createContext(null),Tu=ps("useController","ControllerContext",I1);function NM({children:r,...e}){var n;const{carousel:s,animation:o,controller:u,on:f,styles:m,render:y}=e,{closeOnPullUp:g,closeOnPullDown:E,preventDefaultWheelX:A,preventDefaultWheelY:R}=u,[V,U]=S.useState(),z=Wh(),q=hM(),[$,ie]=S.useState(sn.NONE),te=S.useRef(0),ue=S.useRef(0),le=S.useRef(1),{registerSensors:he,subscribeSensors:N}=SM(),{subscribe:w,publish:C}=Qh(),M=ch(),D=ch(),k=ch(),{containerRef:I,setContainerRef:Ce,containerRect:ye}=C1(),K=Jm(IM({preventDefaultWheelX:A,preventDefaultWheelY:R}),Ce),ae=S.useRef(null),de=Jm(ae,void 0),{getOwnerDocument:Oe}=ag(),O=og(),Z=ce=>(O?-1:1)*(typeof ce=="number"?ce:1),ne=Rt(()=>{var ce;return(ce=I.current)===null||ce===void 0?void 0:ce.focus()}),se=Rt(()=>e),ge=Rt(()=>z),Ae=S.useCallback(ce=>C(Qs,ce),[C]),ve=S.useCallback(ce=>C(Ws,ce),[C]),it=S.useCallback(()=>C(So),[C]),He=ce=>!(s.finite&&(Z(ce)>0&&z.currentIndex===0||Z(ce)<0&&z.currentIndex===z.slides.length-1)),An=ce=>{var Ye;te.current=ce,(Ye=I.current)===null||Ye===void 0||Ye.style.setProperty(bn("swipe_offset"),`${Math.round(ce)}px`)},kn=ce=>{var Ye,ht;ue.current=ce,le.current=(()=>{const Xe=E&&ce>0?ce:g&&ce<0?-ce:0;return Math.min(Math.max(ZD(1-Xe/60*(1-.5),2),.5),1)})(),(Ye=I.current)===null||Ye===void 0||Ye.style.setProperty(bn("pull_offset"),`${Math.round(ce)}px`),(ht=I.current)===null||ht===void 0||ht.style.setProperty(bn("pull_opacity"),`${le.current}`)},{prepareAnimation:Yn}=s0(ae,(ce,Ye,ht)=>{if(ae.current&&ye)return{keyframes:[{transform:`translate(0, ${ce.rect.y-Ye.y+ht.y}px)`,opacity:ce.opacity},{transform:"translate(0, 0)",opacity:1}],duration:ce.duration,easing:o.easing.fade}}),ci=(ce,Ye)=>{if(g||E){kn(ce);let ht=0;ae.current&&(ht=o.fade*(Ye?2:1),Yn({rect:ae.current.getBoundingClientRect(),opacity:le.current,duration:ht})),k(()=>{kn(0),ie(sn.NONE)},ht),ie(sn.ANIMATION),Ye||it()}},{prepareAnimation:Li,isAnimationPlaying:Bi}=s0(ae,(ce,Ye,ht)=>{var en;if(ae.current&&ye&&(!((en=z.animation)===null||en===void 0)&&en.duration)){const Ht=Dh(s.spacing),Xe=(Ht.percent?Ht.percent*ye.width/100:Ht.pixel)||0;return{keyframes:[{transform:`translate(${Z(z.globalIndex-ce.index)*(ye.width+Xe)+ce.rect.x-Ye.x+ht.x}px, 0)`},{transform:"translate(0, 0)"}],duration:z.animation.duration,easing:z.animation.easing}}}),Xn=Rt(ce=>{var Ye,ht;const en=ce.offset||0,Ht=en?o.swipe:(Ye=o.navigation)!==null&&Ye!==void 0?Ye:o.swipe,Xe=!en&&!Bi()?o.easing.navigation:o.easing.swipe;let{direction:ke}=ce;const Mt=(ht=ce.count)!==null&&ht!==void 0?ht:1;let Et=sn.ANIMATION,cn=Ht*Mt;if(!ke){const wn=ye?.width,hi=ce.duration||0,Qn=wn?Ht/wn*Math.abs(en):Ht;Mt!==0?(hi<Qn?cn=cn/Qn*Math.max(hi,Qn/5):wn&&(cn=Ht/wn*(wn-Math.abs(en))),ke=Z(en)>0?Qs:Ws):cn=Ht/2}let ys=0;ke===Qs?He(Z(1))?ys=-Mt:(Et=sn.NONE,cn=Ht):ke===Ws&&(He(Z(-1))?ys=Mt:(Et=sn.NONE,cn=Ht)),cn=Math.round(cn),D(()=>{An(0),ie(sn.NONE)},cn),ae.current&&Li({rect:ae.current.getBoundingClientRect(),index:z.globalIndex}),ie(Et),C(i0,{type:"swipe",increment:ys,duration:cn,easing:Xe})});S.useEffect(()=>{var ce,Ye;!((ce=z.animation)===null||ce===void 0)&&ce.increment&&(!((Ye=z.animation)===null||Ye===void 0)&&Ye.duration)&&M(()=>q({type:"swipe",increment:0}),z.animation.duration)},[z.animation,q,M]);const gs=[N,He,ye?.width||0,o.swipe,()=>ie(sn.SWIPE),ce=>An(ce),(ce,Ye)=>Xn({offset:ce,duration:Ye,count:1}),ce=>Xn({offset:ce,count:0})],yn=[()=>{E&&ie(sn.PULL)},ce=>kn(ce),ce=>ci(ce),ce=>ci(ce,!0)];CM(u,...gs,g,E,...yn,it),xM($,...gs);const ga=Rt(()=>{u.focus&&Oe().querySelector(`.${Ge(ng)} .${Ge(l0())}`)&&ne()});S.useEffect(ga,[ga]);const Ar=Rt(()=>{var ce;(ce=f.view)===null||ce===void 0||ce.call(f,{index:z.currentIndex})});S.useEffect(Ar,[z.globalIndex,Ar]),S.useEffect(()=>h1(w(Qs,ce=>Xn({direction:Qs,...ce})),w(Ws,ce=>Xn({direction:Ws,...ce})),w(i0,ce=>q(ce))),[w,Xn,q]);const wr=S.useMemo(()=>({prev:Ae,next:ve,close:it,focus:ne,slideRect:ye?eM(ye,s.padding):{width:0,height:0},containerRect:ye||{width:0,height:0},subscribeSensors:N,containerRef:I,setCarouselRef:de,toolbarWidth:V,setToolbarWidth:U}),[Ae,ve,it,ne,N,ye,I,de,V,U,s.padding]);return S.useImperativeHandle(u.ref,()=>({prev:Ae,next:ve,close:it,focus:ne,getLightboxProps:se,getLightboxState:ge}),[Ae,ve,it,ne,se,ge]),S.createElement("div",{ref:K,className:_r(Ge(l0()),Ge(e1)),style:{...$===sn.SWIPE?{[bn("swipe_offset")]:`${Math.round(te.current)}px`}:null,...$===sn.PULL?{[bn("pull_offset")]:`${Math.round(ue.current)}px`,[bn("pull_opacity")]:`${le.current}`}:null,...u.touchAction!=="none"?{[bn("controller_touch_action")]:u.touchAction}:null,...m.container},tabIndex:-1,...he},ye&&S.createElement(I1.Provider,{value:wr},r,(n=y.controls)===null||n===void 0?void 0:n.call(y)))}const OM=pa(Zb,NM);function Ys(r){return yu(Wb,r)}function u0(r){return yu(ig,r)}function DM({slide:r,offset:e}){const n=S.useRef(null),{currentIndex:s,slides:o}=Wh(),{slideRect:u,focus:f}=Tu(),{render:m,carousel:{imageFit:y,imageProps:g},on:{click:E},styles:{slide:A},labels:R}=_u(),{getOwnerDocument:V}=ag(),U=e!==0;S.useEffect(()=>{var q;U&&(!((q=n.current)===null||q===void 0)&&q.contains(V().activeElement))&&f()},[U,f,V]);const z=()=>{var q,$,ie,te;let ue=(q=m.slide)===null||q===void 0?void 0:q.call(m,{slide:r,offset:e,rect:u});return!ue&&d1(r)&&(ue=S.createElement(AM,{slide:r,offset:e,render:m,rect:u,imageFit:y,imageProps:g,onClick:U?void 0:()=>E?.({index:s})})),ue?S.createElement(S.Fragment,null,($=m.slideHeader)===null||$===void 0?void 0:$.call(m,{slide:r}),((ie=m.slideContainer)!==null&&ie!==void 0?ie:({children:le})=>le)({slide:r,children:ue}),(te=m.slideFooter)===null||te===void 0?void 0:te.call(m,{slide:r})):null};return S.createElement("div",{ref:n,className:_r(Ge(u0()),!U&&Ge(u0("current")),Ge(e1)),...rM(U),style:A,role:"group","aria-roledescription":Ao(R,"Slide"),"aria-label":WD(R,o,s+e)},z())}function MM(){const r=_u().styles.slide;return S.createElement("div",{className:Ge(ig),style:r})}function PM({carousel:r,labels:e}){const{slides:n,currentIndex:s,globalIndex:o}=Wh(),{setCarouselRef:u}=Tu(),{autoPlaying:f,focusWithin:m}=_1(),y=Dh(r.spacing),g=Dh(r.padding),E=nM(r,n,1),A=[];if(m1(n))for(let R=s-E;R<=s+E;R+=1){const V=p1(n,R),U=o-s+R,z=r.finite&&(R<0||R>n.length-1);A.push(z?{key:U}:{key:[`${U}`,tM(V)].filter(Boolean).join("|"),offset:R-s,slide:V})}return S.createElement("div",{ref:u,className:_r(Ge(Ys()),A.length>0&&Ge(Ys("with_slides"))),style:{[`${bn(Ys("slides_count"))}`]:A.length,[`${bn(Ys("spacing_px"))}`]:y.pixel||0,[`${bn(Ys("spacing_percent"))}`]:y.percent||0,[`${bn(Ys("padding_px"))}`]:g.pixel||0,[`${bn(Ys("padding_percent"))}`]:g.percent||0},role:"region","aria-live":f&&!m?"off":"polite","aria-roledescription":Ao(e,"Carousel"),"aria-label":Ao(e,"Photo gallery")},A.map(({key:R,slide:V,offset:U})=>V?S.createElement(DM,{key:R,slide:V,offset:U}):S.createElement(MM,{key:R})))}const kM=pa(Wb,PM);function x1(){const{carousel:r}=_u(),{slides:e,currentIndex:n}=Wh(),s=e.length===0||r.finite&&n===0,o=e.length===0||r.finite&&n===e.length-1;return{prevDisabled:s,nextDisabled:o}}function UM(r){var e;const n=og(),{publish:s}=Qh(),{animation:o}=_u(),{prevDisabled:u,nextDisabled:f}=x1(),m=((e=o.navigation)!==null&&e!==void 0?e:o.swipe)/2,y=o0(()=>s(Qs),m),g=o0(()=>s(Ws),m),E=Rt(A=>{switch(A.key){case $D:s(So);break;case KD:(n?f:u)||(n?g:y)();break;case YD:(n?u:f)||(n?y:g)();break}});S.useEffect(()=>r(o1,E),[r,E])}function c0({label:r,icon:e,renderIcon:n,action:s,onClick:o,disabled:u,style:f}){return S.createElement(w1,{label:r,icon:e,renderIcon:n,className:Ge(`navigation_${s}`),disabled:u,onClick:o,style:f,...bM(Tu().focus,u)})}function VM({render:{buttonPrev:r,buttonNext:e,iconPrev:n,iconNext:s},styles:o}){const{prev:u,next:f,subscribeSensors:m}=Tu(),{prevDisabled:y,nextDisabled:g}=x1();return UM(m),S.createElement(S.Fragment,null,r?r():S.createElement(c0,{label:"Previous",action:Qs,icon:yM,renderIcon:n,style:o.navigationPrev,disabled:y,onClick:u}),e?e():S.createElement(c0,{label:"Next",action:Ws,icon:_M,renderIcon:s,style:o.navigationNext,disabled:g,onClick:f}))}const LM=pa(LD,VM),h0=Ge(qD),BM=Ge(t1);function zM(r){return"style"in r}function f0(r,e,n){const s=window.getComputedStyle(r),o=n?"padding-left":"padding-right",u=n?s.paddingLeft:s.paddingRight,f=r.style.getPropertyValue(o);return r.style.setProperty(o,`${(Xh(u)||0)+e}px`),()=>{f?r.style.setProperty(o,f):r.style.removeProperty(o)}}function jM({noScroll:{disabled:r},children:e}){const n=og(),{getOwnerDocument:s,getOwnerWindow:o}=ag();return S.useEffect(()=>{if(r)return()=>{};const u=[],f=o(),{body:m,documentElement:y}=s(),g=Math.round(f.innerWidth-y.clientWidth);if(g>0){u.push(f0(m,g,n));const E=m.getElementsByTagName("*");for(let A=0;A<E.length;A+=1){const R=E[A];zM(R)&&f.getComputedStyle(R).getPropertyValue("position")==="fixed"&&!R.classList.contains(BM)&&u.push(f0(R,g,n))}}return m.classList.add(h0),()=>{m.classList.remove(h0),u.forEach(E=>E())}},[n,r,s,o]),S.createElement(S.Fragment,null,e)}const HM=pa(BD,jM);function d0(r){return yu(ng,r)}function m0(r,e,n){const s=r.getAttribute(e);return r.setAttribute(e,n),()=>{s?r.setAttribute(e,s):r.removeAttribute(e)}}function qM({children:r,animation:e,styles:n,className:s,on:o,portal:u,close:f,labels:m}){const[y,g]=S.useState(!1),[E,A]=S.useState(!1),R=S.useRef([]),V=S.useRef(null),{setTimeout:U}=Zh(),{subscribe:z}=Qh(),$=R1()?0:e.fade;S.useEffect(()=>(g(!0),()=>{g(!1),A(!1)}),[]);const ie=Rt(()=>{R.current.forEach(he=>he()),R.current=[]}),te=Rt(()=>{var he;A(!1),ie(),(he=o.exiting)===null||he===void 0||he.call(o),U(()=>{var N;(N=o.exited)===null||N===void 0||N.call(o),f()},$)});S.useEffect(()=>z(So,te),[z,te]);const ue=Rt(he=>{var N,w,C;sM(he),A(!0),(N=o.entering)===null||N===void 0||N.call(o);const M=(C=(w=he.parentNode)===null||w===void 0?void 0:w.children)!==null&&C!==void 0?C:[];for(let D=0;D<M.length;D+=1){const k=M[D];["TEMPLATE","SCRIPT","STYLE"].indexOf(k.tagName)===-1&&k!==he&&(R.current.push(m0(k,"inert","")),R.current.push(m0(k,"aria-hidden","true")))}R.current.push(()=>{var D,k;(k=(D=V.current)===null||D===void 0?void 0:D.focus)===null||k===void 0||k.call(D)}),U(()=>{var D;(D=o.entered)===null||D===void 0||D.call(o)},$)}),le=S.useCallback(he=>{he?ue(he):ie()},[ue,ie]);return y?Vw.createPortal(S.createElement(wM,{ref:le,className:_r(s,Ge(d0()),Ge(t1),E&&Ge(d0("open"))),"aria-modal":!0,role:"dialog","aria-label":Ao(m,"Lightbox"),style:{...e.fade!==Zm.animation.fade?{[bn("fade_animation_duration")]:`${$}ms`}:null,...e.easing.fade!==Zm.animation.easing.fade?{[bn("fade_animation_timing_function")]:e.easing.fade}:null,...n.root},onFocus:he=>{V.current||(V.current=he.relatedTarget)}},r),u.root||document.body):null}const FM=pa(ng,qM);function GM({children:r}){return S.createElement(S.Fragment,null,r)}const $M=pa(zD,GM);function KM(r){return yu(Jb,r)}function YM({toolbar:{buttons:r},render:{buttonClose:e,iconClose:n},styles:s}){const{close:o,setToolbarWidth:u}=Tu(),{setContainerRef:f,containerRect:m}=C1();Eu(()=>{u(m?.width)},[u,m?.width]);const y=()=>e?e():S.createElement(w1,{key:So,label:"Close",icon:gM,renderIcon:n,onClick:o});return S.createElement("div",{ref:f,style:s.toolbar,className:Ge(KM())},r?.map(g=>g===So?y():g))}const XM=pa(Jb,YM);function N1(r,e){var n;return S.createElement(r.module.component,{key:r.module.name,...e},(n=r.children)===null||n===void 0?void 0:n.map(s=>N1(s,e)))}function QM(r,e={}){const{easing:n,...s}=r,{easing:o,...u}=e;return{easing:{...n,...o},...s,...u}}function WM({carousel:r,animation:e,render:n,toolbar:s,controller:o,noScroll:u,on:f,plugins:m,slides:y,index:g,...E}){const{animation:A,carousel:R,render:V,toolbar:U,controller:z,noScroll:q,on:$,slides:ie,index:te,plugins:ue,...le}=Zm,{config:he,augmentation:N}=aM([Bt(FM,[Bt(HM,[Bt(OM,[Bt(kM),Bt(XM),Bt(LM)])])])],m||ue),w=N({animation:QM(A,e),carousel:{...R,...r},render:{...V,...n},toolbar:{...U,...s},controller:{...z,...o},noScroll:{...q,...u},on:{...$,...f},...le,...E});return w.open?S.createElement(cM,{...w},S.createElement(dM,{slides:y||ie,index:Xh(g||te)},S.createElement(mM,null,S.createElement(uM,null,S.createElement(oM,null,N1(Bt($M,he),w)))))):null}function nu({folder:r,label:e}){const[n,s]=S.useState([]),[o,u]=S.useState(!1),[f,m]=S.useState(0);return S.useEffect(()=>{(async()=>{try{const g=Tp(tg,r),E=await zI(g),R=(await Promise.all(E.items.map(V=>Ep(V)))).map((V,U)=>({src:V,title:`${e} Piece #${U+1}`}));s(R)}catch(g){console.error(`Error loading ${r} images:`,g)}})()},[r,e]),Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"gallery-grid",children:n.map((y,g)=>Y.jsx("div",{className:"gallery-piece",onClick:()=>{m(g),u(!0)},children:Y.jsx("img",{src:y.src,alt:`Gallery Piece ${g+1}`})},g))}),Y.jsx(WM,{open:o,close:()=>u(!1),index:f,slides:n,styles:{container:{backdropFilter:"blur(10px)",backgroundColor:"rgba(0, 0, 0, 0.3)",WebkitBackdropFilter:"blur(10px)"},slide:{display:"flex",alignItems:"center",justifyContent:"center"}},render:{slide:({slide:y})=>Y.jsx("img",{src:y.src,alt:y.caption,style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain"}})}})]})}function ZM(){return Y.jsx(nu,{folder:"airbrush",label:"Airbrush"})}function JM(){return Y.jsx(nu,{folder:"tattoos",label:"Tattoo"})}function e4(){return Y.jsx(nu,{folder:"photoshop",label:"Photoshop"})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),p0=r=>{const e=n4(r);return e.charAt(0).toUpperCase()+e.slice(1)},O1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),i4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=S.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},y)=>S.createElement("svg",{ref:y,...r4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:O1("lucide",o),...!u&&!i4(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>S.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=(r,e)=>{const n=S.forwardRef(({className:s,...o},u)=>S.createElement(s4,{ref:u,iconNode:e,className:O1(`lucide-${t4(p0(r))}`,`lucide-${r}`,s),...o}));return n.displayName=p0(r),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],o4=D1("menu",a4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],u4=D1("x",l4);function c4(){const[r,e]=S.useState(!1),n=()=>e(!1);return Y.jsxs("nav",{className:"sticky top-0 z-[1000] bg-gradient-to-r from-black to-[#222] text-white shadow-md mb-10",children:[Y.jsxs("div",{className:"flex justify-between items-center px-6 py-2",children:[Y.jsx("h1",{className:"text-[1.4rem] font-bold tracking-[0.03em] font-['Courier_New']",children:"Airbrush & Ink"}),Y.jsxs("ul",{className:"hidden md:flex items-center list-none text-[0.95rem] font-medium tracking-[0.03em] gap-3",children:[Y.jsx("li",{children:Y.jsx(Pn,{to:"/",className:"text-[#ccc] hover:text-white transition-colors",children:"Home"})}),Y.jsx("li",{className:"flex items-center relative before:content-[''] before:inline-block before:w-px before:h-4 before:bg-white before:mx-3",children:Y.jsx(Pn,{to:"/portfolio",className:"text-[#ccc] hover:text-white transition-colors",children:"Portfolio"})}),Y.jsx("li",{className:"flex items-center relative before:content-[''] before:inline-block before:w-px before:h-4 before:bg-white before:mx-3",children:Y.jsx(Pn,{to:"/contact",className:"text-[#ccc] hover:text-white transition-colors",children:"Contact"})})]}),Y.jsx("button",{className:"md:hidden text-white z-[1100]",onClick:()=>e(!r),"aria-label":"Toggle Menu",children:r?Y.jsx(u4,{size:28}):Y.jsx(o4,{size:28})})]}),Y.jsx("div",{className:`md:hidden fixed top-0 left-0 w-full h-screen flex items-center justify-center transition-all duration-300 ease-in-out z-[1000]
          ${r?"opacity-100 backdrop-blur-md bg-black/80 visible":"opacity-0 pointer-events-none"}
        `,children:Y.jsxs("div",{className:"flex flex-col items-center justify-center gap-10 text-2xl font-semibold text-white tracking-wide",children:[Y.jsx(Pn,{to:"/",onClick:n,className:"hover:text-[#ccc] transition-all duration-300 ease-out transform scale-95 hover:scale-100",children:"Home"}),Y.jsx(Pn,{to:"/portfolio",onClick:n,className:"hover:text-[#ccc] transition-all duration-300 ease-out transform scale-95 hover:scale-100",children:"Portfolio"}),Y.jsx(Pn,{to:"/contact",onClick:n,className:"hover:text-[#ccc] transition-all duration-300 ease-out transform scale-95 hover:scale-100",children:"Contact"})]})})]})}function h4(){return Y.jsxs("div",{className:"min-h-screen bg-black text-white pt-24 px-4",children:[Y.jsx("h1",{className:"text-4xl font-bold text-center mb-12",children:"Gallery"}),Y.jsxs("section",{className:"mb-20",children:[Y.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Tattoos"}),Y.jsx(nu,{folder:"tattoos",label:"Tattoo"})]}),Y.jsxs("section",{children:[Y.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Airbrush"}),Y.jsx(nu,{folder:"airbrush",label:"Airbrush"})]})]})}const Yt=[];for(let r=0;r<256;++r)Yt.push((r+256).toString(16).slice(1));function f4(r,e=0){return(Yt[r[e+0]]+Yt[r[e+1]]+Yt[r[e+2]]+Yt[r[e+3]]+"-"+Yt[r[e+4]]+Yt[r[e+5]]+"-"+Yt[r[e+6]]+Yt[r[e+7]]+"-"+Yt[r[e+8]]+Yt[r[e+9]]+"-"+Yt[r[e+10]]+Yt[r[e+11]]+Yt[r[e+12]]+Yt[r[e+13]]+Yt[r[e+14]]+Yt[r[e+15]]).toLowerCase()}let wm;const d4=new Uint8Array(16);function m4(){if(!wm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");wm=crypto.getRandomValues.bind(crypto)}return wm(d4)}const p4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g0={randomUUID:p4};function g4(r,e,n){if(g0.randomUUID&&!r)return g0.randomUUID();r=r||{};const s=r.random??r.rng?.()??m4();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,f4(s)}const y4=()=>{const[r,e]=S.useState(null),[n,s]=S.useState(""),[o,u]=S.useState(""),f=async()=>{if(!r)return;if(!o){alert("Pick a folder before uploading!");return}const y=Tp(tg,`${o}/${r.name}`);try{const g=await cT(y,r),E=await Ep(g.ref);s(E),await PN(_N(VD,"uploadedImages"),{url:E,createdAt:new Date}),console.log("Uploaded & saved:",E)}catch(g){console.error("Upload failed:",g)}};return Y.jsxs("div",{className:"upload-container",children:[Y.jsx("h2",{children:"Upload Artwork"}),Y.jsx("label",{children:"Choose Category:"}),Y.jsxs("select",{value:o,onChange:m=>u(m.target.value),className:"mb-4 p-2 border rounded",children:[Y.jsx("option",{value:"",children:"-- Select Folder --"}),Y.jsx("option",{value:"airbrush",children:"Airbrush"}),Y.jsx("option",{value:"tattoos",children:"Tattoos"}),Y.jsx("option",{value:"photoshop",children:"Photoshop"})]}),Y.jsx("input",{type:"file",onChange:m=>e(m.target.files[0]),className:"mb-4"}),Y.jsx("button",{onClick:f,className:"p-2 bg-black text-white rounded",children:"Upload"}),n&&Y.jsxs("div",{className:"mt-4",children:[Y.jsx("p",{children:"Uploaded Image:"}),Y.jsx("img",{src:n,alt:"Uploaded",style:{maxWidth:"300px"}})]})]})},_4=()=>{const[r,e]=S.useState(null),[n,s]=S.useState(""),[o,u]=S.useState(!1),[f,m]=S.useState(""),y=()=>{if(!r)return;u(!0),m("Uploading...");const g=Tp(tg,`uploads/${g4()}-${r.name}`);cT(g,r).then(E=>Ep(E.ref)).then(E=>{s(E),m("Upload successful!")}).catch(E=>{console.error("Upload failed:",E),m("Upload failed. Try again.")}).finally(()=>{u(!1)})};return Y.jsxs("div",{className:"p-6 max-w-lg mx-auto bg-white rounded-lg shadow-md mt-6 border border-gray-200",children:[Y.jsx("h2",{className:"text-2xl font-semibold text-center mb-4 text-gray-800",children:"Upload Your Artwork"}),Y.jsx("input",{type:"file",accept:"image/*",className:"w-full p-2 border rounded mb-4",onChange:g=>e(g.target.files[0])}),Y.jsx("button",{onClick:y,disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition duration-200",children:o?"Uploading...":"Upload"}),f&&Y.jsx("p",{className:"mt-3 text-center text-sm text-gray-700",children:f}),n&&Y.jsxs("div",{className:"mt-6 text-center",children:[Y.jsx("p",{className:"text-gray-800 font-medium",children:"Uploaded Image:"}),Y.jsx("img",{src:n,alt:"Uploaded preview",className:"mt-2 max-w-xs mx-auto rounded"})]})]})};function v4(){return Y.jsx("footer",{className:"bg-black text-gray-400 text-sm py-4 sm:py-3 md:py-7 mt-[-2vh] sm:mt-[-3vh] md:mt-[-4vh] border-t border-neutral-800",children:Y.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 text-center",children:[Y.jsx("p",{children:"© 2025 Sonny — All rights reserved."}),Y.jsxs("div",{className:"mt-1 flex justify-center gap-4 flex-wrap text-sm",children:[Y.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Instagram"}),Y.jsx("a",{href:"mailto:your@email.com",className:"hover:text-white transition-colors",children:"Email"})]})]})})}function E4(){const[r,e]=S.useState(null);return S.useEffect(()=>{const n=bO(UD,s=>{e(s)});return()=>n()},[]),Y.jsx(Cw,{children:Y.jsxs("div",{className:"flex flex-col min-h-screen",children:[Y.jsx(c4,{}),Y.jsx("main",{className:"flex-grow",children:Y.jsxs(rw,{children:[Y.jsx(hr,{path:"/",element:Y.jsx(Fw,{})}),Y.jsx(hr,{path:"/portfolio",element:Y.jsx(Gw,{})}),Y.jsx(hr,{path:"/gallery",element:Y.jsx(h4,{})}),Y.jsx(hr,{path:"/portfolio/airbrush",element:Y.jsx(ZM,{})}),Y.jsx(hr,{path:"/portfolio/tattoos",element:Y.jsx(JM,{})}),Y.jsx(hr,{path:"/portfolio/photoshop",element:Y.jsx(e4,{})}),Y.jsx(hr,{path:"/upload",element:r?Y.jsx(y4,{}):Y.jsx("div",{className:"p-8 text-center text-red-500 font-bold text-xl",children:"🔒 You must be signed in to access this page."})}),Y.jsx(hr,{path:"/login",element:Y.jsx(_4,{})})]})}),Y.jsx(v4,{})]})})}dA.createRoot(document.getElementById("root")).render(Y.jsx(aA.StrictMode,{children:Y.jsx(E4,{})}));
