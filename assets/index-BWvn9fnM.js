(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function VT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bp={exports:{}},yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function S2(){if(bE)return yu;bE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:r,type:s,key:c,ref:o!==void 0?o:null,props:l}}return yu.Fragment=e,yu.jsx=t,yu.jsxs=t,yu}var TE;function A2(){return TE||(TE=1,bp.exports=S2()),bp.exports}var C=A2(),Tp={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function R2(){if(wE)return Ie;wE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function O(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function P(z,W,ue){this.props=z,this.context=W,this.refs=k,this.updater=ue||M}P.prototype.isReactComponent={},P.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},P.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function H(){}H.prototype=P.prototype;function F(z,W,ue){this.props=z,this.context=W,this.refs=k,this.updater=ue||M}var ne=F.prototype=new H;ne.constructor=F,D(ne,P.prototype),ne.isPureReactComponent=!0;var $=Array.isArray;function te(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(z,W,ue){var fe=ue.ref;return{$$typeof:r,type:z,key:W,ref:fe!==void 0?fe:null,props:ue}}function L(z,W){return I(z.type,W,z.props)}function V(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function j(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ue){return W[ue]})}var N=/\/+/g;function _e(z,W){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):W.toString(36)}function pe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(te,te):(z.status="pending",z.then(function(W){z.status==="pending"&&(z.status="fulfilled",z.value=W)},function(W){z.status==="pending"&&(z.status="rejected",z.reason=W)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function q(z,W,ue,fe,be){var Ce=typeof z;(Ce==="undefined"||Ce==="boolean")&&(z=null);var Oe=!1;if(z===null)Oe=!0;else switch(Ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(z.$$typeof){case r:case e:Oe=!0;break;case v:return Oe=z._init,q(Oe(z._payload),W,ue,fe,be)}}if(Oe)return be=be(z),Oe=fe===""?"."+_e(z,0):fe,$(be)?(ue="",Oe!=null&&(ue=Oe.replace(N,"$&/")+"/"),q(be,W,ue,"",function(An){return An})):be!=null&&(V(be)&&(be=L(be,ue+(be.key==null||z&&z.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+Oe)),W.push(be)),1;Oe=0;var St=fe===""?".":fe+":";if($(z))for(var ot=0;ot<z.length;ot++)fe=z[ot],Ce=St+_e(fe,ot),Oe+=q(fe,W,ue,Ce,be);else if(ot=O(z),typeof ot=="function")for(z=ot.call(z),ot=0;!(fe=z.next()).done;)fe=fe.value,Ce=St+_e(fe,ot++),Oe+=q(fe,W,ue,Ce,be);else if(Ce==="object"){if(typeof z.then=="function")return q(pe(z),W,ue,fe,be);throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Y(z,W,ue){if(z==null)return z;var fe=[],be=0;return q(z,fe,"","",function(Ce){return W.call(ue,Ce,be++)}),fe}function oe(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(ue){(z._status===0||z._status===-1)&&(z._status=1,z._result=ue)},function(ue){(z._status===0||z._status===-1)&&(z._status=2,z._result=ue)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var ge=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Re={map:Y,forEach:function(z,W,ue){Y(z,function(){W.apply(this,arguments)},ue)},count:function(z){var W=0;return Y(z,function(){W++}),W},toArray:function(z){return Y(z,function(W){return W})||[]},only:function(z){if(!V(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ie.Activity=b,Ie.Children=Re,Ie.Component=P,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=F,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(z){return R.H.useMemoCache(z)}},Ie.cache=function(z){return function(){return z.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(z,W,ue){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var fe=D({},z.props),be=z.key;if(W!=null)for(Ce in W.key!==void 0&&(be=""+W.key),W)!A.call(W,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&W.ref===void 0||(fe[Ce]=W[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=ue;else if(1<Ce){for(var Oe=Array(Ce),St=0;St<Ce;St++)Oe[St]=arguments[St+2];fe.children=Oe}return I(z.type,be,fe)},Ie.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ie.createElement=function(z,W,ue){var fe,be={},Ce=null;if(W!=null)for(fe in W.key!==void 0&&(Ce=""+W.key),W)A.call(W,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=W[fe]);var Oe=arguments.length-2;if(Oe===1)be.children=ue;else if(1<Oe){for(var St=Array(Oe),ot=0;ot<Oe;ot++)St[ot]=arguments[ot+2];be.children=St}if(z&&z.defaultProps)for(fe in Oe=z.defaultProps,Oe)be[fe]===void 0&&(be[fe]=Oe[fe]);return I(z,Ce,be)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(z){return{$$typeof:m,render:z}},Ie.isValidElement=V,Ie.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:oe}},Ie.memo=function(z,W){return{$$typeof:g,type:z,compare:W===void 0?null:W}},Ie.startTransition=function(z){var W=R.T,ue={};R.T=ue;try{var fe=z(),be=R.S;be!==null&&be(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(te,ge)}catch(Ce){ge(Ce)}finally{W!==null&&ue.types!==null&&(W.types=ue.types),R.T=W}},Ie.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ie.use=function(z){return R.H.use(z)},Ie.useActionState=function(z,W,ue){return R.H.useActionState(z,W,ue)},Ie.useCallback=function(z,W){return R.H.useCallback(z,W)},Ie.useContext=function(z){return R.H.useContext(z)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(z,W){return R.H.useDeferredValue(z,W)},Ie.useEffect=function(z,W){return R.H.useEffect(z,W)},Ie.useEffectEvent=function(z){return R.H.useEffectEvent(z)},Ie.useId=function(){return R.H.useId()},Ie.useImperativeHandle=function(z,W,ue){return R.H.useImperativeHandle(z,W,ue)},Ie.useInsertionEffect=function(z,W){return R.H.useInsertionEffect(z,W)},Ie.useLayoutEffect=function(z,W){return R.H.useLayoutEffect(z,W)},Ie.useMemo=function(z,W){return R.H.useMemo(z,W)},Ie.useOptimistic=function(z,W){return R.H.useOptimistic(z,W)},Ie.useReducer=function(z,W,ue){return R.H.useReducer(z,W,ue)},Ie.useRef=function(z){return R.H.useRef(z)},Ie.useState=function(z){return R.H.useState(z)},Ie.useSyncExternalStore=function(z,W,ue){return R.H.useSyncExternalStore(z,W,ue)},Ie.useTransition=function(){return R.H.useTransition()},Ie.version="19.2.4",Ie}var SE;function Ug(){return SE||(SE=1,Tp.exports=R2()),Tp.exports}var T=Ug();const Fe=VT(T);var wp={exports:{}},_u={},Sp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function x2(){return AE||(AE=1,function(r){function e(q,Y){var oe=q.length;q.push(Y);e:for(;0<oe;){var ge=oe-1>>>1,Re=q[ge];if(0<o(Re,Y))q[ge]=Y,q[oe]=Re,oe=ge;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var Y=q[0],oe=q.pop();if(oe!==Y){q[0]=oe;e:for(var ge=0,Re=q.length,z=Re>>>1;ge<z;){var W=2*(ge+1)-1,ue=q[W],fe=W+1,be=q[fe];if(0>o(ue,oe))fe<Re&&0>o(be,ue)?(q[ge]=be,q[fe]=oe,ge=fe):(q[ge]=ue,q[W]=oe,ge=W);else if(fe<Re&&0>o(be,oe))q[ge]=be,q[fe]=oe,ge=fe;else break e}}return Y}function o(q,Y){var oe=q.sortIndex-Y.sortIndex;return oe!==0?oe:q.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();r.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,b=null,w=3,O=!1,M=!1,D=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ne(q){for(var Y=t(g);Y!==null;){if(Y.callback===null)s(g);else if(Y.startTime<=q)s(g),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=t(g)}}function $(q){if(D=!1,ne(q),!M)if(t(p)!==null)M=!0,te||(te=!0,j());else{var Y=t(g);Y!==null&&pe($,Y.startTime-q)}}var te=!1,R=-1,A=5,I=-1;function L(){return k?!0:!(r.unstable_now()-I<A)}function V(){if(k=!1,te){var q=r.unstable_now();I=q;var Y=!0;try{e:{M=!1,D&&(D=!1,H(R),R=-1),O=!0;var oe=w;try{t:{for(ne(q),b=t(p);b!==null&&!(b.expirationTime>q&&L());){var ge=b.callback;if(typeof ge=="function"){b.callback=null,w=b.priorityLevel;var Re=ge(b.expirationTime<=q);if(q=r.unstable_now(),typeof Re=="function"){b.callback=Re,ne(q),Y=!0;break t}b===t(p)&&s(p),ne(q)}else s(p);b=t(p)}if(b!==null)Y=!0;else{var z=t(g);z!==null&&pe($,z.startTime-q),Y=!1}}break e}finally{b=null,w=oe,O=!1}Y=void 0}}finally{Y?j():te=!1}}}var j;if(typeof F=="function")j=function(){F(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,_e=N.port2;N.port1.onmessage=V,j=function(){_e.postMessage(null)}}else j=function(){P(V,0)};function pe(q,Y){R=P(function(){q(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(q){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var oe=w;w=Y;try{return q()}finally{w=oe}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=w;w=q;try{return Y()}finally{w=oe}},r.unstable_scheduleCallback=function(q,Y,oe){var ge=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ge+oe:ge):oe=ge,q){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=oe+Re,q={id:v++,callback:Y,priorityLevel:q,startTime:oe,expirationTime:Re,sortIndex:-1},oe>ge?(q.sortIndex=oe,e(g,q),t(p)===null&&q===t(g)&&(D?(H(R),R=-1):D=!0,pe($,oe-ge))):(q.sortIndex=Re,e(p,q),M||O||(M=!0,te||(te=!0,j()))),q},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(q){var Y=w;return function(){var oe=w;w=Y;try{return q.apply(this,arguments)}finally{w=oe}}}}(Ap)),Ap}var RE;function C2(){return RE||(RE=1,Sp.exports=x2()),Sp.exports}var Rp={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function I2(){if(xE)return cn;xE=1;var r=Ug();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},cn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},cn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},cn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},cn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:O}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},cn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},cn.requestFormReset=function(p){s.d.r(p)},cn.unstable_batchedUpdates=function(p,g){return p(g)},cn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var CE;function UT(){if(CE)return Rp.exports;CE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rp.exports=I2(),Rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function N2(){if(IE)return _u;IE=1;var r=C2(),e=Ug(),t=UT();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(s(188))}function g(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,u=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===u)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,u=d;break}if(S===u){_=!0,u=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,u=f;break}if(S===u){_=!0,u=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function v(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=v(n),i!==null)return i;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function _e(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case P:return"Profiler";case k:return"StrictMode";case $:return"Suspense";case te:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case F:return n.displayName||"Context";case H:return(n._context.displayName||"Context")+".Consumer";case ne:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return i=n.displayName||null,i!==null?i:_e(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return _e(n(i))}catch{}}return null}var pe=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ge=[],Re=-1;function z(n){return{current:n}}function W(n){0>Re||(n.current=ge[Re],ge[Re]=null,Re--)}function ue(n,i){Re++,ge[Re]=n.current,n.current=i}var fe=z(null),be=z(null),Ce=z(null),Oe=z(null);function St(n,i){switch(ue(Ce,i),ue(be,n),ue(fe,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?F0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=F0(i),n=G0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(fe),ue(fe,n)}function ot(){W(fe),W(be),W(Ce)}function An(n){n.memoizedState!==null&&ue(Oe,n);var i=fe.current,a=G0(i,n.type);i!==a&&(ue(be,n),ue(fe,a))}function dr(n){be.current===n&&(W(fe),W(be)),Oe.current===n&&(W(Oe),du._currentValue=oe)}var Rr,Hi;function Un(n){if(Rr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Rr=i&&i[1]||"",Hi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rr+n+Hi}var jn=!1;function Zr(n,i){if(!n||jn)return"";jn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var J=Z}Reflect.construct(n,[],se)}else{try{se.call()}catch(Z){J=Z}n.call(se.prototype)}}else{try{throw Error()}catch(Z){J=Z}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&J&&typeof Z.stack=="string")return[Z.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var U=_.split(`
`),Q=S.split(`
`);for(f=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(u===U.length||f===Q.length)for(u=U.length-1,f=Q.length-1;1<=u&&0<=f&&U[u]!==Q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(U[u]!==Q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||U[u]!==Q[f]){var re=`
`+U[u].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=u&&0<=f);break}}}finally{jn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Un(a):""}function yl(n,i){switch(n.tag){case 26:case 27:case 5:return Un(n.type);case 16:return Un("Lazy");case 13:return n.child!==i&&i!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Zr(n.type,!1);case 11:return Zr(n.type.render,!1);case 1:return Zr(n.type,!0);case 31:return Un("Activity");default:return""}}function ra(n){try{var i="",a=null;do i+=yl(n,a),a=n,n=n.return;while(n);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ei=Object.prototype.hasOwnProperty,ti=r.unstable_scheduleCallback,he=r.unstable_cancelCallback,et=r.unstable_shouldYield,At=r.unstable_requestPaint,tt=r.unstable_now,Qt=r.unstable_getCurrentPriorityLevel,lt=r.unstable_ImmediatePriority,gt=r.unstable_UserBlockingPriority,Rn=r.unstable_NormalPriority,qi=r.unstable_LowPriority,ln=r.unstable_IdlePriority,ia=r.log,zn=r.unstable_setDisableYieldValue,mr=null,Nt=null;function Wn(n){if(typeof ia=="function"&&zn(n),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(mr,n)}catch{}}var gn=Math.clz32?Math.clz32:Ec,bd=Math.log,_l=Math.LN2;function Ec(n){return n>>>=0,n===0?32:31-(bd(n)/_l|0)|0}var sa=256,xr=262144,Fi=4194304;function pr(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Jn(n,i,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~d,u!==0?f=pr(u):(_&=S,_!==0?f=pr(_):a||(a=S&~n,a!==0&&(f=pr(a))))):(S=u&~d,S!==0?f=pr(S):_!==0?f=pr(_):a||(a=u&~n,a!==0&&(f=pr(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Gi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function no(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vl(){var n=Fi;return Fi<<=1,(Fi&62914560)===0&&(Fi=4194304),n}function ni(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function $i(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Wt(n,i,a,u,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,U=n.expirationTimes,Q=n.hiddenUpdates;for(a=_&~a;0<a;){var re=31-gn(a),se=1<<re;S[re]=0,U[re]=-1;var J=Q[re];if(J!==null)for(Q[re]=null,re=0;re<J.length;re++){var Z=J[re];Z!==null&&(Z.lane&=-536870913)}a&=~se}u!==0&&El(n,u,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~i))}function El(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-gn(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Ki(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-gn(a),f=1<<u;f&i|n[u]&i&&(n[u]|=i),a&=~f}}function Yi(n,i){var a=i&-i;return a=(a&42)!==0?1:bl(a),(a&(n.suspendedLanes|i))!==0?0:a}function bl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Tl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ri(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:mE(n.type))}function bc(n,i){var a=Y.p;try{return Y.p=n,i()}finally{Y.p=a}}var Cr=Math.random().toString(36).slice(2),Et="__reactFiber$"+Cr,Jt="__reactProps$"+Cr,Ir="__reactContainer$"+Cr,Xi="__reactEvents$"+Cr,Nr="__reactListeners$"+Cr,Tc="__reactHandles$"+Cr,wl="__reactResources$"+Cr,ii="__reactMarker$"+Cr;function aa(n){delete n[Et],delete n[Jt],delete n[Xi],delete n[Nr],delete n[Tc]}function si(n){var i=n[Et];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Ir]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=J0(n);n!==null;){if(a=n[Et])return a;n=J0(n)}return i}n=a,a=n.parentNode}return null}function ai(n){if(n=n[Et]||n[Ir]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function oa(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function gr(n){var i=n[wl];return i||(i=n[wl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(n){n[ii]=!0}var ro=new Set,Qi={};function yn(n,i){Or(n,i),Or(n+"Capture",i)}function Or(n,i){for(Qi[n]=i,n=0;n<i.length;n++)ro.add(i[n])}var Td=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},Al={};function wc(n){return ei.call(Al,n)?!0:ei.call(Sl,n)?!1:Td.test(n)?Al[n]=!0:(Sl[n]=!0,!1)}function Wi(n,i,a){if(wc(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ji(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Zn(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}function _n(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Sc(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wd(n,i,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,d=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function io(n){if(!n._valueTracker){var i=Sc(n)?"checked":"value";n._valueTracker=wd(n,i,""+n[i])}}function Rl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=Sc(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function so(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var oi=/[\n"\\]/g;function bt(n){return n.replace(oi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Zi(n,i,a,u,f,d,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+_n(i)):n.value!==""+_n(i)&&(n.value=""+_n(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?ao(n,_,_n(i)):a!=null?ao(n,_,_n(a)):u!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+_n(S):n.removeAttribute("name")}function la(n,i,a,u,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){io(n);return}a=a!=null?""+_n(a):"",i=i!=null?""+_n(i):a,S||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),io(n)}function ao(n,i,a){i==="number"&&so(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ge(n,i,a,u){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+_n(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function ua(n,i,a){if(i!=null&&(i=""+_n(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+_n(a):""}function es(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(s(92));if(pe(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=_n(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),io(n)}function er(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Sd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||Sd.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Ac(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&a[f]!==u&&xl(n,f,u)}else for(var d in i)i.hasOwnProperty(d)&&xl(n,d,i[d])}function Cl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ad=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(n){return Rd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function qt(){}var oo=null;function lo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var li=null,Bn=null;function Rc(n){var i=ai(n);if(i&&(n=i.stateNode)){var a=n[Jt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Zi(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var f=u[Jt]||null;if(!f)throw Error(s(90));Zi(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&Rl(u)}break e;case"textarea":ua(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ge(n,!!a.multiple,i,!1)}}}var Il=!1;function xc(n,i,a){if(Il)return n(i,a);Il=!0;try{var u=n(i);return u}finally{if(Il=!1,(li!==null||Bn!==null)&&(wh(),li&&(i=li,n=Bn,Bn=li=null,Rc(i),n)))for(i=0;i<n.length;i++)Rc(n[i])}}function xn(n,i){var a=n.stateNode;if(a===null)return null;var u=a[Jt]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=!1;if(yr)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Nl=!1}var Hn=null,uo=null,Mr=null;function ts(){if(Mr)return Mr;var n,i=uo,a=i.length,u,f="value"in Hn?Hn.value:Hn.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(u=1;u<=_&&i[a-u]===f[d-u];u++);return Mr=f.slice(n,1<u?1-u:void 0)}function ca(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function ns(){return!0}function ut(){return!1}function un(n){function i(a,u,f,d,_){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ns:ut,this.isPropagationStopped=ut,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),i}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=un(ui),rs=b({},ui,{view:0,detail:0}),Cc=un(rs),is,co,vn,fa=b({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vn&&(vn&&n.type==="mousemove"?(is=n.screenX-vn.screenX,co=n.screenY-vn.screenY):co=is=0,vn=n),is)},movementY:function(n){return"movementY"in n?n.movementY:co}}),Ic=un(fa),da=b({},fa,{dataTransfer:0}),Nc=un(da),Ol=b({},rs,{relatedTarget:0}),ss=un(Ol),Oc=b({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=un(Oc),xd=b({},ui,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Dc=un(xd),ma=b({},ui,{data:0}),Dl=un(ma),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mc(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ml[n])?!!i[n]:!1}function as(){return Mc}var Pc=b({},rs,{key:function(n){if(n.key){var i=kc[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ca(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?kl[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(n){return n.type==="keypress"?ca(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ca(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Lc=un(Pc),ci=b({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=un(ci),Vc=b({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),Uc=un(Vc),jc=b({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),fo=un(jc),En=b({},fa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),zc=un(En),Bc=b({},ui,{newState:0,oldState:0}),os=un(Bc),h=[9,13,27,32],y=yr&&"CompositionEvent"in window,E=null;yr&&"documentMode"in document&&(E=document.documentMode);var x=yr&&"TextEvent"in window&&!E,K=yr&&(!y||E&&8<E&&11>=E),ee=" ",ce=!1;function Xe(n,i){switch(n){case"keyup":return h.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ot(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function Ft(n,i){switch(n){case"compositionend":return Ot(i);case"keypress":return i.which!==32?null:(ce=!0,ee);case"textInput":return n=i.data,n===ee&&ce?null:n;default:return null}}function Gt(n,i){if(Me)return n==="compositionend"||!y&&Xe(n,i)?(n=ts(),Mr=uo=Hn=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return K&&i.locale!=="ko"?null:i.data;default:return null}}var ls={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cn(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!ls[n.type]:i==="textarea"}function pa(n,i,a,u){li?Bn?Bn.push(u):Bn=[u]:li=u,i=Nh(i,"onChange"),0<i.length&&(a=new ha("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var hi=null,Ll=null;function WA(n){U0(n,0)}function Hc(n){var i=oa(n);if(Rl(i))return n}function r_(n,i){if(n==="change")return i}var i_=!1;if(yr){var Cd;if(yr){var Id="oninput"in document;if(!Id){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),Id=typeof s_.oninput=="function"}Cd=Id}else Cd=!1;i_=Cd&&(!document.documentMode||9<document.documentMode)}function a_(){hi&&(hi.detachEvent("onpropertychange",o_),Ll=hi=null)}function o_(n){if(n.propertyName==="value"&&Hc(Ll)){var i=[];pa(i,Ll,n,lo(n)),xc(WA,i)}}function JA(n,i,a){n==="focusin"?(a_(),hi=i,Ll=a,hi.attachEvent("onpropertychange",o_)):n==="focusout"&&a_()}function ZA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hc(Ll)}function eR(n,i){if(n==="click")return Hc(i)}function tR(n,i){if(n==="input"||n==="change")return Hc(i)}function nR(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var qn=typeof Object.is=="function"?Object.is:nR;function Vl(n,i){if(qn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!ei.call(i,f)||!qn(n[f],i[f]))return!1}return!0}function l_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function u_(n,i){var a=l_(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=l_(a)}}function c_(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?c_(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function h_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=so(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=so(n.document)}return i}function Nd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var rR=yr&&"documentMode"in document&&11>=document.documentMode,mo=null,Od=null,Ul=null,Dd=!1;function f_(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dd||mo==null||mo!==so(u)||(u=mo,"selectionStart"in u&&Nd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ul&&Vl(Ul,u)||(Ul=u,u=Nh(Od,"onSelect"),0<u.length&&(i=new ha("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=mo)))}function ga(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var po={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},kd={},d_={};yr&&(d_=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function ya(n){if(kd[n])return kd[n];if(!po[n])return n;var i=po[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in d_)return kd[n]=i[a];return n}var m_=ya("animationend"),p_=ya("animationiteration"),g_=ya("animationstart"),iR=ya("transitionrun"),sR=ya("transitionstart"),aR=ya("transitioncancel"),y_=ya("transitionend"),__=new Map,Md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Md.push("scrollEnd");function _r(n,i){__.set(n,i),yn(i,[n])}var qc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},tr=[],go=0,Pd=0;function Fc(){for(var n=go,i=Pd=go=0;i<n;){var a=tr[i];tr[i++]=null;var u=tr[i];tr[i++]=null;var f=tr[i];tr[i++]=null;var d=tr[i];if(tr[i++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}d!==0&&v_(a,f,d)}}function Gc(n,i,a,u){tr[go++]=n,tr[go++]=i,tr[go++]=a,tr[go++]=u,Pd|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ld(n,i,a,u){return Gc(n,i,a,u),$c(n)}function _a(n,i){return Gc(n,null,null,i),$c(n)}function v_(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-gn(a),n=d.hiddenUpdates,u=n[f],u===null?n[f]=[i]:u.push(i),i.lane=a|536870912),d):null}function $c(n){if(50<au)throw au=0,Gm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var yo={};function oR(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(n,i,a,u){return new oR(n,i,a,u)}function Vd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fi(n,i){var a=n.alternate;return a===null?(a=Fn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function E_(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Kc(n,i,a,u,f,d){var _=0;if(u=n,typeof n=="function")Vd(n)&&(_=1);else if(typeof n=="string")_=f2(n,a,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Fn(31,a,i,f),n.elementType=I,n.lanes=d,n;case D:return va(a.children,f,d,i);case k:_=8,f|=24;break;case P:return n=Fn(12,a,i,f|2),n.elementType=P,n.lanes=d,n;case $:return n=Fn(13,a,i,f),n.elementType=$,n.lanes=d,n;case te:return n=Fn(19,a,i,f),n.elementType=te,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:_=10;break e;case H:_=9;break e;case ne:_=11;break e;case R:_=14;break e;case A:_=16,u=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=Fn(_,a,i,f),i.elementType=n,i.type=u,i.lanes=d,i}function va(n,i,a,u){return n=Fn(7,n,u,i),n.lanes=a,n}function Ud(n,i,a){return n=Fn(6,n,null,i),n.lanes=a,n}function b_(n){var i=Fn(18,null,null,0);return i.stateNode=n,i}function jd(n,i,a){return i=Fn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var T_=new WeakMap;function nr(n,i){if(typeof n=="object"&&n!==null){var a=T_.get(n);return a!==void 0?a:(i={value:n,source:i,stack:ra(i)},T_.set(n,i),i)}return{value:n,source:i,stack:ra(i)}}var _o=[],vo=0,Yc=null,jl=0,rr=[],ir=0,us=null,Pr=1,Lr="";function di(n,i){_o[vo++]=jl,_o[vo++]=Yc,Yc=n,jl=i}function w_(n,i,a){rr[ir++]=Pr,rr[ir++]=Lr,rr[ir++]=us,us=n;var u=Pr;n=Lr;var f=32-gn(u)-1;u&=~(1<<f),a+=1;var d=32-gn(i)+f;if(30<d){var _=f-f%5;d=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Pr=1<<32-gn(i)+f|a<<f|u,Lr=d+n}else Pr=1<<d|a<<f|u,Lr=n}function zd(n){n.return!==null&&(di(n,1),w_(n,1,0))}function Bd(n){for(;n===Yc;)Yc=_o[--vo],_o[vo]=null,jl=_o[--vo],_o[vo]=null;for(;n===us;)us=rr[--ir],rr[ir]=null,Lr=rr[--ir],rr[ir]=null,Pr=rr[--ir],rr[ir]=null}function S_(n,i){rr[ir++]=Pr,rr[ir++]=Lr,rr[ir++]=us,Pr=i.id,Lr=i.overflow,us=n}var Zt=null,ct=null,He=!1,cs=null,sr=!1,Hd=Error(s(519));function hs(n){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(nr(i,n)),Hd}function A_(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[Et]=n,i[Jt]=u,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<lu.length;a++)Le(lu[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),la(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),es(i,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||H0(i.textContent,a)?(u.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),u.onScroll!=null&&Le("scroll",i),u.onScrollEnd!=null&&Le("scrollend",i),u.onClick!=null&&(i.onclick=qt),i=!0):i=!1,i||hs(n,!0)}function R_(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:sr=!1;return;case 27:case 3:sr=!0;return;default:Zt=Zt.return}}function Eo(n){if(n!==Zt)return!1;if(!He)return R_(n),He=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||ap(n.type,n.memoizedProps)),a=!a),a&&ct&&hs(n),R_(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ct=W0(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ct=W0(n)}else i===27?(i=ct,As(n.type)?(n=hp,hp=null,ct=n):ct=i):ct=Zt?or(n.stateNode.nextSibling):null;return!0}function Ea(){ct=Zt=null,He=!1}function qd(){var n=cs;return n!==null&&(Dn===null?Dn=n:Dn.push.apply(Dn,n),cs=null),n}function zl(n){cs===null?cs=[n]:cs.push(n)}var Fd=z(null),ba=null,mi=null;function fs(n,i,a){ue(Fd,i._currentValue),i._currentValue=a}function pi(n){n._currentValue=Fd.current,W(Fd)}function Gd(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function $d(n,i,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var U=0;U<i.length;U++)if(S.context===i[U]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Gd(d.return,a,n),u||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Gd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function bo(n,i,a,u){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;qn(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===Oe.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(du):n=[du])}f=f.return}n!==null&&$d(i,n,a,u),i.flags|=262144}function Xc(n){for(n=n.firstContext;n!==null;){if(!qn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ta(n){ba=n,mi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return x_(ba,n)}function Qc(n,i){return ba===null&&Ta(n),x_(n,i)}function x_(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},mi===null){if(n===null)throw Error(s(308));mi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else mi=mi.next=i;return a}var lR=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},uR=r.unstable_scheduleCallback,cR=r.unstable_NormalPriority,Dt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kd(){return{controller:new lR,data:new Map,refCount:0}}function Bl(n){n.refCount--,n.refCount===0&&uR(cR,function(){n.controller.abort()})}var Hl=null,Yd=0,To=0,wo=null;function hR(n,i){if(Hl===null){var a=Hl=[];Yd=0,To=Wm(),wo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Yd++,i.then(C_,C_),i}function C_(){if(--Yd===0&&Hl!==null){wo!==null&&(wo.status="fulfilled");var n=Hl;Hl=null,To=0,wo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function fR(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var I_=q.S;q.S=function(n,i){f0=tt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&hR(n,i),I_!==null&&I_(n,i)};var wa=z(null);function Xd(){var n=wa.current;return n!==null?n:st.pooledCache}function Wc(n,i){i===null?ue(wa,wa.current):ue(wa,i.pool)}function N_(){var n=Xd();return n===null?null:{parent:Dt._currentValue,pool:n}}var So=Error(s(460)),Qd=Error(s(474)),Jc=Error(s(542)),Zc={then:function(){}};function O_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function D_(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(qt,qt),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,M_(n),n;default:if(typeof i.status=="string")i.then(qt,qt);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,M_(n),n}throw Aa=i,So}}function Sa(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Aa=a,So):a}}var Aa=null;function k_(){if(Aa===null)throw Error(s(459));var n=Aa;return Aa=null,n}function M_(n){if(n===So||n===Jc)throw Error(s(483))}var Ao=null,ql=0;function eh(n){var i=ql;return ql+=1,Ao===null&&(Ao=[]),D_(Ao,n,i)}function Fl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function th(n,i){throw i.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function P_(n){function i(G,B){if(n){var X=G.deletions;X===null?(G.deletions=[B],G.flags|=16):X.push(B)}}function a(G,B){if(!n)return null;for(;B!==null;)i(G,B),B=B.sibling;return null}function u(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function f(G,B){return G=fi(G,B),G.index=0,G.sibling=null,G}function d(G,B,X){return G.index=X,n?(X=G.alternate,X!==null?(X=X.index,X<B?(G.flags|=67108866,B):X):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function _(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function S(G,B,X,ie){return B===null||B.tag!==6?(B=Ud(X,G.mode,ie),B.return=G,B):(B=f(B,X),B.return=G,B)}function U(G,B,X,ie){var Ee=X.type;return Ee===D?re(G,B,X.props.children,ie,X.key):B!==null&&(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Sa(Ee)===B.type)?(B=f(B,X.props),Fl(B,X),B.return=G,B):(B=Kc(X.type,X.key,X.props,null,G.mode,ie),Fl(B,X),B.return=G,B)}function Q(G,B,X,ie){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=jd(X,G.mode,ie),B.return=G,B):(B=f(B,X.children||[]),B.return=G,B)}function re(G,B,X,ie,Ee){return B===null||B.tag!==7?(B=va(X,G.mode,ie,Ee),B.return=G,B):(B=f(B,X),B.return=G,B)}function se(G,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Ud(""+B,G.mode,X),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return X=Kc(B.type,B.key,B.props,null,G.mode,X),Fl(X,B),X.return=G,X;case M:return B=jd(B,G.mode,X),B.return=G,B;case A:return B=Sa(B),se(G,B,X)}if(pe(B)||j(B))return B=va(B,G.mode,X,null),B.return=G,B;if(typeof B.then=="function")return se(G,eh(B),X);if(B.$$typeof===F)return se(G,Qc(G,B),X);th(G,B)}return null}function J(G,B,X,ie){var Ee=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ee!==null?null:S(G,B,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case O:return X.key===Ee?U(G,B,X,ie):null;case M:return X.key===Ee?Q(G,B,X,ie):null;case A:return X=Sa(X),J(G,B,X,ie)}if(pe(X)||j(X))return Ee!==null?null:re(G,B,X,ie,null);if(typeof X.then=="function")return J(G,B,eh(X),ie);if(X.$$typeof===F)return J(G,B,Qc(G,X),ie);th(G,X)}return null}function Z(G,B,X,ie,Ee){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(X)||null,S(B,G,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return G=G.get(ie.key===null?X:ie.key)||null,U(B,G,ie,Ee);case M:return G=G.get(ie.key===null?X:ie.key)||null,Q(B,G,ie,Ee);case A:return ie=Sa(ie),Z(G,B,X,ie,Ee)}if(pe(ie)||j(ie))return G=G.get(X)||null,re(B,G,ie,Ee,null);if(typeof ie.then=="function")return Z(G,B,X,eh(ie),Ee);if(ie.$$typeof===F)return Z(G,B,X,Qc(B,ie),Ee);th(B,ie)}return null}function me(G,B,X,ie){for(var Ee=null,$e=null,ye=B,ke=B=0,Ue=null;ye!==null&&ke<X.length;ke++){ye.index>ke?(Ue=ye,ye=null):Ue=ye.sibling;var Ke=J(G,ye,X[ke],ie);if(Ke===null){ye===null&&(ye=Ue);break}n&&ye&&Ke.alternate===null&&i(G,ye),B=d(Ke,B,ke),$e===null?Ee=Ke:$e.sibling=Ke,$e=Ke,ye=Ue}if(ke===X.length)return a(G,ye),He&&di(G,ke),Ee;if(ye===null){for(;ke<X.length;ke++)ye=se(G,X[ke],ie),ye!==null&&(B=d(ye,B,ke),$e===null?Ee=ye:$e.sibling=ye,$e=ye);return He&&di(G,ke),Ee}for(ye=u(ye);ke<X.length;ke++)Ue=Z(ye,G,ke,X[ke],ie),Ue!==null&&(n&&Ue.alternate!==null&&ye.delete(Ue.key===null?ke:Ue.key),B=d(Ue,B,ke),$e===null?Ee=Ue:$e.sibling=Ue,$e=Ue);return n&&ye.forEach(function(Ns){return i(G,Ns)}),He&&di(G,ke),Ee}function we(G,B,X,ie){if(X==null)throw Error(s(151));for(var Ee=null,$e=null,ye=B,ke=B=0,Ue=null,Ke=X.next();ye!==null&&!Ke.done;ke++,Ke=X.next()){ye.index>ke?(Ue=ye,ye=null):Ue=ye.sibling;var Ns=J(G,ye,Ke.value,ie);if(Ns===null){ye===null&&(ye=Ue);break}n&&ye&&Ns.alternate===null&&i(G,ye),B=d(Ns,B,ke),$e===null?Ee=Ns:$e.sibling=Ns,$e=Ns,ye=Ue}if(Ke.done)return a(G,ye),He&&di(G,ke),Ee;if(ye===null){for(;!Ke.done;ke++,Ke=X.next())Ke=se(G,Ke.value,ie),Ke!==null&&(B=d(Ke,B,ke),$e===null?Ee=Ke:$e.sibling=Ke,$e=Ke);return He&&di(G,ke),Ee}for(ye=u(ye);!Ke.done;ke++,Ke=X.next())Ke=Z(ye,G,ke,Ke.value,ie),Ke!==null&&(n&&Ke.alternate!==null&&ye.delete(Ke.key===null?ke:Ke.key),B=d(Ke,B,ke),$e===null?Ee=Ke:$e.sibling=Ke,$e=Ke);return n&&ye.forEach(function(w2){return i(G,w2)}),He&&di(G,ke),Ee}function it(G,B,X,ie){if(typeof X=="object"&&X!==null&&X.type===D&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case O:e:{for(var Ee=X.key;B!==null;){if(B.key===Ee){if(Ee=X.type,Ee===D){if(B.tag===7){a(G,B.sibling),ie=f(B,X.props.children),ie.return=G,G=ie;break e}}else if(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&Sa(Ee)===B.type){a(G,B.sibling),ie=f(B,X.props),Fl(ie,X),ie.return=G,G=ie;break e}a(G,B);break}else i(G,B);B=B.sibling}X.type===D?(ie=va(X.props.children,G.mode,ie,X.key),ie.return=G,G=ie):(ie=Kc(X.type,X.key,X.props,null,G.mode,ie),Fl(ie,X),ie.return=G,G=ie)}return _(G);case M:e:{for(Ee=X.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){a(G,B.sibling),ie=f(B,X.children||[]),ie.return=G,G=ie;break e}else{a(G,B);break}else i(G,B);B=B.sibling}ie=jd(X,G.mode,ie),ie.return=G,G=ie}return _(G);case A:return X=Sa(X),it(G,B,X,ie)}if(pe(X))return me(G,B,X,ie);if(j(X)){if(Ee=j(X),typeof Ee!="function")throw Error(s(150));return X=Ee.call(X),we(G,B,X,ie)}if(typeof X.then=="function")return it(G,B,eh(X),ie);if(X.$$typeof===F)return it(G,B,Qc(G,X),ie);th(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(a(G,B.sibling),ie=f(B,X),ie.return=G,G=ie):(a(G,B),ie=Ud(X,G.mode,ie),ie.return=G,G=ie),_(G)):a(G,B)}return function(G,B,X,ie){try{ql=0;var Ee=it(G,B,X,ie);return Ao=null,Ee}catch(ye){if(ye===So||ye===Jc)throw ye;var $e=Fn(29,ye,null,G.mode);return $e.lanes=ie,$e.return=G,$e}finally{}}}var Ra=P_(!0),L_=P_(!1),ds=!1;function Wd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ms(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ps(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=$c(n),v_(n,null,a),i}return Gc(n,u,i,a),$c(n)}function Gl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ki(n,a)}}function Zd(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var em=!1;function $l(){if(em){var n=wo;if(n!==null)throw n}}function Kl(n,i,a,u){em=!1;var f=n.updateQueue;ds=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var U=S,Q=U.next;U.next=null,_===null?d=Q:_.next=Q,_=U;var re=n.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==_&&(S===null?re.firstBaseUpdate=Q:S.next=Q,re.lastBaseUpdate=U))}if(d!==null){var se=f.baseState;_=0,re=Q=U=null,S=d;do{var J=S.lane&-536870913,Z=J!==S.lane;if(Z?(Ve&J)===J:(u&J)===J){J!==0&&J===To&&(em=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=n,we=S;J=i;var it=a;switch(we.tag){case 1:if(me=we.payload,typeof me=="function"){se=me.call(it,se,J);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,J=typeof me=="function"?me.call(it,se,J):me,J==null)break e;se=b({},se,J);break e;case 2:ds=!0}}J=S.callback,J!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[J]:Z.push(J))}else Z={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(Q=re=Z,U=se):re=re.next=Z,_|=J;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);re===null&&(U=se),f.baseState=U,f.firstBaseUpdate=Q,f.lastBaseUpdate=re,d===null&&(f.shared.lanes=0),Es|=_,n.lanes=_,n.memoizedState=se}}function V_(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function U_(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)V_(a[n],i)}var Ro=z(null),nh=z(0);function j_(n,i){n=Si,ue(nh,n),ue(Ro,i),Si=n|i.baseLanes}function tm(){ue(nh,Si),ue(Ro,Ro.current)}function nm(){Si=nh.current,W(Ro),W(nh)}var Gn=z(null),ar=null;function gs(n){var i=n.alternate;ue(xt,xt.current&1),ue(Gn,n),ar===null&&(i===null||Ro.current!==null||i.memoizedState!==null)&&(ar=n)}function rm(n){ue(xt,xt.current),ue(Gn,n),ar===null&&(ar=n)}function z_(n){n.tag===22?(ue(xt,xt.current),ue(Gn,n),ar===null&&(ar=n)):ys()}function ys(){ue(xt,xt.current),ue(Gn,Gn.current)}function $n(n){W(Gn),ar===n&&(ar=null),W(xt)}var xt=z(0);function rh(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||up(a)||cp(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gi=0,De=null,nt=null,kt=null,ih=!1,xo=!1,xa=!1,sh=0,Yl=0,Co=null,dR=0;function Tt(){throw Error(s(321))}function im(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!qn(n[a],i[a]))return!1;return!0}function sm(n,i,a,u,f,d){return gi=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=n===null||n.memoizedState===null?wv:Em,xa=!1,d=a(u,f),xa=!1,xo&&(d=H_(i,a,u,f)),B_(n),d}function B_(n){q.H=Wl;var i=nt!==null&&nt.next!==null;if(gi=0,kt=nt=De=null,ih=!1,Yl=0,Co=null,i)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&Xc(n)&&(Mt=!0))}function H_(n,i,a,u){De=n;var f=0;do{if(xo&&(Co=null),Yl=0,xo=!1,25<=f)throw Error(s(301));if(f+=1,kt=nt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=Sv,d=i(a,u)}while(xo);return d}function mR(){var n=q.H,i=n.useState()[0];return i=typeof i.then=="function"?Xl(i):i,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(De.flags|=1024),i}function am(){var n=sh!==0;return sh=0,n}function om(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function lm(n){if(ih){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ih=!1}gi=0,kt=nt=De=null,xo=!1,Yl=sh=0,Co=null}function bn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?De.memoizedState=kt=n:kt=kt.next=n,kt}function Ct(){if(nt===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var i=kt===null?De.memoizedState:kt.next;if(i!==null)kt=i,nt=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},kt===null?De.memoizedState=kt=n:kt=kt.next=n}return kt}function ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(n){var i=Yl;return Yl+=1,Co===null&&(Co=[]),n=D_(Co,n,i),i=De,(kt===null?i.memoizedState:kt.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?wv:Em),n}function oh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Xl(n);if(n.$$typeof===F)return en(n)}throw Error(s(438,String(n)))}function um(n){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ah(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=L;return i.index++,a}function yi(n,i){return typeof i=="function"?i(n):i}function lh(n){var i=Ct();return cm(i,nt,n)}function cm(n,i,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,d=u.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,u.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var S=_=null,U=null,Q=i,re=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(Ve&se)===se:(gi&se)===se){var J=Q.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===To&&(re=!0);else if((gi&J)===J){Q=Q.next,J===To&&(re=!0);continue}else se={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(S=U=se,_=d):U=U.next=se,De.lanes|=J,Es|=J;se=Q.action,xa&&a(d,se),d=Q.hasEagerState?Q.eagerState:a(d,se)}else J={lane:se,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(S=U=J,_=d):U=U.next=J,De.lanes|=se,Es|=se;Q=Q.next}while(Q!==null&&Q!==i);if(U===null?_=d:U.next=S,!qn(d,n.memoizedState)&&(Mt=!0,re&&(a=wo,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=U,u.lastRenderedState=d}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function hm(n){var i=Ct(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);qn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,u]}function q_(n,i,a){var u=De,f=Ct(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!qn((nt||f).memoizedState,a);if(_&&(f.memoizedState=a,Mt=!0),f=f.queue,mm($_.bind(null,u,f,n),[n]),f.getSnapshot!==i||_||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Io(9,{destroy:void 0},G_.bind(null,u,f,a,i),null),st===null)throw Error(s(349));d||(gi&127)!==0||F_(u,i,a)}return a}function F_(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=ah(),De.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function G_(n,i,a,u){i.value=a,i.getSnapshot=u,K_(i)&&Y_(n)}function $_(n,i,a){return a(function(){K_(i)&&Y_(n)})}function K_(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!qn(n,a)}catch{return!0}}function Y_(n){var i=_a(n,2);i!==null&&kn(i,n,2)}function fm(n){var i=bn();if(typeof n=="function"){var a=n;if(n=a(),xa){Wn(!0);try{a()}finally{Wn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:n},i}function X_(n,i,a,u){return n.baseState=a,cm(n,nt,typeof u=="function"?u:yi)}function pR(n,i,a,u,f){if(hh(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};q.T!==null?a(!0):d.isTransition=!1,u(d),a=i.pending,a===null?(d.next=i.pending=d,Q_(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Q_(n,i){var a=i.action,u=i.payload,f=n.state;if(i.isTransition){var d=q.T,_={};q.T=_;try{var S=a(f,u),U=q.S;U!==null&&U(_,S),W_(n,i,S)}catch(Q){dm(n,i,Q)}finally{d!==null&&_.types!==null&&(d.types=_.types),q.T=d}}else try{d=a(f,u),W_(n,i,d)}catch(Q){dm(n,i,Q)}}function W_(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){J_(n,i,u)},function(u){return dm(n,i,u)}):J_(n,i,a)}function J_(n,i,a){i.status="fulfilled",i.value=a,Z_(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Q_(n,a)))}function dm(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,Z_(i),i=i.next;while(i!==u)}n.action=null}function Z_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function ev(n,i){return i}function tv(n,i){if(He){var a=st.formState;if(a!==null){e:{var u=De;if(He){if(ct){t:{for(var f=ct,d=sr;f.nodeType!==8;){if(!d){f=null;break t}if(f=or(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ct=or(f.nextSibling),u=f.data==="F!";break e}}hs(u)}u=!1}u&&(i=a[0])}}return a=bn(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:i},a.queue=u,a=Ev.bind(null,De,u),u.dispatch=a,u=fm(!1),d=vm.bind(null,De,!1,u.queue),u=bn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,a=pR.bind(null,De,f,d,a),f.dispatch=a,u.memoizedState=n,[i,a,!1]}function nv(n){var i=Ct();return rv(i,nt,n)}function rv(n,i,a){if(i=cm(n,i,ev)[0],n=lh(yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Xl(i)}catch(_){throw _===So?Jc:_}else u=i;i=Ct();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Io(9,{destroy:void 0},gR.bind(null,f,a),null)),[u,d,n]}function gR(n,i){n.action=i}function iv(n){var i=Ct(),a=nt;if(a!==null)return rv(i,a,n);Ct(),i=i.memoizedState,a=Ct();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function Io(n,i,a,u){return n={tag:n,create:a,deps:u,inst:i,next:null},i=De.updateQueue,i===null&&(i=ah(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function sv(){return Ct().memoizedState}function uh(n,i,a,u){var f=bn();De.flags|=n,f.memoizedState=Io(1|i,{destroy:void 0},a,u===void 0?null:u)}function ch(n,i,a,u){var f=Ct();u=u===void 0?null:u;var d=f.memoizedState.inst;nt!==null&&u!==null&&im(u,nt.memoizedState.deps)?f.memoizedState=Io(i,d,a,u):(De.flags|=n,f.memoizedState=Io(1|i,d,a,u))}function av(n,i){uh(8390656,8,n,i)}function mm(n,i){ch(2048,8,n,i)}function yR(n){De.flags|=4;var i=De.updateQueue;if(i===null)i=ah(),De.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function ov(n){var i=Ct().memoizedState;return yR({ref:i,nextImpl:n}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function lv(n,i){return ch(4,2,n,i)}function uv(n,i){return ch(4,4,n,i)}function cv(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function hv(n,i,a){a=a!=null?a.concat([n]):null,ch(4,4,cv.bind(null,i,n),a)}function pm(){}function fv(n,i){var a=Ct();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&im(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function dv(n,i){var a=Ct();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&im(i,u[1]))return u[0];if(u=n(),xa){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[u,i],u}function gm(n,i,a){return a===void 0||(gi&1073741824)!==0&&(Ve&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=m0(),De.lanes|=n,Es|=n,a)}function mv(n,i,a,u){return qn(a,i)?a:Ro.current!==null?(n=gm(n,a,u),qn(n,i)||(Mt=!0),n):(gi&42)===0||(gi&1073741824)!==0&&(Ve&261930)===0?(Mt=!0,n.memoizedState=a):(n=m0(),De.lanes|=n,Es|=n,i)}function pv(n,i,a,u,f){var d=Y.p;Y.p=d!==0&&8>d?d:8;var _=q.T,S={};q.T=S,vm(n,!1,i,a);try{var U=f(),Q=q.S;if(Q!==null&&Q(S,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=fR(U,u);Ql(n,i,re,Xn(n))}else Ql(n,i,u,Xn(n))}catch(se){Ql(n,i,{then:function(){},status:"rejected",reason:se},Xn())}finally{Y.p=d,_!==null&&S.types!==null&&(_.types=S.types),q.T=_}}function _R(){}function ym(n,i,a,u){if(n.tag!==5)throw Error(s(476));var f=gv(n).queue;pv(n,f,i,oe,a===null?_R:function(){return yv(n),a(u)})}function gv(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function yv(n){var i=gv(n);i.next===null&&(i=n.alternate.memoizedState),Ql(n,i.next.queue,{},Xn())}function _m(){return en(du)}function _v(){return Ct().memoizedState}function vv(){return Ct().memoizedState}function vR(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Xn();n=ms(a);var u=ps(i,n,a);u!==null&&(kn(u,i,a),Gl(u,i,a)),i={cache:Kd()},n.payload=i;return}i=i.return}}function ER(n,i,a){var u=Xn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hh(n)?bv(i,a):(a=Ld(n,i,a,u),a!==null&&(kn(a,n,u),Tv(a,i,u)))}function Ev(n,i,a){var u=Xn();Ql(n,i,a,u)}function Ql(n,i,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hh(n))bv(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,qn(S,_))return Gc(n,i,f,0),st===null&&Fc(),!1}catch{}finally{}if(a=Ld(n,i,f,u),a!==null)return kn(a,n,u),Tv(a,i,u),!0}return!1}function vm(n,i,a,u){if(u={lane:2,revertLane:Wm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},hh(n)){if(i)throw Error(s(479))}else i=Ld(n,a,u,2),i!==null&&kn(i,n,2)}function hh(n){var i=n.alternate;return n===De||i!==null&&i===De}function bv(n,i){xo=ih=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Tv(n,i,a){if((a&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,Ki(n,a)}}var Wl={readContext:en,use:oh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Wl.useEffectEvent=Tt;var wv={readContext:en,use:oh,useCallback:function(n,i){return bn().memoizedState=[n,i===void 0?null:i],n},useContext:en,useEffect:av,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,uh(4194308,4,cv.bind(null,i,n),a)},useLayoutEffect:function(n,i){return uh(4194308,4,n,i)},useInsertionEffect:function(n,i){uh(4,2,n,i)},useMemo:function(n,i){var a=bn();i=i===void 0?null:i;var u=n();if(xa){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=bn();if(a!==void 0){var f=a(i);if(xa){Wn(!0);try{a(i)}finally{Wn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=ER.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var i=bn();return n={current:n},i.memoizedState=n},useState:function(n){n=fm(n);var i=n.queue,a=Ev.bind(null,De,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:pm,useDeferredValue:function(n,i){var a=bn();return gm(a,n,i)},useTransition:function(){var n=fm(!1);return n=pv.bind(null,De,n.queue,!0,!1),bn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=De,f=bn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),st===null)throw Error(s(349));(Ve&127)!==0||F_(u,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,av($_.bind(null,u,d,n),[n]),u.flags|=2048,Io(9,{destroy:void 0},G_.bind(null,u,d,a,i),null),a},useId:function(){var n=bn(),i=st.identifierPrefix;if(He){var a=Lr,u=Pr;a=(u&~(1<<32-gn(u)-1)).toString(32)+a,i="_"+i+"R_"+a,a=sh++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=dR++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:_m,useFormState:tv,useActionState:tv,useOptimistic:function(n){var i=bn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=vm.bind(null,De,!0,a),a.dispatch=i,[n,i]},useMemoCache:um,useCacheRefresh:function(){return bn().memoizedState=vR.bind(null,De)},useEffectEvent:function(n){var i=bn(),a={impl:n};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Em={readContext:en,use:oh,useCallback:fv,useContext:en,useEffect:mm,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:dv,useReducer:lh,useRef:sv,useState:function(){return lh(yi)},useDebugValue:pm,useDeferredValue:function(n,i){var a=Ct();return mv(a,nt.memoizedState,n,i)},useTransition:function(){var n=lh(yi)[0],i=Ct().memoizedState;return[typeof n=="boolean"?n:Xl(n),i]},useSyncExternalStore:q_,useId:_v,useHostTransitionStatus:_m,useFormState:nv,useActionState:nv,useOptimistic:function(n,i){var a=Ct();return X_(a,nt,n,i)},useMemoCache:um,useCacheRefresh:vv};Em.useEffectEvent=ov;var Sv={readContext:en,use:oh,useCallback:fv,useContext:en,useEffect:mm,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:dv,useReducer:hm,useRef:sv,useState:function(){return hm(yi)},useDebugValue:pm,useDeferredValue:function(n,i){var a=Ct();return nt===null?gm(a,n,i):mv(a,nt.memoizedState,n,i)},useTransition:function(){var n=hm(yi)[0],i=Ct().memoizedState;return[typeof n=="boolean"?n:Xl(n),i]},useSyncExternalStore:q_,useId:_v,useHostTransitionStatus:_m,useFormState:iv,useActionState:iv,useOptimistic:function(n,i){var a=Ct();return nt!==null?X_(a,nt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:um,useCacheRefresh:vv};Sv.useEffectEvent=ov;function bm(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:b({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Tm={enqueueSetState:function(n,i,a){n=n._reactInternals;var u=Xn(),f=ms(u);f.payload=i,a!=null&&(f.callback=a),i=ps(n,f,u),i!==null&&(kn(i,n,u),Gl(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=Xn(),f=ms(u);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=ps(n,f,u),i!==null&&(kn(i,n,u),Gl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Xn(),u=ms(a);u.tag=2,i!=null&&(u.callback=i),i=ps(n,u,a),i!==null&&(kn(i,n,a),Gl(i,n,a))}};function Av(n,i,a,u,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,_):i.prototype&&i.prototype.isPureReactComponent?!Vl(a,u)||!Vl(f,d):!0}function Rv(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&Tm.enqueueReplaceState(i,i.state,null)}function Ca(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=b({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function xv(n){qc(n)}function Cv(n){console.error(n)}function Iv(n){qc(n)}function fh(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Nv(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function wm(n,i,a){return a=ms(a),a.tag=3,a.payload={element:null},a.callback=function(){fh(n,i)},a}function Ov(n){return n=ms(n),n.tag=3,n}function Dv(n,i,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;n.payload=function(){return f(d)},n.callback=function(){Nv(i,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Nv(i,a,u),typeof f!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function bR(n,i,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&bo(i,a,f,!0),a=Gn.current,a!==null){switch(a.tag){case 31:case 13:return ar===null?Sh():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Zc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Ym(n,u,f)),!1;case 22:return a.flags|=65536,u===Zc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Ym(n,u,f)),!1}throw Error(s(435,a.tag))}return Ym(n,u,f),Sh(),!1}if(He)return i=Gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Hd&&(n=Error(s(422),{cause:u}),zl(nr(n,a)))):(u!==Hd&&(i=Error(s(423),{cause:u}),zl(nr(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=nr(u,a),f=wm(n.stateNode,u,f),Zd(n,f),wt!==4&&(wt=2)),!1;var d=Error(s(520),{cause:u});if(d=nr(d,a),su===null?su=[d]:su.push(d),wt!==4&&(wt=2),i===null)return!0;u=nr(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=wm(a.stateNode,u,n),Zd(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(bs===null||!bs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ov(f),Dv(f,n,a,u),Zd(a,f),!1}a=a.return}while(a!==null);return!1}var Sm=Error(s(461)),Mt=!1;function tn(n,i,a,u){i.child=n===null?L_(i,null,a,u):Ra(i,n.child,a,u)}function kv(n,i,a,u,f){a=a.render;var d=i.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return Ta(i),u=sm(n,i,a,_,d,f),S=am(),n!==null&&!Mt?(om(n,i,f),_i(n,i,f)):(He&&S&&zd(i),i.flags|=1,tn(n,i,u,f),i.child)}function Mv(n,i,a,u,f){if(n===null){var d=a.type;return typeof d=="function"&&!Vd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Pv(n,i,d,u,f)):(n=Kc(a.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Dm(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(_,u)&&n.ref===i.ref)return _i(n,i,f)}return i.flags|=1,n=fi(d,u),n.ref=i.ref,n.return=i,i.child=n}function Pv(n,i,a,u,f){if(n!==null){var d=n.memoizedProps;if(Vl(d,u)&&n.ref===i.ref)if(Mt=!1,i.pendingProps=u=d,Dm(n,f))(n.flags&131072)!==0&&(Mt=!0);else return i.lanes=n.lanes,_i(n,i,f)}return Am(n,i,a,u,f)}function Lv(n,i,a,u){var f=u.children,d=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(u=i.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~d}else u=0,i.child=null;return Vv(n,i,d,a,u)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Wc(i,d!==null?d.cachePool:null),d!==null?j_(i,d):tm(),z_(i);else return u=i.lanes=536870912,Vv(n,i,d!==null?d.baseLanes|a:a,a,u)}else d!==null?(Wc(i,d.cachePool),j_(i,d),ys(),i.memoizedState=null):(n!==null&&Wc(i,null),tm(),ys());return tn(n,i,f,a),i.child}function Jl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Vv(n,i,a,u,f){var d=Xd();return d=d===null?null:{parent:Dt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&Wc(i,null),tm(),z_(i),n!==null&&bo(n,i,u,!0),i.childLanes=f,null}function dh(n,i){return i=ph({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Uv(n,i,a){return Ra(i,n.child,null,a),n=dh(i,i.pendingProps),n.flags|=2,$n(i),i.memoizedState=null,n}function TR(n,i,a){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(He){if(u.mode==="hidden")return n=dh(i,u),i.lanes=536870912,Jl(null,n);if(rm(i),(n=ct)?(n=Q0(n,sr),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:us!==null?{id:Pr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},a=b_(n),a.return=i,i.child=a,Zt=i,ct=null)):n=null,n===null)throw hs(i);return i.lanes=536870912,null}return dh(i,u)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(rm(i),f)if(i.flags&256)i.flags&=-257,i=Uv(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(s(558));else if(Mt||bo(n,i,a,!1),f=(a&n.childLanes)!==0,Mt||f){if(u=st,u!==null&&(_=Yi(u,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,_a(n,_),kn(u,n,_),Sm;Sh(),i=Uv(n,i,a)}else n=d.treeContext,ct=or(_.nextSibling),Zt=i,He=!0,cs=null,sr=!1,n!==null&&S_(i,n),i=dh(i,u),i.flags|=4096;return i}return n=fi(n.child,{mode:u.mode,children:u.children}),n.ref=i.ref,i.child=n,n.return=i,n}function mh(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Am(n,i,a,u,f){return Ta(i),a=sm(n,i,a,u,void 0,f),u=am(),n!==null&&!Mt?(om(n,i,f),_i(n,i,f)):(He&&u&&zd(i),i.flags|=1,tn(n,i,a,f),i.child)}function jv(n,i,a,u,f,d){return Ta(i),i.updateQueue=null,a=H_(i,u,a,f),B_(n),u=am(),n!==null&&!Mt?(om(n,i,d),_i(n,i,d)):(He&&u&&zd(i),i.flags|=1,tn(n,i,a,d),i.child)}function zv(n,i,a,u,f){if(Ta(i),i.stateNode===null){var d=yo,_=a.contextType;typeof _=="object"&&_!==null&&(d=en(_)),d=new a(u,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Tm,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=u,d.state=i.memoizedState,d.refs={},Wd(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?en(_):yo,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(bm(i,a,_,u),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Tm.enqueueReplaceState(d,d.state,null),Kl(i,u,d,f),$l(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){d=i.stateNode;var S=i.memoizedProps,U=Ca(a,S);d.props=U;var Q=d.context,re=a.contextType;_=yo,typeof re=="object"&&re!==null&&(_=en(re));var se=a.getDerivedStateFromProps;re=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,re||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||Q!==_)&&Rv(i,d,u,_),ds=!1;var J=i.memoizedState;d.state=J,Kl(i,u,d,f),$l(),Q=i.memoizedState,S||J!==Q||ds?(typeof se=="function"&&(bm(i,a,se,u),Q=i.memoizedState),(U=ds||Av(i,a,U,u,J,Q,_))?(re||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Q),d.props=u,d.state=Q,d.context=_,u=U):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{d=i.stateNode,Jd(n,i),_=i.memoizedProps,re=Ca(a,_),d.props=re,se=i.pendingProps,J=d.context,Q=a.contextType,U=yo,typeof Q=="object"&&Q!==null&&(U=en(Q)),S=a.getDerivedStateFromProps,(Q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==se||J!==U)&&Rv(i,d,u,U),ds=!1,J=i.memoizedState,d.state=J,Kl(i,u,d,f),$l();var Z=i.memoizedState;_!==se||J!==Z||ds||n!==null&&n.dependencies!==null&&Xc(n.dependencies)?(typeof S=="function"&&(bm(i,a,S,u),Z=i.memoizedState),(re=ds||Av(i,a,re,u,J,Z,U)||n!==null&&n.dependencies!==null&&Xc(n.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,Z,U),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,Z,U)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Z),d.props=u,d.state=Z,d.context=U,u=re):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),u=!1)}return d=u,mh(n,i),u=(i.flags&128)!==0,d||u?(d=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&u?(i.child=Ra(i,n.child,null,f),i.child=Ra(i,null,a,f)):tn(n,i,a,f),i.memoizedState=d.state,n=i.child):n=_i(n,i,f),n}function Bv(n,i,a,u){return Ea(),i.flags|=256,tn(n,i,a,u),i.child}var Rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xm(n){return{baseLanes:n,cachePool:N_()}}function Cm(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Yn),n}function Hv(n,i,a){var u=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(xt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(He){if(f?gs(i):ys(),(n=ct)?(n=Q0(n,sr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:us!==null?{id:Pr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},a=b_(n),a.return=i,i.child=a,Zt=i,ct=null)):n=null,n===null)throw hs(i);return cp(n)?i.lanes=32:i.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(ys(),f=i.mode,S=ph({mode:"hidden",children:S},f),u=va(u,f,a,null),S.return=i,u.return=i,S.sibling=u,i.child=S,u=i.child,u.memoizedState=xm(a),u.childLanes=Cm(n,_,a),i.memoizedState=Rm,Jl(null,u)):(gs(i),Im(i,S))}var U=n.memoizedState;if(U!==null&&(S=U.dehydrated,S!==null)){if(d)i.flags&256?(gs(i),i.flags&=-257,i=Nm(n,i,a)):i.memoizedState!==null?(ys(),i.child=n.child,i.flags|=128,i=null):(ys(),S=u.fallback,f=i.mode,u=ph({mode:"visible",children:u.children},f),S=va(S,f,a,null),S.flags|=2,u.return=i,S.return=i,u.sibling=S,i.child=u,Ra(i,n.child,null,a),u=i.child,u.memoizedState=xm(a),u.childLanes=Cm(n,_,a),i.memoizedState=Rm,i=Jl(null,u));else if(gs(i),cp(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var Q=_.dgst;_=Q,u=Error(s(419)),u.stack="",u.digest=_,zl({value:u,source:null,stack:null}),i=Nm(n,i,a)}else if(Mt||bo(n,i,a,!1),_=(a&n.childLanes)!==0,Mt||_){if(_=st,_!==null&&(u=Yi(_,a),u!==0&&u!==U.retryLane))throw U.retryLane=u,_a(n,u),kn(_,n,u),Sm;up(S)||Sh(),i=Nm(n,i,a)}else up(S)?(i.flags|=192,i.child=n.child,i=null):(n=U.treeContext,ct=or(S.nextSibling),Zt=i,He=!0,cs=null,sr=!1,n!==null&&S_(i,n),i=Im(i,u.children),i.flags|=4096);return i}return f?(ys(),S=u.fallback,f=i.mode,U=n.child,Q=U.sibling,u=fi(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Q!==null?S=fi(Q,S):(S=va(S,f,a,null),S.flags|=2),S.return=i,u.return=i,u.sibling=S,i.child=u,Jl(null,u),u=i.child,S=n.child.memoizedState,S===null?S=xm(a):(f=S.cachePool,f!==null?(U=Dt._currentValue,f=f.parent!==U?{parent:U,pool:U}:f):f=N_(),S={baseLanes:S.baseLanes|a,cachePool:f}),u.memoizedState=S,u.childLanes=Cm(n,_,a),i.memoizedState=Rm,Jl(n.child,u)):(gs(i),a=n.child,n=a.sibling,a=fi(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function Im(n,i){return i=ph({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function ph(n,i){return n=Fn(22,n,null,i),n.lanes=0,n}function Nm(n,i,a){return Ra(i,n.child,null,a),n=Im(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function qv(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Gd(n.return,i,a)}function Om(n,i,a,u,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function Fv(n,i,a){var u=i.pendingProps,f=u.revealOrder,d=u.tail;u=u.children;var _=xt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ue(xt,_),tn(n,i,u,a),u=He?jl:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qv(n,a,i);else if(n.tag===19)qv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&rh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Om(i,!1,f,a,d,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&rh(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Om(i,!0,a,null,d,u);break;case"together":Om(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function _i(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Es|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(bo(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=fi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=fi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Dm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Xc(n)))}function wR(n,i,a){switch(i.tag){case 3:St(i,i.stateNode.containerInfo),fs(i,Dt,n.memoizedState.cache),Ea();break;case 27:case 5:An(i);break;case 4:St(i,i.stateNode.containerInfo);break;case 10:fs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,rm(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(gs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Hv(n,i,a):(gs(i),n=_i(n,i,a),n!==null?n.sibling:null);gs(i);break;case 19:var f=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(bo(n,i,a,!1),u=(a&i.childLanes)!==0),f){if(u)return Fv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(xt,xt.current),u)break;return null;case 22:return i.lanes=0,Lv(n,i,a,i.pendingProps);case 24:fs(i,Dt,n.memoizedState.cache)}return _i(n,i,a)}function Gv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Dm(n,a)&&(i.flags&128)===0)return Mt=!1,wR(n,i,a);Mt=(n.flags&131072)!==0}else Mt=!1,He&&(i.flags&1048576)!==0&&w_(i,jl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(n=Sa(i.elementType),i.type=n,typeof n=="function")Vd(n)?(u=Ca(n,u),i.tag=1,i=zv(null,i,n,u,a)):(i.tag=0,i=Am(null,i,n,u,a));else{if(n!=null){var f=n.$$typeof;if(f===ne){i.tag=11,i=kv(null,i,n,u,a);break e}else if(f===R){i.tag=14,i=Mv(null,i,n,u,a);break e}}throw i=_e(n)||n,Error(s(306,i,""))}}return i;case 0:return Am(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,f=Ca(u,i.pendingProps),zv(n,i,u,f,a);case 3:e:{if(St(i,i.stateNode.containerInfo),n===null)throw Error(s(387));u=i.pendingProps;var d=i.memoizedState;f=d.element,Jd(n,i),Kl(i,u,null,a);var _=i.memoizedState;if(u=_.cache,fs(i,Dt,u),u!==d.cache&&$d(i,[Dt],a,!0),$l(),u=_.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Bv(n,i,u,a);break e}else if(u!==f){f=nr(Error(s(424)),i),zl(f),i=Bv(n,i,u,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=or(n.firstChild),Zt=i,He=!0,cs=null,sr=!0,a=L_(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ea(),u===f){i=_i(n,i,a);break e}tn(n,i,u,a)}i=i.child}return i;case 26:return mh(n,i),n===null?(a=nE(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,n=i.pendingProps,u=Oh(Ce.current).createElement(a),u[Et]=i,u[Jt]=n,nn(u,a,n),Rt(u),i.stateNode=u):i.memoizedState=nE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return An(i),n===null&&He&&(u=i.stateNode=Z0(i.type,i.pendingProps,Ce.current),Zt=i,sr=!0,f=ct,As(i.type)?(hp=f,ct=or(u.firstChild)):ct=f),tn(n,i,i.pendingProps.children,a),mh(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&He&&((f=u=ct)&&(u=ZR(u,i.type,i.pendingProps,sr),u!==null?(i.stateNode=u,Zt=i,ct=or(u.firstChild),sr=!1,f=!0):f=!1),f||hs(i)),An(i),f=i.type,d=i.pendingProps,_=n!==null?n.memoizedProps:null,u=d.children,ap(f,d)?u=null:_!==null&&ap(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=sm(n,i,mR,null,null,a),du._currentValue=f),mh(n,i),tn(n,i,u,a),i.child;case 6:return n===null&&He&&((n=a=ct)&&(a=e2(a,i.pendingProps,sr),a!==null?(i.stateNode=a,Zt=i,ct=null,n=!0):n=!1),n||hs(i)),null;case 13:return Hv(n,i,a);case 4:return St(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=Ra(i,null,u,a):tn(n,i,u,a),i.child;case 11:return kv(n,i,i.type,i.pendingProps,a);case 7:return tn(n,i,i.pendingProps,a),i.child;case 8:return tn(n,i,i.pendingProps.children,a),i.child;case 12:return tn(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,fs(i,i.type,u.value),tn(n,i,u.children,a),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Ta(i),f=en(f),u=u(f),i.flags|=1,tn(n,i,u,a),i.child;case 14:return Mv(n,i,i.type,i.pendingProps,a);case 15:return Pv(n,i,i.type,i.pendingProps,a);case 19:return Fv(n,i,a);case 31:return TR(n,i,a);case 22:return Lv(n,i,a,i.pendingProps);case 24:return Ta(i),u=en(Dt),n===null?(f=Xd(),f===null&&(f=st,d=Kd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:u,cache:f},Wd(i),fs(i,Dt,f)):((n.lanes&a)!==0&&(Jd(n,i),Kl(i,null,null,a),$l()),f=n.memoizedState,d=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),fs(i,Dt,u)):(u=d.cache,fs(i,Dt,u),u!==f.cache&&$d(i,[Dt],a,!0))),tn(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function vi(n){n.flags|=4}function km(n,i,a,u,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(_0())n.flags|=8192;else throw Aa=Zc,Qd}else n.flags&=-16777217}function $v(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!oE(i))if(_0())n.flags|=8192;else throw Aa=Zc,Qd}function gh(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?vl():536870912,n.lanes|=i,ko|=i)}function Zl(n,i){if(!He)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ht(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function SR(n,i,a){var u=i.pendingProps;switch(Bd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),pi(Dt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Eo(i)?vi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qd())),ht(i),null;case 26:var f=i.type,d=i.memoizedState;return n===null?(vi(i),d!==null?(ht(i),$v(i,d)):(ht(i),km(i,f,null,u,a))):d?d!==n.memoizedState?(vi(i),ht(i),$v(i,d)):(ht(i),i.flags&=-16777217):(n=n.memoizedProps,n!==u&&vi(i),ht(i),km(i,f,n,u,a)),null;case 27:if(dr(i),a=Ce.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&vi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return ht(i),null}n=fe.current,Eo(i)?A_(i):(n=Z0(f,u,a),i.stateNode=n,vi(i))}return ht(i),null;case 5:if(dr(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&vi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return ht(i),null}if(d=fe.current,Eo(i))A_(i);else{var _=Oh(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}d[Et]=i,d[Jt]=u;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(nn(d,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&vi(i)}}return ht(i),km(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&vi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=Ce.current,Eo(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Et]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||H0(n.nodeValue,a)),n||hs(i,!0)}else n=Oh(n).createTextNode(u),n[Et]=i,i.stateNode=n}return ht(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(u=Eo(i),a!==null){if(n===null){if(!u)throw Error(s(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Et]=i}else Ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),n=!1}else a=qd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?($n(i),i):($n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ht(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Eo(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Et]=i}else Ea(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),f=!1}else f=qd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?($n(i),i):($n(i),null)}return $n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),gh(i,i.updateQueue),ht(i),null);case 4:return ot(),n===null&&tp(i.stateNode.containerInfo),ht(i),null;case 10:return pi(i.type),ht(i),null;case 19:if(W(xt),u=i.memoizedState,u===null)return ht(i),null;if(f=(i.flags&128)!==0,d=u.rendering,d===null)if(f)Zl(u,!1);else{if(wt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=rh(n),d!==null){for(i.flags|=128,Zl(u,!1),n=d.updateQueue,i.updateQueue=n,gh(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)E_(a,n),a=a.sibling;return ue(xt,xt.current&1|2),He&&di(i,u.treeForkCount),i.child}n=n.sibling}u.tail!==null&&tt()>bh&&(i.flags|=128,f=!0,Zl(u,!1),i.lanes=4194304)}else{if(!f)if(n=rh(d),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,gh(i,n),Zl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!He)return ht(i),null}else 2*tt()-u.renderingStartTime>bh&&a!==536870912&&(i.flags|=128,f=!0,Zl(u,!1),i.lanes=4194304);u.isBackwards?(d.sibling=i.child,i.child=d):(n=u.last,n!==null?n.sibling=d:i.child=d,u.last=d)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=tt(),n.sibling=null,a=xt.current,ue(xt,f?a&1|2:a&1),He&&di(i,u.treeForkCount),n):(ht(i),null);case 22:case 23:return $n(i),nm(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),a=i.updateQueue,a!==null&&gh(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&W(wa),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),pi(Dt),ht(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function AR(n,i){switch(Bd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return pi(Dt),ot(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return dr(i),null;case 31:if(i.memoizedState!==null){if($n(i),i.alternate===null)throw Error(s(340));Ea()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if($n(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ea()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return W(xt),null;case 4:return ot(),null;case 10:return pi(i.type),null;case 22:case 23:return $n(i),nm(),n!==null&&W(wa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return pi(Dt),null;case 25:return null;default:return null}}function Kv(n,i){switch(Bd(i),i.tag){case 3:pi(Dt),ot();break;case 26:case 27:case 5:dr(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&$n(i);break;case 13:$n(i);break;case 19:W(xt);break;case 10:pi(i.type);break;case 22:case 23:$n(i),nm(),n!==null&&W(wa);break;case 24:pi(Dt)}}function eu(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var d=a.create,_=a.inst;u=d(),_.destroy=u}a=a.next}while(a!==f)}}catch(S){Ze(i,i.return,S)}}function _s(n,i,a){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&n)===n){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var U=a,Q=S;try{Q()}catch(re){Ze(f,U,re)}}}u=u.next}while(u!==d)}}catch(re){Ze(i,i.return,re)}}function Yv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{U_(i,a)}catch(u){Ze(n,n.return,u)}}}function Xv(n,i,a){a.props=Ca(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){Ze(n,i,u)}}function tu(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){Ze(n,i,f)}}function Vr(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Ze(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,i,f)}else a.current=null}function Qv(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function Mm(n,i,a){try{var u=n.stateNode;KR(u,n.type,a,i),u[Jt]=i}catch(f){Ze(n,n.return,f)}}function Wv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&As(n.type)||n.tag===4}function Pm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&As(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lm(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qt));else if(u!==4&&(u===27&&As(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Lm(n,i,a),n=n.sibling;n!==null;)Lm(n,i,a),n=n.sibling}function yh(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&(u===27&&As(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(yh(n,i,a),n=n.sibling;n!==null;)yh(n,i,a),n=n.sibling}function Jv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);nn(i,u,a),i[Et]=n,i[Jt]=a}catch(d){Ze(n,n.return,d)}}var Ei=!1,Pt=!1,Vm=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,$t=null;function RR(n,i){if(n=n.containerInfo,ip=Uh,n=h_(n),Nd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,U=-1,Q=0,re=0,se=n,J=null;t:for(;;){for(var Z;se!==a||f!==0&&se.nodeType!==3||(S=_+f),se!==d||u!==0&&se.nodeType!==3||(U=_+u),se.nodeType===3&&(_+=se.nodeValue.length),(Z=se.firstChild)!==null;)J=se,se=Z;for(;;){if(se===n)break t;if(J===a&&++Q===f&&(S=_),J===d&&++re===u&&(U=_),(Z=se.nextSibling)!==null)break;se=J,J=se.parentNode}se=Z}a=S===-1||U===-1?null:{start:S,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(sp={focusedElem:n,selectionRange:a},Uh=!1,$t=i;$t!==null;)if(i=$t,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,$t=n;else for(;$t!==null;){switch(i=$t,d=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var me=Ca(a.type,f);n=u.getSnapshotBeforeUpdate(me,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(we){Ze(a,a.return,we)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)lp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":lp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,$t=n;break}$t=i.return}}function e0(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Ti(n,a),u&4&&eu(5,a);break;case 1:if(Ti(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var f=Ca(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}u&64&&Yv(a),u&512&&tu(a,a.return);break;case 3:if(Ti(n,a),u&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{U_(n,i)}catch(_){Ze(a,a.return,_)}}break;case 27:i===null&&u&4&&Jv(a);case 26:case 5:Ti(n,a),i===null&&u&4&&Qv(a),u&512&&tu(a,a.return);break;case 12:Ti(n,a);break;case 31:Ti(n,a),u&4&&r0(n,a);break;case 13:Ti(n,a),u&4&&i0(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=PR.bind(null,a),t2(n,a))));break;case 22:if(u=a.memoizedState!==null||Ei,!u){i=i!==null&&i.memoizedState!==null||Pt,f=Ei;var d=Pt;Ei=u,(Pt=i)&&!d?wi(n,a,(a.subtreeFlags&8772)!==0):Ti(n,a),Ei=f,Pt=d}break;case 30:break;default:Ti(n,a)}}function t0(n){var i=n.alternate;i!==null&&(n.alternate=null,t0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&aa(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,In=!1;function bi(n,i,a){for(a=a.child;a!==null;)n0(n,i,a),a=a.sibling}function n0(n,i,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(mr,a)}catch{}switch(a.tag){case 26:Pt||Vr(a,i),bi(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||Vr(a,i);var u=mt,f=In;As(a.type)&&(mt=a.stateNode,In=!1),bi(n,i,a),cu(a.stateNode),mt=u,In=f;break;case 5:Pt||Vr(a,i);case 6:if(u=mt,f=In,mt=null,bi(n,i,a),mt=u,In=f,mt!==null)if(In)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{mt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:mt!==null&&(In?(n=mt,Y0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Bo(n)):Y0(mt,a.stateNode));break;case 4:u=mt,f=In,mt=a.stateNode.containerInfo,In=!0,bi(n,i,a),mt=u,In=f;break;case 0:case 11:case 14:case 15:_s(2,a,i),Pt||_s(4,a,i),bi(n,i,a);break;case 1:Pt||(Vr(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Xv(a,i,u)),bi(n,i,a);break;case 21:bi(n,i,a);break;case 22:Pt=(u=Pt)||a.memoizedState!==null,bi(n,i,a),Pt=u;break;default:bi(n,i,a)}}function r0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Bo(n)}catch(a){Ze(i,i.return,a)}}}function i0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Bo(n)}catch(a){Ze(i,i.return,a)}}function xR(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Zv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Zv),i;default:throw Error(s(435,n.tag))}}function _h(n,i){var a=xR(n);i.forEach(function(u){if(!a.has(u)){a.add(u);var f=LR.bind(null,n,u);u.then(f,f)}})}function Nn(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=n,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(As(S.type)){mt=S.stateNode,In=!1;break e}break;case 5:mt=S.stateNode,In=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(mt===null)throw Error(s(160));n0(d,_,f),mt=null,In=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)s0(i,n),i=i.sibling}var vr=null;function s0(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(i,n),On(n),u&4&&(_s(3,n,n.return),eu(3,n),_s(5,n,n.return));break;case 1:Nn(i,n),On(n),u&512&&(Pt||a===null||Vr(a,a.return)),u&64&&Ei&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=vr;if(Nn(i,n),On(n),u&512&&(Pt||a===null||Vr(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ii]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),nn(d,u,a),d[Et]=n,Rt(d),u=d;break e;case"link":var _=sE("link","href",f).get(u+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(u),nn(d,u,a),f.head.appendChild(d);break;case"meta":if(_=sE("meta","content",f).get(u+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(u),nn(d,u,a),f.head.appendChild(d);break;default:throw Error(s(468,u))}d[Et]=n,Rt(d),u=d}n.stateNode=u}else aE(f,n.type,n.stateNode);else n.stateNode=iE(f,u,n.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?aE(f,n.type,n.stateNode):iE(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Mm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Nn(i,n),On(n),u&512&&(Pt||a===null||Vr(a,a.return)),a!==null&&u&4&&Mm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Nn(i,n),On(n),u&512&&(Pt||a===null||Vr(a,a.return)),n.flags&32){f=n.stateNode;try{er(f,"")}catch(me){Ze(n,n.return,me)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Mm(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Vm=!0);break;case 6:if(Nn(i,n),On(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(me){Ze(n,n.return,me)}}break;case 3:if(Mh=null,f=vr,vr=Dh(i.containerInfo),Nn(i,n),vr=f,On(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Bo(i.containerInfo)}catch(me){Ze(n,n.return,me)}Vm&&(Vm=!1,a0(n));break;case 4:u=vr,vr=Dh(n.stateNode.containerInfo),Nn(i,n),On(n),vr=u;break;case 12:Nn(i,n),On(n);break;case 31:Nn(i,n),On(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,_h(n,u)));break;case 13:Nn(i,n),On(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Eh=tt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,_h(n,u)));break;case 22:f=n.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,Q=Ei,re=Pt;if(Ei=Q||f,Pt=re||U,Nn(i,n),Pt=re,Ei=Q,On(n),u&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||U||Ei||Pt||Ia(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){U=a=i;try{if(d=U.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=U.stateNode;var se=U.memoizedProps.style,J=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(me){Ze(U,U.return,me)}}}else if(i.tag===6){if(a===null){U=i;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(me){Ze(U,U.return,me)}}}else if(i.tag===18){if(a===null){U=i;try{var Z=U.stateNode;f?X0(Z,!0):X0(U.stateNode,!1)}catch(me){Ze(U,U.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,_h(n,a))));break;case 19:Nn(i,n),On(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,_h(n,u)));break;case 30:break;case 21:break;default:Nn(i,n),On(n)}}function On(n){var i=n.flags;if(i&2){try{for(var a,u=n.return;u!==null;){if(Wv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Pm(n);yh(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(er(_,""),a.flags&=-33);var S=Pm(n);yh(n,S,_);break;case 3:case 4:var U=a.stateNode.containerInfo,Q=Pm(n);Lm(n,Q,U);break;default:throw Error(s(161))}}catch(re){Ze(n,n.return,re)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function a0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;a0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Ti(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)e0(n,i.alternate,i),i=i.sibling}function Ia(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:_s(4,i,i.return),Ia(i);break;case 1:Vr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Xv(i,i.return,a),Ia(i);break;case 27:cu(i.stateNode);case 26:case 5:Vr(i,i.return),Ia(i);break;case 22:i.memoizedState===null&&Ia(i);break;case 30:Ia(i);break;default:Ia(i)}n=n.sibling}}function wi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:wi(f,d,a),eu(4,d);break;case 1:if(wi(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){Ze(u,u.return,Q)}if(u=d,f=u.updateQueue,f!==null){var S=u.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)V_(U[f],S)}catch(Q){Ze(u,u.return,Q)}}a&&_&64&&Yv(d),tu(d,d.return);break;case 27:Jv(d);case 26:case 5:wi(f,d,a),a&&u===null&&_&4&&Qv(d),tu(d,d.return);break;case 12:wi(f,d,a);break;case 31:wi(f,d,a),a&&_&4&&r0(f,d);break;case 13:wi(f,d,a),a&&_&4&&i0(f,d);break;case 22:d.memoizedState===null&&wi(f,d,a),tu(d,d.return);break;case 30:break;default:wi(f,d,a)}i=i.sibling}}function Um(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Bl(a))}function jm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Bl(n))}function Er(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)o0(n,i,a,u),i=i.sibling}function o0(n,i,a,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Er(n,i,a,u),f&2048&&eu(9,i);break;case 1:Er(n,i,a,u);break;case 3:Er(n,i,a,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Bl(n)));break;case 12:if(f&2048){Er(n,i,a,u),n=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){Ze(i,i.return,U)}}else Er(n,i,a,u);break;case 31:Er(n,i,a,u);break;case 13:Er(n,i,a,u);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Er(n,i,a,u):nu(n,i):d._visibility&2?Er(n,i,a,u):(d._visibility|=2,No(n,i,a,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Um(_,i);break;case 24:Er(n,i,a,u),f&2048&&jm(i.alternate,i);break;default:Er(n,i,a,u)}}function No(n,i,a,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=n,_=i,S=a,U=u,Q=_.flags;switch(_.tag){case 0:case 11:case 15:No(d,_,S,U,f),eu(8,_);break;case 23:break;case 22:var re=_.stateNode;_.memoizedState!==null?re._visibility&2?No(d,_,S,U,f):nu(d,_):(re._visibility|=2,No(d,_,S,U,f)),f&&Q&2048&&Um(_.alternate,_);break;case 24:No(d,_,S,U,f),f&&Q&2048&&jm(_.alternate,_);break;default:No(d,_,S,U,f)}i=i.sibling}}function nu(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,f=u.flags;switch(u.tag){case 22:nu(a,u),f&2048&&Um(u.alternate,u);break;case 24:nu(a,u),f&2048&&jm(u.alternate,u);break;default:nu(a,u)}i=i.sibling}}var ru=8192;function Oo(n,i,a){if(n.subtreeFlags&ru)for(n=n.child;n!==null;)l0(n,i,a),n=n.sibling}function l0(n,i,a){switch(n.tag){case 26:Oo(n,i,a),n.flags&ru&&n.memoizedState!==null&&d2(a,vr,n.memoizedState,n.memoizedProps);break;case 5:Oo(n,i,a);break;case 3:case 4:var u=vr;vr=Dh(n.stateNode.containerInfo),Oo(n,i,a),vr=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=ru,ru=16777216,Oo(n,i,a),ru=u):Oo(n,i,a));break;default:Oo(n,i,a)}}function u0(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function iu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];$t=u,h0(u,n)}u0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)c0(n),n=n.sibling}function c0(n){switch(n.tag){case 0:case 11:case 15:iu(n),n.flags&2048&&_s(9,n,n.return);break;case 3:iu(n);break;case 12:iu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,vh(n)):iu(n);break;default:iu(n)}}function vh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];$t=u,h0(u,n)}u0(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:_s(8,i,i.return),vh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,vh(i));break;default:vh(i)}n=n.sibling}}function h0(n,i){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:_s(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,$t=u;else e:for(a=n;$t!==null;){u=$t;var f=u.sibling,d=u.return;if(t0(u),u===a){$t=null;break e}if(f!==null){f.return=d,$t=f;break e}$t=d}}}var CR={getCacheForType:function(n){var i=en(Dt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return en(Dt).controller.signal}},IR=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Pe=null,Ve=0,Je=0,Kn=null,vs=!1,Do=!1,zm=!1,Si=0,wt=0,Es=0,Na=0,Bm=0,Yn=0,ko=0,su=null,Dn=null,Hm=!1,Eh=0,f0=0,bh=1/0,Th=null,bs=null,jt=0,Ts=null,Mo=null,Ai=0,qm=0,Fm=null,d0=null,au=0,Gm=null;function Xn(){return(Ye&2)!==0&&Ve!==0?Ve&-Ve:q.T!==null?Wm():ri()}function m0(){if(Yn===0)if((Ve&536870912)===0||He){var n=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Yn=n}else Yn=536870912;return n=Gn.current,n!==null&&(n.flags|=32),Yn}function kn(n,i,a){(n===st&&(Je===2||Je===9)||n.cancelPendingCommit!==null)&&(Po(n,0),ws(n,Ve,Yn,!1)),$i(n,a),((Ye&2)===0||n!==st)&&(n===st&&((Ye&2)===0&&(Na|=a),wt===4&&ws(n,Ve,Yn,!1)),Ur(n))}function p0(n,i,a){if((Ye&6)!==0)throw Error(s(327));var u=!a&&(i&127)===0&&(i&n.expiredLanes)===0||Gi(n,i),f=u?DR(n,i):Km(n,i,!0),d=u;do{if(f===0){Do&&!u&&ws(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!NR(a)){f=Km(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=n;f=su;var U=S.current.memoizedState.isDehydrated;if(U&&(Po(S,_).flags|=256),_=Km(S,_,!1),_!==2){if(zm&&!U){S.errorRecoveryDisabledLanes|=d,Na|=d,f=4;break e}d=Dn,Dn=f,d!==null&&(Dn===null?Dn=d:Dn.push.apply(Dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Po(n,0),ws(n,i,0,!0);break}e:{switch(u=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ws(u,i,Yn,!vs);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Eh+300-tt(),10<f)){if(ws(u,i,Yn,!vs),Jn(u,0,!0)!==0)break e;Ai=i,u.timeoutHandle=$0(g0.bind(null,u,a,Dn,Th,Hm,i,Yn,Na,ko,vs,d,"Throttled",-0,0),f);break e}g0(u,a,Dn,Th,Hm,i,Yn,Na,ko,vs,d,null,-0,0)}}break}while(!0);Ur(n)}function g0(n,i,a,u,f,d,_,S,U,Q,re,se,J,Z){if(n.timeoutHandle=-1,se=i.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qt},l0(i,d,se);var me=(d&62914560)===d?Eh-tt():(d&4194048)===d?f0-tt():0;if(me=m2(se,me),me!==null){Ai=d,n.cancelPendingCommit=me(S0.bind(null,n,i,d,a,u,f,_,S,U,re,se,null,J,Z)),ws(n,d,_,!Q);return}}S0(n,i,d,a,u,f,_,S,U)}function NR(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!qn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ws(n,i,a,u){i&=~Bm,i&=~Na,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var d=31-gn(f),_=1<<d;u[d]=-1,f&=~_}a!==0&&El(n,a,i)}function wh(){return(Ye&6)===0?(ou(0),!1):!0}function $m(){if(Pe!==null){if(Je===0)var n=Pe.return;else n=Pe,mi=ba=null,lm(n),Ao=null,ql=0,n=Pe;for(;n!==null;)Kv(n.alternate,n),n=n.return;Pe=null}}function Po(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,QR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ai=0,$m(),st=n,Pe=a=fi(n.current,null),Ve=i,Je=0,Kn=null,vs=!1,Do=Gi(n,i),zm=!1,ko=Yn=Bm=Na=Es=wt=0,Dn=su=null,Hm=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-gn(u),d=1<<f;i|=n[f],u&=~d}return Si=i,Fc(),a}function y0(n,i){De=null,q.H=Wl,i===So||i===Jc?(i=k_(),Je=3):i===Qd?(i=k_(),Je=4):Je=i===Sm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,Pe===null&&(wt=1,fh(n,nr(i,n.current)))}function _0(){var n=Gn.current;return n===null?!0:(Ve&4194048)===Ve?ar===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?n===ar:!1}function v0(){var n=q.H;return q.H=Wl,n===null?Wl:n}function E0(){var n=q.A;return q.A=CR,n}function Sh(){wt=4,vs||(Ve&4194048)!==Ve&&Gn.current!==null||(Do=!0),(Es&134217727)===0&&(Na&134217727)===0||st===null||ws(st,Ve,Yn,!1)}function Km(n,i,a){var u=Ye;Ye|=2;var f=v0(),d=E0();(st!==n||Ve!==i)&&(Th=null,Po(n,i)),i=!1;var _=wt;e:do try{if(Je!==0&&Pe!==null){var S=Pe,U=Kn;switch(Je){case 8:$m(),_=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(i=!0);var Q=Je;if(Je=0,Kn=null,Lo(n,S,U,Q),a&&Do){_=0;break e}break;default:Q=Je,Je=0,Kn=null,Lo(n,S,U,Q)}}OR(),_=wt;break}catch(re){y0(n,re)}while(!0);return i&&n.shellSuspendCounter++,mi=ba=null,Ye=u,q.H=f,q.A=d,Pe===null&&(st=null,Ve=0,Fc()),_}function OR(){for(;Pe!==null;)b0(Pe)}function DR(n,i){var a=Ye;Ye|=2;var u=v0(),f=E0();st!==n||Ve!==i?(Th=null,bh=tt()+500,Po(n,i)):Do=Gi(n,i);e:do try{if(Je!==0&&Pe!==null){i=Pe;var d=Kn;t:switch(Je){case 1:Je=0,Kn=null,Lo(n,i,d,1);break;case 2:case 9:if(O_(d)){Je=0,Kn=null,T0(i);break}i=function(){Je!==2&&Je!==9||st!==n||(Je=7),Ur(n)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:O_(d)?(Je=0,Kn=null,T0(i)):(Je=0,Kn=null,Lo(n,i,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var S=Pe;if(_?oE(_):S.stateNode.complete){Je=0,Kn=null;var U=S.sibling;if(U!==null)Pe=U;else{var Q=S.return;Q!==null?(Pe=Q,Ah(Q)):Pe=null}break t}}Je=0,Kn=null,Lo(n,i,d,5);break;case 6:Je=0,Kn=null,Lo(n,i,d,6);break;case 8:$m(),wt=6;break e;default:throw Error(s(462))}}kR();break}catch(re){y0(n,re)}while(!0);return mi=ba=null,q.H=u,q.A=f,Ye=a,Pe!==null?0:(st=null,Ve=0,Fc(),wt)}function kR(){for(;Pe!==null&&!et();)b0(Pe)}function b0(n){var i=Gv(n.alternate,n,Si);n.memoizedProps=n.pendingProps,i===null?Ah(n):Pe=i}function T0(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=jv(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=jv(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:lm(i);default:Kv(a,i),i=Pe=E_(i,Si),i=Gv(a,i,Si)}n.memoizedProps=n.pendingProps,i===null?Ah(n):Pe=i}function Lo(n,i,a,u){mi=ba=null,lm(i),Ao=null,ql=0;var f=i.return;try{if(bR(n,f,i,a,Ve)){wt=1,fh(n,nr(a,n.current)),Pe=null;return}}catch(d){if(f!==null)throw Pe=f,d;wt=1,fh(n,nr(a,n.current)),Pe=null;return}i.flags&32768?(He||u===1?n=!0:Do||(Ve&536870912)!==0?n=!1:(vs=n=!0,(u===2||u===9||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),w0(i,n)):Ah(i)}function Ah(n){var i=n;do{if((i.flags&32768)!==0){w0(i,vs);return}n=i.return;var a=SR(i.alternate,i,Si);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=n}while(i!==null);wt===0&&(wt=5)}function w0(n,i){do{var a=AR(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);wt=6,Pe=null}function S0(n,i,a,u,f,d,_,S,U){n.cancelPendingCommit=null;do Rh();while(jt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Pd,Wt(n,a,d,_,S,U),n===st&&(Pe=st=null,Ve=0),Mo=i,Ts=n,Ai=a,qm=d,Fm=f,d0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,VR(Rn,function(){return I0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,f=Y.p,Y.p=2,_=Ye,Ye|=4;try{RR(n,i,a)}finally{Ye=_,Y.p=f,q.T=u}}jt=1,A0(),R0(),x0()}}function A0(){if(jt===1){jt=0;var n=Ts,i=Mo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var u=Y.p;Y.p=2;var f=Ye;Ye|=4;try{s0(i,n);var d=sp,_=h_(n.containerInfo),S=d.focusedElem,U=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&c_(S.ownerDocument.documentElement,S)){if(U!==null&&Nd(S)){var Q=U.start,re=U.end;if(re===void 0&&(re=Q),"selectionStart"in S)S.selectionStart=Q,S.selectionEnd=Math.min(re,S.value.length);else{var se=S.ownerDocument||document,J=se&&se.defaultView||window;if(J.getSelection){var Z=J.getSelection(),me=S.textContent.length,we=Math.min(U.start,me),it=U.end===void 0?we:Math.min(U.end,me);!Z.extend&&we>it&&(_=it,it=we,we=_);var G=u_(S,we),B=u_(S,it);if(G&&B&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==B.node||Z.focusOffset!==B.offset)){var X=se.createRange();X.setStart(G.node,G.offset),Z.removeAllRanges(),we>it?(Z.addRange(X),Z.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),Z.addRange(X))}}}}for(se=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ie=se[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Uh=!!ip,sp=ip=null}finally{Ye=f,Y.p=u,q.T=a}}n.current=i,jt=2}}function R0(){if(jt===2){jt=0;var n=Ts,i=Mo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var u=Y.p;Y.p=2;var f=Ye;Ye|=4;try{e0(n,i.alternate,i)}finally{Ye=f,Y.p=u,q.T=a}}jt=3}}function x0(){if(jt===4||jt===3){jt=0,At();var n=Ts,i=Mo,a=Ai,u=d0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Mo=Ts=null,C0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(bs=null),Tl(a),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(mr,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=q.T,f=Y.p,Y.p=2,q.T=null;try{for(var d=n.onRecoverableError,_=0;_<u.length;_++){var S=u[_];d(S.value,{componentStack:S.stack})}}finally{q.T=i,Y.p=f}}(Ai&3)!==0&&Rh(),Ur(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Gm?au++:(au=0,Gm=n):au=0,ou(0)}}function C0(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Bl(i)))}function Rh(){return A0(),R0(),x0(),I0()}function I0(){if(jt!==5)return!1;var n=Ts,i=qm;qm=0;var a=Tl(Ai),u=q.T,f=Y.p;try{Y.p=32>a?32:a,q.T=null,a=Fm,Fm=null;var d=Ts,_=Ai;if(jt=0,Mo=Ts=null,Ai=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,c0(d.current),o0(d,d.current,_,a),Ye=S,ou(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(mr,d)}catch{}return!0}finally{Y.p=f,q.T=u,C0(n,i)}}function N0(n,i,a){i=nr(a,i),i=wm(n.stateNode,i,2),n=ps(n,i,2),n!==null&&($i(n,2),Ur(n))}function Ze(n,i,a){if(n.tag===3)N0(n,n,a);else for(;i!==null;){if(i.tag===3){N0(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(bs===null||!bs.has(u))){n=nr(a,n),a=Ov(2),u=ps(i,a,2),u!==null&&(Dv(a,u,i,n),$i(u,2),Ur(u));break}}i=i.return}}function Ym(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new IR;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(a)||(zm=!0,f.add(a),n=MR.bind(null,n,i,a),i.then(n,n))}function MR(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,st===n&&(Ve&a)===a&&(wt===4||wt===3&&(Ve&62914560)===Ve&&300>tt()-Eh?(Ye&2)===0&&Po(n,0):Bm|=a,ko===Ve&&(ko=0)),Ur(n)}function O0(n,i){i===0&&(i=vl()),n=_a(n,i),n!==null&&($i(n,i),Ur(n))}function PR(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),O0(n,a)}function LR(n,i){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),O0(n,a)}function VR(n,i){return ti(n,i)}var xh=null,Vo=null,Xm=!1,Ch=!1,Qm=!1,Ss=0;function Ur(n){n!==Vo&&n.next===null&&(Vo===null?xh=Vo=n:Vo=Vo.next=n),Ch=!0,Xm||(Xm=!0,jR())}function ou(n,i){if(!Qm&&Ch){Qm=!0;do for(var a=!1,u=xh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var _=u.suspendedLanes,S=u.pingedLanes;d=(1<<31-gn(42|n)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,P0(u,d))}else d=Ve,d=Jn(u,u===st?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||Gi(u,d)||(a=!0,P0(u,d));u=u.next}while(a);Qm=!1}}function UR(){D0()}function D0(){Ch=Xm=!1;var n=0;Ss!==0&&XR()&&(n=Ss);for(var i=tt(),a=null,u=xh;u!==null;){var f=u.next,d=k0(u,i);d===0?(u.next=null,a===null?xh=f:a.next=f,f===null&&(Vo=a)):(a=u,(n!==0||(d&3)!==0)&&(Ch=!0)),u=f}jt!==0&&jt!==5||ou(n),Ss!==0&&(Ss=0)}function k0(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-gn(d),S=1<<_,U=f[_];U===-1?((S&a)===0||(S&u)!==0)&&(f[_]=no(S,i)):U<=i&&(n.expiredLanes|=S),d&=~S}if(i=st,a=Ve,a=Jn(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===i&&(Je===2||Je===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&he(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Gi(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&he(u),Tl(a)){case 2:case 8:a=gt;break;case 32:a=Rn;break;case 268435456:a=ln;break;default:a=Rn}return u=M0.bind(null,n),a=ti(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&he(u),n.callbackPriority=2,n.callbackNode=null,2}function M0(n,i){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Rh()&&n.callbackNode!==a)return null;var u=Ve;return u=Jn(n,n===st?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(p0(n,u,i),k0(n,tt()),n.callbackNode!=null&&n.callbackNode===a?M0.bind(null,n):null)}function P0(n,i){if(Rh())return null;p0(n,i,!0)}function jR(){WR(function(){(Ye&6)!==0?ti(lt,UR):D0()})}function Wm(){if(Ss===0){var n=To;n===0&&(n=sa,sa<<=1,(sa&261888)===0&&(sa=256)),Ss=n}return Ss}function L0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Dr(""+n)}function V0(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function zR(n,i,a,u,f){if(i==="submit"&&a&&a.stateNode===f){var d=L0((f[Jt]||null).action),_=u.submitter;_&&(i=(i=_[Jt]||null)?L0(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new ha("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ss!==0){var U=_?V0(f,_):new FormData(f);ym(a,{pending:!0,data:U,method:f.method,action:d},null,U)}}else typeof d=="function"&&(S.preventDefault(),U=_?V0(f,_):new FormData(f),ym(a,{pending:!0,data:U,method:f.method,action:d},d,U))},currentTarget:f}]})}}for(var Jm=0;Jm<Md.length;Jm++){var Zm=Md[Jm],BR=Zm.toLowerCase(),HR=Zm[0].toUpperCase()+Zm.slice(1);_r(BR,"on"+HR)}_r(m_,"onAnimationEnd"),_r(p_,"onAnimationIteration"),_r(g_,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(iR,"onTransitionRun"),_r(sR,"onTransitionStart"),_r(aR,"onTransitionCancel"),_r(y_,"onTransitionEnd"),Or("onMouseEnter",["mouseout","mouseover"]),Or("onMouseLeave",["mouseout","mouseover"]),Or("onPointerEnter",["pointerout","pointerover"]),Or("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function U0(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var d=void 0;if(i)for(var _=u.length-1;0<=_;_--){var S=u[_],U=S.instance,Q=S.currentTarget;if(S=S.listener,U!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=Q;try{d(f)}catch(re){qc(re)}f.currentTarget=null,d=U}else for(_=0;_<u.length;_++){if(S=u[_],U=S.instance,Q=S.currentTarget,S=S.listener,U!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=Q;try{d(f)}catch(re){qc(re)}f.currentTarget=null,d=U}}}}function Le(n,i){var a=i[Xi];a===void 0&&(a=i[Xi]=new Set);var u=n+"__bubble";a.has(u)||(j0(i,n,2,!1),a.add(u))}function ep(n,i,a){var u=0;i&&(u|=4),j0(a,n,u,i)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function tp(n){if(!n[Ih]){n[Ih]=!0,ro.forEach(function(a){a!=="selectionchange"&&(qR.has(a)||ep(a,!1,n),ep(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ih]||(i[Ih]=!0,ep("selectionchange",!1,i))}}function j0(n,i,a,u){switch(mE(i)){case 2:var f=y2;break;case 8:f=_2;break;default:f=gp}a=f.bind(null,i,a,n),f=void 0,!Nl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function np(n,i,a,u,f){var d=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=u.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=si(S),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){u=d=_;continue e}S=S.parentNode}}u=u.return}xc(function(){var Q=d,re=lo(a),se=[];e:{var J=__.get(n);if(J!==void 0){var Z=ha,me=n;switch(n){case"keypress":if(ca(a)===0)break e;case"keydown":case"keyup":Z=Lc;break;case"focusin":me="focus",Z=ss;break;case"focusout":me="blur",Z=ss;break;case"beforeblur":case"afterblur":Z=ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Uc;break;case m_:case p_:case g_:Z=ho;break;case y_:Z=fo;break;case"scroll":case"scrollend":Z=Cc;break;case"wheel":Z=zc;break;case"copy":case"cut":case"paste":Z=Dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Pl;break;case"toggle":case"beforetoggle":Z=os}var we=(i&4)!==0,it=!we&&(n==="scroll"||n==="scrollend"),G=we?J!==null?J+"Capture":null:J;we=[];for(var B=Q,X;B!==null;){var ie=B;if(X=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||X===null||G===null||(ie=xn(B,G),ie!=null&&we.push(uu(B,ie,X))),it)break;B=B.return}0<we.length&&(J=new Z(J,me,null,a,re),se.push({event:J,listeners:we}))}}if((i&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",J&&a!==oo&&(me=a.relatedTarget||a.fromElement)&&(si(me)||me[Ir]))break e;if((Z||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,Z?(me=a.relatedTarget||a.toElement,Z=Q,me=me?si(me):null,me!==null&&(it=l(me),we=me.tag,me!==it||we!==5&&we!==27&&we!==6)&&(me=null)):(Z=null,me=Q),Z!==me)){if(we=Ic,ie="onMouseLeave",G="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(we=Pl,ie="onPointerLeave",G="onPointerEnter",B="pointer"),it=Z==null?J:oa(Z),X=me==null?J:oa(me),J=new we(ie,B+"leave",Z,a,re),J.target=it,J.relatedTarget=X,ie=null,si(re)===Q&&(we=new we(G,B+"enter",me,a,re),we.target=X,we.relatedTarget=it,ie=we),it=ie,Z&&me)t:{for(we=FR,G=Z,B=me,X=0,ie=G;ie;ie=we(ie))X++;ie=0;for(var Ee=B;Ee;Ee=we(Ee))ie++;for(;0<X-ie;)G=we(G),X--;for(;0<ie-X;)B=we(B),ie--;for(;X--;){if(G===B||B!==null&&G===B.alternate){we=G;break t}G=we(G),B=we(B)}we=null}else we=null;Z!==null&&z0(se,J,Z,we,!1),me!==null&&it!==null&&z0(se,it,me,we,!0)}}e:{if(J=Q?oa(Q):window,Z=J.nodeName&&J.nodeName.toLowerCase(),Z==="select"||Z==="input"&&J.type==="file")var $e=r_;else if(Cn(J))if(i_)$e=tR;else{$e=ZA;var ye=JA}else Z=J.nodeName,!Z||Z.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&Cl(Q.elementType)&&($e=r_):$e=eR;if($e&&($e=$e(n,Q))){pa(se,$e,a,re);break e}ye&&ye(n,J,Q),n==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&ao(J,"number",J.value)}switch(ye=Q?oa(Q):window,n){case"focusin":(Cn(ye)||ye.contentEditable==="true")&&(mo=ye,Od=Q,Ul=null);break;case"focusout":Ul=Od=mo=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,f_(se,a,re);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":f_(se,a,re)}var ke;if(y)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Me?Xe(n,a)&&(Ue="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(K&&a.locale!=="ko"&&(Me||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Me&&(ke=ts()):(Hn=re,uo="value"in Hn?Hn.value:Hn.textContent,Me=!0)),ye=Nh(Q,Ue),0<ye.length&&(Ue=new Dl(Ue,n,null,a,re),se.push({event:Ue,listeners:ye}),ke?Ue.data=ke:(ke=Ot(a),ke!==null&&(Ue.data=ke)))),(ke=x?Ft(n,a):Gt(n,a))&&(Ue=Nh(Q,"onBeforeInput"),0<Ue.length&&(ye=new Dl("onBeforeInput","beforeinput",null,a,re),se.push({event:ye,listeners:Ue}),ye.data=ke)),zR(se,n,Q,a,re)}U0(se,i)})}function uu(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Nh(n,i){for(var a=i+"Capture",u=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=xn(n,a),f!=null&&u.unshift(uu(n,f,d)),f=xn(n,i),f!=null&&u.push(uu(n,f,d))),n.tag===3)return u;n=n.return}return[]}function FR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function z0(n,i,a,u,f){for(var d=i._reactName,_=[];a!==null&&a!==u;){var S=a,U=S.alternate,Q=S.stateNode;if(S=S.tag,U!==null&&U===u)break;S!==5&&S!==26&&S!==27||Q===null||(U=Q,f?(Q=xn(a,d),Q!=null&&_.unshift(uu(a,Q,U))):f||(Q=xn(a,d),Q!=null&&_.push(uu(a,Q,U)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var GR=/\r\n?/g,$R=/\u0000|\uFFFD/g;function B0(n){return(typeof n=="string"?n:""+n).replace(GR,`
`).replace($R,"")}function H0(n,i){return i=B0(i),B0(n)===i}function rt(n,i,a,u,f,d){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||er(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&er(n,""+u);break;case"className":Ji(n,"class",u);break;case"tabIndex":Ji(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(n,a,u);break;case"style":Ac(n,u,d);break;case"data":if(i!=="object"){Ji(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Dr(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&rt(n,i,"name",f.name,f,null),rt(n,i,"formEncType",f.formEncType,f,null),rt(n,i,"formMethod",f.formMethod,f,null),rt(n,i,"formTarget",f.formTarget,f,null)):(rt(n,i,"encType",f.encType,f,null),rt(n,i,"method",f.method,f,null),rt(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Dr(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=qt);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Dr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Wi(n,"popover",u);break;case"xlinkActuate":Zn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Zn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Zn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Zn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Zn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Zn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Zn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Zn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Zn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ad.get(a)||a,Wi(n,a,u))}}function rp(n,i,a,u,f,d){switch(a){case"style":Ac(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?er(n,u):(typeof u=="number"||typeof u=="bigint")&&er(n,""+u);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"onClick":u!=null&&(n.onclick=qt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[Jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Wi(n,a,u)}}}function nn(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(n,i,d,_,a,null)}}f&&rt(n,i,"srcSet",a.srcSet,a,null),u&&rt(n,i,"src",a.src,a,null);return;case"input":Le("invalid",n);var S=d=_=f=null,U=null,Q=null;for(u in a)if(a.hasOwnProperty(u)){var re=a[u];if(re!=null)switch(u){case"name":f=re;break;case"type":_=re;break;case"checked":U=re;break;case"defaultChecked":Q=re;break;case"value":d=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:rt(n,i,u,re,a,null)}}la(n,d,S,U,Q,_,f,!1);return;case"select":Le("invalid",n),u=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:rt(n,i,f,S,a,null)}i=d,a=_,n.multiple=!!u,i!=null?Ge(n,!!u,i,!1):a!=null&&Ge(n,!!u,a,!0);return;case"textarea":Le("invalid",n),d=f=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:rt(n,i,_,S,a,null)}es(n,u,f,d);return;case"option":for(U in a)if(a.hasOwnProperty(U)&&(u=a[U],u!=null))switch(U){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(n,i,U,u,a,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(u=0;u<lu.length;u++)Le(lu[u],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(u=a[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(n,i,Q,u,a,null)}return;default:if(Cl(i)){for(re in a)a.hasOwnProperty(re)&&(u=a[re],u!==void 0&&rp(n,i,re,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&rt(n,i,S,u,a,null))}function KR(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,U=null,Q=null,re=null;for(Z in a){var se=a[Z];if(a.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":U=se;default:u.hasOwnProperty(Z)||rt(n,i,Z,null,u,se)}}for(var J in u){var Z=u[J];if(se=a[J],u.hasOwnProperty(J)&&(Z!=null||se!=null))switch(J){case"type":d=Z;break;case"name":f=Z;break;case"checked":Q=Z;break;case"defaultChecked":re=Z;break;case"value":_=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Z!==se&&rt(n,i,J,Z,u,se)}}Zi(n,_,S,U,Q,re,d,f);return;case"select":Z=_=S=J=null;for(d in a)if(U=a[d],a.hasOwnProperty(d)&&U!=null)switch(d){case"value":break;case"multiple":Z=U;default:u.hasOwnProperty(d)||rt(n,i,d,null,u,U)}for(f in u)if(d=u[f],U=a[f],u.hasOwnProperty(f)&&(d!=null||U!=null))switch(f){case"value":J=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==U&&rt(n,i,f,d,u,U)}i=S,a=_,u=Z,J!=null?Ge(n,!!a,J,!1):!!u!=!!a&&(i!=null?Ge(n,!!a,i,!0):Ge(n,!!a,a?[]:"",!1));return;case"textarea":Z=J=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(n,i,S,null,u,f)}for(_ in u)if(f=u[_],d=a[_],u.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":J=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&rt(n,i,_,f,u,d)}ua(n,J,Z);return;case"option":for(var me in a)if(J=a[me],a.hasOwnProperty(me)&&J!=null&&!u.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:rt(n,i,me,null,u,J)}for(U in u)if(J=u[U],Z=a[U],u.hasOwnProperty(U)&&J!==Z&&(J!=null||Z!=null))switch(U){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:rt(n,i,U,J,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)J=a[we],a.hasOwnProperty(we)&&J!=null&&!u.hasOwnProperty(we)&&rt(n,i,we,null,u,J);for(Q in u)if(J=u[Q],Z=a[Q],u.hasOwnProperty(Q)&&J!==Z&&(J!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:rt(n,i,Q,J,u,Z)}return;default:if(Cl(i)){for(var it in a)J=a[it],a.hasOwnProperty(it)&&J!==void 0&&!u.hasOwnProperty(it)&&rp(n,i,it,void 0,u,J);for(re in u)J=u[re],Z=a[re],!u.hasOwnProperty(re)||J===Z||J===void 0&&Z===void 0||rp(n,i,re,J,u,Z);return}}for(var G in a)J=a[G],a.hasOwnProperty(G)&&J!=null&&!u.hasOwnProperty(G)&&rt(n,i,G,null,u,J);for(se in u)J=u[se],Z=a[se],!u.hasOwnProperty(se)||J===Z||J==null&&Z==null||rt(n,i,se,J,u,Z)}function q0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&q0(_)){for(_=0,S=f.responseEnd,u+=1;u<a.length;u++){var U=a[u],Q=U.startTime;if(Q>S)break;var re=U.transferSize,se=U.initiatorType;re&&q0(se)&&(U=U.responseEnd,_+=re*(U<S?1:(S-Q)/(U-Q)))}if(--u,i+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var ip=null,sp=null;function Oh(n){return n.nodeType===9?n:n.ownerDocument}function F0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function ap(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var op=null;function XR(){var n=window.event;return n&&n.type==="popstate"?n===op?!1:(op=n,!0):(op=null,!1)}var $0=typeof setTimeout=="function"?setTimeout:void 0,QR=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,WR=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(n){return K0.resolve(null).then(n).catch(JR)}:$0;function JR(n){setTimeout(function(){throw n})}function As(n){return n==="head"}function Y0(n,i){var a=i,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(f),Bo(i);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")cu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,cu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[ii]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&cu(n.ownerDocument.body);a=f}while(a);Bo(i)}function X0(n,i){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function lp(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lp(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function ZR(n,i,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ii])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=or(n.nextSibling),n===null)break}return null}function e2(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=or(n.nextSibling),n===null))return null;return n}function Q0(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=or(n.nextSibling),n===null))return null;return n}function up(n){return n.data==="$?"||n.data==="$~"}function cp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function t2(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function or(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var hp=null;function W0(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return or(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function J0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function Z0(n,i,a){switch(i=Oh(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function cu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);aa(n)}var lr=new Map,eE=new Set;function Dh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ri=Y.d;Y.d={f:n2,r:r2,D:i2,C:s2,L:a2,m:o2,X:u2,S:l2,M:c2};function n2(){var n=Ri.f(),i=wh();return n||i}function r2(n){var i=ai(n);i!==null&&i.tag===5&&i.type==="form"?yv(i):Ri.r(n)}var Uo=typeof document>"u"?null:document;function tE(n,i,a){var u=Uo;if(u&&typeof i=="string"&&i){var f=bt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),eE.has(f)||(eE.add(f),n={rel:n,crossOrigin:a,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),nn(i,"link",n),Rt(i),u.head.appendChild(i)))}}function i2(n){Ri.D(n),tE("dns-prefetch",n,null)}function s2(n,i){Ri.C(n,i),tE("preconnect",n,i)}function a2(n,i,a){Ri.L(n,i,a);var u=Uo;if(u&&n&&i){var f='link[rel="preload"][as="'+bt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bt(a.imageSizes)+'"]')):f+='[href="'+bt(n)+'"]';var d=f;switch(i){case"style":d=jo(n);break;case"script":d=zo(n)}lr.has(d)||(n=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),lr.set(d,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(hu(d))||i==="script"&&u.querySelector(fu(d))||(i=u.createElement("link"),nn(i,"link",n),Rt(i),u.head.appendChild(i)))}}function o2(n,i){Ri.m(n,i);var a=Uo;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+bt(u)+'"][href="'+bt(n)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=zo(n)}if(!lr.has(d)&&(n=b({rel:"modulepreload",href:n},i),lr.set(d,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fu(d)))return}u=a.createElement("link"),nn(u,"link",n),Rt(u),a.head.appendChild(u)}}}function l2(n,i,a){Ri.S(n,i,a);var u=Uo;if(u&&n){var f=gr(u).hoistableStyles,d=jo(n);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(hu(d)))S.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":i},a),(a=lr.get(d))&&fp(n,a);var U=_=u.createElement("link");Rt(U),nn(U,"link",n),U._p=new Promise(function(Q,re){U.onload=Q,U.onerror=re}),U.addEventListener("load",function(){S.loading|=1}),U.addEventListener("error",function(){S.loading|=2}),S.loading|=4,kh(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function u2(n,i){Ri.X(n,i);var a=Uo;if(a&&n){var u=gr(a).hoistableScripts,f=zo(n),d=u.get(f);d||(d=a.querySelector(fu(f)),d||(n=b({src:n,async:!0},i),(i=lr.get(f))&&dp(n,i),d=a.createElement("script"),Rt(d),nn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function c2(n,i){Ri.M(n,i);var a=Uo;if(a&&n){var u=gr(a).hoistableScripts,f=zo(n),d=u.get(f);d||(d=a.querySelector(fu(f)),d||(n=b({src:n,async:!0,type:"module"},i),(i=lr.get(f))&&dp(n,i),d=a.createElement("script"),Rt(d),nn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function nE(n,i,a,u){var f=(f=Ce.current)?Dh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=jo(a.href),a=gr(f).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=jo(a.href);var d=gr(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(hu(n)))&&!d._p&&(_.instance=d,_.state.loading=5),lr.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},lr.set(n,a),d||h2(f,n,a,_.state))),i&&u===null)throw Error(s(528,""));return _}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=zo(a),a=gr(f).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function jo(n){return'href="'+bt(n)+'"'}function hu(n){return'link[rel="stylesheet"]['+n+"]"}function rE(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function h2(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),nn(i,"link",a),Rt(i),n.head.appendChild(i))}function zo(n){return'[src="'+bt(n)+'"]'}function fu(n){return"script[async]"+n}function iE(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+bt(a.href)+'"]');if(u)return i.instance=u,Rt(u),u;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Rt(u),nn(u,"style",f),kh(u,a.precedence,n),i.instance=u;case"stylesheet":f=jo(a.href);var d=n.querySelector(hu(f));if(d)return i.state.loading|=4,i.instance=d,Rt(d),d;u=rE(a),(f=lr.get(f))&&fp(u,f),d=(n.ownerDocument||n).createElement("link"),Rt(d);var _=d;return _._p=new Promise(function(S,U){_.onload=S,_.onerror=U}),nn(d,"link",u),i.state.loading|=4,kh(d,a.precedence,n),i.instance=d;case"script":return d=zo(a.src),(f=n.querySelector(fu(d)))?(i.instance=f,Rt(f),f):(u=a,(f=lr.get(d))&&(u=b({},a),dp(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Rt(f),nn(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,kh(u,a.precedence,n));return i.instance}function kh(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function fp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function dp(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Mh=null;function sE(n,i,a){if(Mh===null){var u=new Map,f=Mh=new Map;f.set(a,u)}else f=Mh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ii]||d[Et]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=n+_;var S=u.get(_);S?S.push(d):u.set(_,[d])}}return u}function aE(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function f2(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function oE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function d2(n,i,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=jo(u.href),d=i.querySelector(hu(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Ph.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=d,Rt(d);return}d=i.ownerDocument||i,u=rE(u),(f=lr.get(f))&&fp(u,f),d=d.createElement("link"),Rt(d);var _=d;_._p=new Promise(function(S,U){_.onload=S,_.onerror=U}),nn(d,"link",u),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Ph.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var mp=0;function m2(n,i){return n.stylesheets&&n.count===0&&Vh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&Vh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+i);0<n.imgBytes&&mp===0&&(mp=62500*YR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Vh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>mp?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Lh=null;function Vh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Lh=new Map,i.forEach(p2,n),Lh=null,Ph.call(n))}function p2(n,i){if(!(i.state.loading&4)){var a=Lh.get(n);if(a)var u=a.get(null);else{a=new Map,Lh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||u,d===u&&a.set(null,f),a.set(_,f),this.count++,u=Ph.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var du={$$typeof:F,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function g2(n,i,a,u,f,d,_,S,U){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function lE(n,i,a,u,f,d,_,S,U,Q,re,se){return n=new g2(n,i,a,_,U,Q,re,se,S),i=1,d===!0&&(i|=24),d=Fn(3,null,null,i),n.current=d,d.stateNode=n,i=Kd(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:i},Wd(d),n}function uE(n){return n?(n=yo,n):yo}function cE(n,i,a,u,f,d){f=uE(f),u.context===null?u.context=f:u.pendingContext=f,u=ms(i),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=ps(n,u,i),a!==null&&(kn(a,n,i),Gl(a,n,i))}function hE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function pp(n,i){hE(n,i),(n=n.alternate)&&hE(n,i)}function fE(n){if(n.tag===13||n.tag===31){var i=_a(n,67108864);i!==null&&kn(i,n,67108864),pp(n,67108864)}}function dE(n){if(n.tag===13||n.tag===31){var i=Xn();i=bl(i);var a=_a(n,i);a!==null&&kn(a,n,i),pp(n,i)}}var Uh=!0;function y2(n,i,a,u){var f=q.T;q.T=null;var d=Y.p;try{Y.p=2,gp(n,i,a,u)}finally{Y.p=d,q.T=f}}function _2(n,i,a,u){var f=q.T;q.T=null;var d=Y.p;try{Y.p=8,gp(n,i,a,u)}finally{Y.p=d,q.T=f}}function gp(n,i,a,u){if(Uh){var f=yp(u);if(f===null)np(n,i,u,jh,a),pE(n,u);else if(E2(f,n,i,a,u))u.stopPropagation();else if(pE(n,u),i&4&&-1<v2.indexOf(n)){for(;f!==null;){var d=ai(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pr(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var U=1<<31-gn(_);S.entanglements[1]|=U,_&=~U}Ur(d),(Ye&6)===0&&(bh=tt()+500,ou(0))}}break;case 31:case 13:S=_a(d,2),S!==null&&kn(S,d,2),wh(),pp(d,2)}if(d=yp(u),d===null&&np(n,i,u,jh,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else np(n,i,u,null,a)}}function yp(n){return n=lo(n),_p(n)}var jh=null;function _p(n){if(jh=null,n=si(n),n!==null){var i=l(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=c(i),n!==null)return n;n=null}else if(a===31){if(n=m(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return jh=n,null}function mE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case lt:return 2;case gt:return 8;case Rn:case qi:return 32;case ln:return 268435456;default:return 32}default:return 32}}var vp=!1,Rs=null,xs=null,Cs=null,mu=new Map,pu=new Map,Is=[],v2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pE(n,i){switch(n){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":mu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(i.pointerId)}}function gu(n,i,a,u,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},i!==null&&(i=ai(i),i!==null&&fE(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function E2(n,i,a,u,f){switch(i){case"focusin":return Rs=gu(Rs,n,i,a,u,f),!0;case"dragenter":return xs=gu(xs,n,i,a,u,f),!0;case"mouseover":return Cs=gu(Cs,n,i,a,u,f),!0;case"pointerover":var d=f.pointerId;return mu.set(d,gu(mu.get(d)||null,n,i,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,pu.set(d,gu(pu.get(d)||null,n,i,a,u,f)),!0}return!1}function gE(n){var i=si(n.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){n.blockedOn=i,bc(n.priority,function(){dE(a)});return}}else if(i===31){if(i=m(a),i!==null){n.blockedOn=i,bc(n.priority,function(){dE(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function zh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=yp(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);oo=u,a.target.dispatchEvent(u),oo=null}else return i=ai(a),i!==null&&fE(i),n.blockedOn=a,!1;i.shift()}return!0}function yE(n,i,a){zh(n)&&a.delete(i)}function b2(){vp=!1,Rs!==null&&zh(Rs)&&(Rs=null),xs!==null&&zh(xs)&&(xs=null),Cs!==null&&zh(Cs)&&(Cs=null),mu.forEach(yE),pu.forEach(yE)}function Bh(n,i){n.blockedOn===i&&(n.blockedOn=null,vp||(vp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,b2)))}var Hh=null;function _E(n){Hh!==n&&(Hh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hh===n&&(Hh=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(_p(u||a)===null)continue;break}var d=ai(a);d!==null&&(n.splice(i,3),i-=3,ym(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Bo(n){function i(U){return Bh(U,n)}Rs!==null&&Bh(Rs,n),xs!==null&&Bh(xs,n),Cs!==null&&Bh(Cs,n),mu.forEach(i),pu.forEach(i);for(var a=0;a<Is.length;a++){var u=Is[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Is.length&&(a=Is[0],a.blockedOn===null);)gE(a),a.blockedOn===null&&Is.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],_=f[Jt]||null;if(typeof d=="function")_||_E(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Jt]||null)S=_.formAction;else if(_p(f)!==null)continue}else S=_.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),_E(a)}}}function vE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Ep(n){this._internalRoot=n}qh.prototype.render=Ep.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,u=Xn();cE(a,u,n,i,null,null)},qh.prototype.unmount=Ep.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;cE(n.current,2,null,n,null,null),wh(),i[Ir]=null}};function qh(n){this._internalRoot=n}qh.prototype.unstable_scheduleHydration=function(n){if(n){var i=ri();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Is.length&&i!==0&&i<Is[a].priority;a++);Is.splice(a,0,n),a===0&&gE(n)}};var EE=e.version;if(EE!=="19.2.4")throw Error(s(527,EE,"19.2.4"));Y.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(i),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var T2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{mr=Fh.inject(T2),Nt=Fh}catch{}}return _u.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,u="",f=xv,d=Cv,_=Iv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=lE(n,1,!1,null,null,a,u,null,f,d,_,vE),n[Ir]=i.current,tp(n),new Ep(i)},_u.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var u=!1,f="",d=xv,_=Cv,S=Iv,U=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(U=a.formState)),i=lE(n,1,!0,i,a??null,u,f,U,d,_,S,vE),i.context=uE(null),a=i.current,u=Xn(),u=bl(u),f=ms(u),f.callback=null,ps(a,f,u),a=u,i.current.lanes=a,$i(i,a),Ur(i),n[Ir]=i.current,tp(n),new qh(i)},_u.version="19.2.4",_u}var NE;function O2(){if(NE)return wp.exports;NE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wp.exports=N2(),wp.exports}var D2=O2();const k2=VT(D2);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var OE="popstate";function M2(r={}){function e(o,l){let{pathname:c="/",search:m="",hash:p=""}=Ka(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Wp("",{pathname:c,search:m,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof l=="string"?l:Vu(l))}function s(o,l){fr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return L2(e,t,s,r)}function pt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P2(){return Math.random().toString(36).substring(2,10)}function DE(r,e){return{usr:r.state,key:r.key,idx:e}}function Wp(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ka(e):e,state:t,key:e&&e.key||s||P2()}}function Vu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ka(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function L2(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){m="POP";let k=v(),P=k==null?null:k-g;g=k,p&&p({action:m,location:D.location,delta:P})}function w(k,P){m="PUSH";let H=Wp(D.location,k,P);t&&t(H,k),g=v()+1;let F=DE(H,g),ne=D.createHref(H);try{c.pushState(F,"",ne)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(ne)}l&&p&&p({action:m,location:D.location,delta:1})}function O(k,P){m="REPLACE";let H=Wp(D.location,k,P);t&&t(H,k),g=v();let F=DE(H,g),ne=D.createHref(H);c.replaceState(F,"",ne),l&&p&&p({action:m,location:D.location,delta:0})}function M(k){return V2(k)}let D={get action(){return m},get location(){return r(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(OE,b),p=k,()=>{o.removeEventListener(OE,b),p=null}},createHref(k){return e(o,k)},createURL:M,encodeLocation(k){let P=M(k);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:w,replace:O,go(k){return c.go(k)}};return D}function V2(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Vu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function jT(r,e,t="/"){return U2(r,e,t,!1)}function U2(r,e,t,s){let o=typeof e=="string"?Ka(e):e,l=Mi(o.pathname||"/",t);if(l==null)return null;let c=zT(r);j2(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=Q2(l);m=Y2(c[p],g,s)}return m}function zT(r,e=[],t=[],s=""){let o=(l,c,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(pt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Oi([s,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(pt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),zT(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:$2(g,l.index),routesMeta:v})};return r.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let m of BT(l.path))o(l,c,m)}),e}function BT(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=BT(s.join("/")),m=[];return m.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&m.push(...c),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function j2(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:K2(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var z2=/^:[\w-]+$/,B2=3,H2=2,q2=1,F2=10,G2=-2,kE=r=>r==="*";function $2(r,e){let t=r.split("/"),s=t.length;return t.some(kE)&&(s+=G2),e&&(s+=H2),t.filter(o=>!kE(o)).reduce((o,l)=>o+(z2.test(l)?B2:l===""?q2:F2),s)}function K2(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Y2(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=yf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=yf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:Oi([l,b.pathname]),pathnameBase:ex(Oi([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Oi([l,b.pathnameBase]))}return c}function yf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=X2(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},w)=>{if(v==="*"){let M=m[w]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const O=m[w];return b&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function X2(r,e=!1,t=!0){fr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Q2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Mi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function W2(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Ka(r):r;return{pathname:t?t.startsWith("/")?t:J2(t,e):e,search:tx(s),hash:nx(o)}}function J2(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function xp(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Z2(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jg(r){let e=Z2(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function zg(r,e,t,s=!1){let o;typeof r=="string"?o=Ka(r):(o={...r},pt(!o.pathname||!o.pathname.includes("?"),xp("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),xp("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),xp("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=W2(o,m),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Oi=r=>r.join("/").replace(/\/\/+/g,"/"),ex=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function rx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var HT=["POST","PUT","PATCH","DELETE"];new Set(HT);var ix=["GET",...HT];new Set(ix);var ll=T.createContext(null);ll.displayName="DataRouter";var Hf=T.createContext(null);Hf.displayName="DataRouterState";T.createContext(!1);var qT=T.createContext({isTransitioning:!1});qT.displayName="ViewTransition";var sx=T.createContext(new Map);sx.displayName="Fetchers";var ax=T.createContext(null);ax.displayName="Await";var Ar=T.createContext(null);Ar.displayName="Navigation";var Ju=T.createContext(null);Ju.displayName="Location";var Wr=T.createContext({outlet:null,matches:[],isDataRoute:!1});Wr.displayName="Route";var Bg=T.createContext(null);Bg.displayName="RouteError";function ox(r,{relative:e}={}){pt(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=T.useContext(Ar),{hash:o,pathname:l,search:c}=Zu(r,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:Oi([t,l])),s.createHref({pathname:m,search:c,hash:o})}function ul(){return T.useContext(Ju)!=null}function Bi(){return pt(ul(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Ju).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(r){T.useContext(Ar).static||T.useLayoutEffect(r)}function qf(){let{isDataRoute:r}=T.useContext(Wr);return r?Ex():lx()}function lx(){pt(ul(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(ll),{basename:e,navigator:t}=T.useContext(Ar),{matches:s}=T.useContext(Wr),{pathname:o}=Bi(),l=JSON.stringify(jg(s)),c=T.useRef(!1);return GT(()=>{c.current=!0}),T.useCallback((p,g={})=>{if(fr(c.current,FT),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=zg(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Oi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,o,r])}T.createContext(null);function Zu(r,{relative:e}={}){let{matches:t}=T.useContext(Wr),{pathname:s}=Bi(),o=JSON.stringify(jg(t));return T.useMemo(()=>zg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ux(r,e){return $T(r,e)}function $T(r,e,t,s){pt(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=T.useContext(Ar),{matches:l}=T.useContext(Wr),c=l[l.length-1],m=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let P=v&&v.path||"";KT(p,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let b=Bi(),w;if(e){let P=typeof e=="string"?Ka(e):e;pt(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),w=P}else w=b;let O=w.pathname||"/",M=O;if(g!=="/"){let P=g.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(P.length).join("/")}let D=jT(r,{pathname:M});fr(v||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),fr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=mx(D&&D.map(P=>Object.assign({},P,{params:Object.assign({},m,P.params),pathname:Oi([g,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:Oi([g,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,t,s);return e&&k?T.createElement(Ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function cx(){let r=vx(),e=rx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:l},"ErrorBoundary")," or"," ",T.createElement("code",{style:l},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:o},t):null,c)}var hx=T.createElement(cx,null),fx=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?T.createElement(Wr.Provider,{value:this.props.routeContext},T.createElement(Bg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dx({routeContext:r,match:e,children:t}){let s=T.useContext(ll);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Wr.Provider,{value:r},t)}function mx(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t?.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);pt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:b}=t,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){c=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let b,w=!1,O=null,M=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||hx,c&&(m<0&&v===0?(KT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,M=null):m===v&&(w=!0,M=g.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,v+1)),k=()=>{let P;return b?P=O:w?P=M:g.route.Component?P=T.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=p,T.createElement(dx,{match:g,routeContext:{outlet:p,matches:D,isDataRoute:t!=null},children:P})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?T.createElement(fx,{location:t.location,revalidation:t.revalidation,component:O,error:b,children:k(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):k()},null)}function Hg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function px(r){let e=T.useContext(ll);return pt(e,Hg(r)),e}function gx(r){let e=T.useContext(Hf);return pt(e,Hg(r)),e}function yx(r){let e=T.useContext(Wr);return pt(e,Hg(r)),e}function qg(r){let e=yx(r),t=e.matches[e.matches.length-1];return pt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function _x(){return qg("useRouteId")}function vx(){let r=T.useContext(Bg),e=gx("useRouteError"),t=qg("useRouteError");return r!==void 0?r:e.errors?.[t]}function Ex(){let{router:r}=px("useNavigate"),e=qg("useNavigate"),t=T.useRef(!1);return GT(()=>{t.current=!0}),T.useCallback(async(o,l={})=>{fr(t.current,FT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var ME={};function KT(r,e,t){!e&&!ME[r]&&(ME[r]=!0,fr(!1,t))}T.memo(bx);function bx({routes:r,future:e,state:t}){return $T(r,void 0,t,e)}function xu({to:r,replace:e,state:t,relative:s}){pt(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(Ar);fr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=T.useContext(Wr),{pathname:c}=Bi(),m=qf(),p=zg(r,jg(l),c,s==="path"),g=JSON.stringify(p);return T.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Qn(r){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Tx({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){pt(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),m=T.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=Ka(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:w="default"}=t,O=T.useMemo(()=>{let M=Mi(p,c);return M==null?null:{location:{pathname:M,search:g,hash:v,state:b,key:w},navigationType:s}},[c,p,g,v,b,w,s]);return fr(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:T.createElement(Ar.Provider,{value:m},T.createElement(Ju.Provider,{children:e,value:O}))}function wx({children:r,location:e}){return ux(Jp(r),e)}function Jp(r,e=[]){let t=[];return T.Children.forEach(r,(s,o)=>{if(!T.isValidElement(s))return;let l=[...e,o];if(s.type===T.Fragment){t.push.apply(t,Jp(s.props.children,l));return}pt(s.type===Qn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Jp(s.props.children,l)),t.push(c)}),t}var nf="get",rf="application/x-www-form-urlencoded";function Ff(r){return r!=null&&typeof r.tagName=="string"}function Sx(r){return Ff(r)&&r.tagName.toLowerCase()==="button"}function Ax(r){return Ff(r)&&r.tagName.toLowerCase()==="form"}function Rx(r){return Ff(r)&&r.tagName.toLowerCase()==="input"}function xx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Cx(r,e){return r.button===0&&(!e||e==="_self")&&!xx(r)}var Gh=null;function Ix(){if(Gh===null)try{new FormData(document.createElement("form"),0),Gh=!1}catch{Gh=!0}return Gh}var Nx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cp(r){return r!=null&&!Nx.has(r)?(fr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rf}"`),null):r}function Ox(r,e){let t,s,o,l,c;if(Ax(r)){let m=r.getAttribute("action");s=m?Mi(m,e):null,t=r.getAttribute("method")||nf,o=Cp(r.getAttribute("enctype"))||rf,l=new FormData(r)}else if(Sx(r)||Rx(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Mi(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||nf,o=Cp(r.getAttribute("formenctype"))||Cp(m.getAttribute("enctype"))||rf,l=new FormData(m,r),!Ix()){let{name:g,type:v,value:b}=r;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,b)}}else{if(Ff(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nf,s=null,o=rf,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Dx(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Mi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function kx(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Px(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await kx(l,t);return c.links?c.links():[]}return[]}));return jx(s.flat(1).filter(Mx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function PE(r,e,t,s,o,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Lx(r,e,{includeHydrateFallback:t}={}){return Vx(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Vx(r){return[...new Set(r)]}function Ux(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function jx(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(Ux(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function YT(){let r=T.useContext(ll);return Fg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zx(){let r=T.useContext(Hf);return Fg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gg=T.createContext(void 0);Gg.displayName="FrameworkContext";function XT(){let r=T.useContext(Gg);return Fg(r,"You must render this element inside a <HydratedRouter> element"),r}function Bx(r,e){let t=T.useContext(Gg),[s,o]=T.useState(!1),[l,c]=T.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,w=T.useRef(null);T.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let D=P=>{P.forEach(H=>{c(H.isIntersecting)})},k=new IntersectionObserver(D,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[r]),T.useEffect(()=>{if(s){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[s]);let O=()=>{o(!0)},M=()=>{o(!1),c(!1)};return t?r!=="intent"?[l,w,{}]:[l,w,{onFocus:vu(m,O),onBlur:vu(p,M),onMouseEnter:vu(g,O),onMouseLeave:vu(v,M),onTouchStart:vu(b,O)}]:[!1,w,{}]}function vu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function Hx({page:r,...e}){let{router:t}=YT(),s=T.useMemo(()=>jT(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?T.createElement(Fx,{page:r,matches:s,...e}):null}function qx(r){let{manifest:e,routeModules:t}=XT(),[s,o]=T.useState([]);return T.useEffect(()=>{let l=!1;return Px(r,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,t]),s}function Fx({page:r,matches:e,...t}){let s=Bi(),{manifest:o,routeModules:l}=XT(),{basename:c}=YT(),{loaderData:m,matches:p}=zx(),g=T.useMemo(()=>PE(r,e,p,o,s,"data"),[r,e,p,o,s]),v=T.useMemo(()=>PE(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=T.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,D=!1;if(e.forEach(P=>{let H=o.routes[P.route.id];!H||!H.hasLoader||(!g.some(F=>F.route.id===P.route.id)&&P.route.id in m&&l[P.route.id]?.shouldRevalidate||H.hasClientLoader?D=!0:M.add(P.route.id))}),M.size===0)return[];let k=Dx(r,c,"data");return D&&M.size>0&&k.searchParams.set("_routes",e.filter(P=>M.has(P.route.id)).map(P=>P.route.id).join(",")),[k.pathname+k.search]},[c,m,s,o,g,e,r,l]),w=T.useMemo(()=>Lx(v,o),[v,o]),O=qx(v);return T.createElement(T.Fragment,null,b.map(M=>T.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),w.map(M=>T.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),O.map(({key:M,link:D})=>T.createElement("link",{key:M,...D})))}function Gx(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QT&&(window.__reactRouterVersion="7.7.0")}catch{}function $x({basename:r,children:e,window:t}){let s=T.useRef();s.current==null&&(s.current=M2({window:t,v5Compat:!0}));let o=s.current,[l,c]=T.useState({action:o.action,location:o.location}),m=T.useCallback(p=>{T.startTransition(()=>c(p))},[c]);return T.useLayoutEffect(()=>o.listen(m),[o,m]),T.createElement(Tx,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var WT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ci=T.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:m,target:p,to:g,preventScrollReset:v,viewTransition:b,...w},O){let{basename:M}=T.useContext(Ar),D=typeof g=="string"&&WT.test(g),k,P=!1;if(typeof g=="string"&&D&&(k=g,QT))try{let I=new URL(window.location.href),L=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=Mi(L.pathname,M);L.origin===I.origin&&V!=null?g=V+L.search+L.hash:P=!0}catch{fr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=ox(g,{relative:o}),[F,ne,$]=Bx(s,w),te=Qx(g,{replace:c,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:b});function R(I){e&&e(I),I.defaultPrevented||te(I)}let A=T.createElement("a",{...w,...$,href:k||H,onClick:P||l?e:R,ref:Gx(O,ne),target:p,"data-discover":!D&&t==="render"?"true":void 0});return F&&!D?T.createElement(T.Fragment,null,A,T.createElement(Hx,{page:H})):A});Ci.displayName="Link";var Kx=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:m,children:p,...g},v){let b=Zu(c,{relative:g.relative}),w=Bi(),O=T.useContext(Hf),{navigator:M,basename:D}=T.useContext(Ar),k=O!=null&&tC(b)&&m===!0,P=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,H=w.pathname,F=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(H=H.toLowerCase(),F=F?F.toLowerCase():null,P=P.toLowerCase()),F&&D&&(F=Mi(F,D)||F);const ne=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let $=H===P||!o&&H.startsWith(P)&&H.charAt(ne)==="/",te=F!=null&&(F===P||!o&&F.startsWith(P)&&F.charAt(P.length)==="/"),R={isActive:$,isPending:te,isTransitioning:k},A=$?e:void 0,I;typeof s=="function"?I=s(R):I=[s,$?"active":null,te?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(R):l;return T.createElement(Ci,{...g,"aria-current":A,className:I,ref:v,style:L,to:c,viewTransition:m},typeof p=="function"?p(R):p)});Kx.displayName="NavLink";var Yx=T.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=nf,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...w},O)=>{let M=Zx(),D=eC(m,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",P=typeof m=="string"&&WT.test(m),H=F=>{if(p&&p(F),F.defaultPrevented)return;F.preventDefault();let ne=F.nativeEvent.submitter,$=ne?.getAttribute("formmethod")||c;M(ne||F.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:o,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return T.createElement("form",{ref:O,method:k,action:D,onSubmit:s?p:H,...w,"data-discover":!P&&r==="render"?"true":void 0})});Yx.displayName="Form";function Xx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JT(r){let e=T.useContext(ll);return pt(e,Xx(r)),e}function Qx(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let m=qf(),p=Bi(),g=Zu(r,{relative:l});return T.useCallback(v=>{if(Cx(v,e)){v.preventDefault();let b=t!==void 0?t:Vu(p)===Vu(g);m(r,{replace:b,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,m,g,t,s,e,r,o,l,c])}var Wx=0,Jx=()=>`__${String(++Wx)}__`;function Zx(){let{router:r}=JT("useSubmit"),{basename:e}=T.useContext(Ar),t=_x();return T.useCallback(async(s,o={})=>{let{action:l,method:c,encType:m,formData:p,body:g}=Ox(s,e);if(o.navigate===!1){let v=o.fetcherKey||Jx();await r.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function eC(r,{relative:e}={}){let{basename:t}=T.useContext(Ar),s=T.useContext(Wr);pt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Zu(r||".",{relative:e})},c=Bi();if(r==null){l.search=c.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Oi([t,l.pathname])),Vu(l)}function tC(r,e={}){let t=T.useContext(qT);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JT("useViewTransitionState"),o=Zu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Mi(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Mi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return yf(o.pathname,c)!=null||yf(o.pathname,l)!=null}var nC=UT();const rC=()=>{};var LE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},iC=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],c=r[t++],m=r[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},e1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,m=c?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=l>>2,b=(l&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,c||(w=64)),s.push(t[v],t[b],t[w],t[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ZT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):iC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||m==null||g==null||b==null)throw new sC;const w=l<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aC=function(r){const e=ZT(r);return e1.encodeByteArray(e,!0)},_f=function(r){return aC(r).replace(/\./g,"")},t1=function(r){try{return e1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=()=>oC().__FIREBASE_DEFAULTS__,uC=()=>{if(typeof process>"u"||typeof LE>"u")return;const r=LE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&t1(r[1]);return e&&JSON.parse(e)},Gf=()=>{try{return rC()||lC()||uC()||cC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},n1=r=>Gf()?.emulatorHosts?.[r],r1=r=>{const e=n1(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},i1=()=>Gf()?.config,s1=r=>Gf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $g(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_f(JSON.stringify(t)),_f(JSON.stringify(c)),""].join(".")}const Cu={};function fC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Cu))Cu[e]?r.emulator.push(e):r.prod.push(e);return r}function dC(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let VE=!1;function Kg(r,e){if(typeof window>"u"||typeof document>"u"||!Js(window.location.host)||Cu[r]===e||Cu[r]||VE)return;Cu[r]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=fC().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{VE=!0,c()},w}function v(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=dC(s),O=t("text"),M=document.getElementById(O)||document.createElement("span"),D=t("learnmore"),k=document.getElementById(D)||document.createElement("a"),P=t("preprendIcon"),H=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;m(F),v(k,D);const ne=g();p(H,P),F.append(H,M,k,ne),document.body.appendChild(F)}l?(M.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function pC(){const r=Gf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vC(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function EC(){return!pC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bC(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="FirebaseError";class Jr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=wC,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ec.prototype.create)}}class ec{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?SC(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Jr(o,m,s)}}function SC(r,e){return r.replace(AC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const AC=/\{\$([^}]+)}/g;function RC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ja(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],c=e[o];if(UE(l)&&UE(c)){if(!ja(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function UE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Tu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function xC(r,e){const t=new CC(r,e);return t.subscribe.bind(t)}class CC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");IC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Ip),o.error===void 0&&(o.error=Ip),o.complete===void 0&&(o.complete=Ip);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new hC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DC(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OC(r){return r===Da?void 0:r}function DC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new NC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const MC={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},PC=je.INFO,LC={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},VC=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=LC[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=PC,this._logHandler=VC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const UC=(r,e)=>e.some(t=>r instanceof t);let jE,zE;function jC(){return jE||(jE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zC(){return zE||(zE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o1=new WeakMap,Zp=new WeakMap,l1=new WeakMap,Np=new WeakMap,Xg=new WeakMap;function BC(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(zs(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&o1.set(t,r)}).catch(()=>{}),Xg.set(e,r),e}function HC(r){if(Zp.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Zp.set(r,e)}let eg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Zp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||l1.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function qC(r){eg=r(eg)}function FC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Op(this),e,...t);return l1.set(s,e.sort?e.sort():[e]),zs(s)}:zC().includes(r)?function(...e){return r.apply(Op(this),e),zs(o1.get(this))}:function(...e){return zs(r.apply(Op(this),e))}}function GC(r){return typeof r=="function"?FC(r):(r instanceof IDBTransaction&&HC(r),UC(r,jC())?new Proxy(r,eg):r)}function zs(r){if(r instanceof IDBRequest)return BC(r);if(Np.has(r))return Np.get(r);const e=GC(r);return e!==r&&(Np.set(r,e),Xg.set(e,r)),e}const Op=r=>Xg.get(r);function $C(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),m=zs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(zs(c.result),p.oldVersion,p.newVersion,zs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const KC=["get","getKey","getAll","getAllKeys","count"],YC=["put","add","delete","clear"],Dp=new Map;function BE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Dp.get(e))return Dp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=YC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||KC.includes(t)))return;const l=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Dp.set(e,l),l}qC(r=>({...r,get:(e,t,s)=>BE(e,t)||r.get(e,t,s),has:(e,t)=>!!BE(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function QC(r){return r.getComponent()?.type==="VERSION"}const tg="@firebase/app",HE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Yg("@firebase/app"),WC="@firebase/app-compat",JC="@firebase/analytics-compat",ZC="@firebase/analytics",eI="@firebase/app-check-compat",tI="@firebase/app-check",nI="@firebase/auth",rI="@firebase/auth-compat",iI="@firebase/database",sI="@firebase/data-connect",aI="@firebase/database-compat",oI="@firebase/functions",lI="@firebase/functions-compat",uI="@firebase/installations",cI="@firebase/installations-compat",hI="@firebase/messaging",fI="@firebase/messaging-compat",dI="@firebase/performance",mI="@firebase/performance-compat",pI="@firebase/remote-config",gI="@firebase/remote-config-compat",yI="@firebase/storage",_I="@firebase/storage-compat",vI="@firebase/firestore",EI="@firebase/ai",bI="@firebase/firestore-compat",TI="firebase",wI="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="[DEFAULT]",SI={[tg]:"fire-core",[WC]:"fire-core-compat",[ZC]:"fire-analytics",[JC]:"fire-analytics-compat",[tI]:"fire-app-check",[eI]:"fire-app-check-compat",[nI]:"fire-auth",[rI]:"fire-auth-compat",[iI]:"fire-rtdb",[sI]:"fire-data-connect",[aI]:"fire-rtdb-compat",[oI]:"fire-fn",[lI]:"fire-fn-compat",[uI]:"fire-iid",[cI]:"fire-iid-compat",[hI]:"fire-fcm",[fI]:"fire-fcm-compat",[dI]:"fire-perf",[mI]:"fire-perf-compat",[pI]:"fire-rc",[gI]:"fire-rc-compat",[yI]:"fire-gcs",[_I]:"fire-gcs-compat",[vI]:"fire-fst",[bI]:"fire-fst-compat",[EI]:"fire-vertex","fire-js":"fire-js",[TI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new Map,AI=new Map,rg=new Map;function qE(r,e){try{r.container.addComponent(e)}catch(t){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function za(r){const e=r.name;if(rg.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;rg.set(e,r);for(const t of vf.values())qE(t,r);for(const t of AI.values())qE(t,r);return!0}function $f(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ur(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new ec("app","Firebase",RI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=wI;function u1(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:ng,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Bs.create("bad-app-name",{appName:String(o)});if(t||(t=i1()),!t)throw Bs.create("no-options");const l=vf.get(o);if(l){if(ja(t,l.options)&&ja(s,l.config))return l;throw Bs.create("duplicate-app",{appName:o})}const c=new kC(o);for(const p of rg.values())c.addComponent(p);const m=new xI(t,s,c);return vf.set(o,m),m}function Qg(r=ng){const e=vf.get(r);if(!e&&r===ng&&i1())return u1();if(!e)throw Bs.create("no-app",{appName:r});return e}function Br(r,e,t){let s=SI[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(c.join(" "));return}za(new Gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebase-heartbeat-database",II=1,Uu="firebase-heartbeat-store";let kp=null;function c1(){return kp||(kp=$C(CI,II,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Bs.create("idb-open",{originalErrorMessage:r.message})})),kp}async function NI(r){try{const t=(await c1()).transaction(Uu),s=await t.objectStore(Uu).get(h1(r));return await t.done,s}catch(e){if(e instanceof Jr)Pi.warn(e.message);else{const t=Bs.create("idb-get",{originalErrorMessage:e?.message});Pi.warn(t.message)}}}async function FE(r,e){try{const s=(await c1()).transaction(Uu,"readwrite");await s.objectStore(Uu).put(e,h1(r)),await s.done}catch(t){if(t instanceof Jr)Pi.warn(t.message);else{const s=Bs.create("idb-set",{originalErrorMessage:t?.message});Pi.warn(s.message)}}}function h1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=1024,DI=30;class kI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=GE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>DI){const o=LI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=GE(),{heartbeatsToSend:t,unsentEntries:s}=MI(this._heartbeatsCache.heartbeats),o=_f(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pi.warn(e),""}}}function GE(){return new Date().toISOString().substring(0,10)}function MI(r,e=OI){const t=[];let s=r.slice();for(const o of r){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),$E(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),$E(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class PI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bC()?TC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await NI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return FE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return FE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $E(r){return _f(JSON.stringify({version:2,heartbeats:r})).length}function LI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r){za(new Gs("platform-logger",e=>new XC(e),"PRIVATE")),za(new Gs("heartbeat",e=>new kI(e),"PRIVATE")),Br(tg,HE,r),Br(tg,HE,"esm2020"),Br("fire-js","")}VI("");function f1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UI=f1,d1=new ec("auth","Firebase",f1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new Yg("@firebase/auth");function jI(r,...e){Ef.logLevel<=je.WARN&&Ef.warn(`Auth (${Ya}): ${r}`,...e)}function sf(r,...e){Ef.logLevel<=je.ERROR&&Ef.error(`Auth (${Ya}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,...e){throw Wg(r,...e)}function Hr(r,...e){return Wg(r,...e)}function m1(r,e,t){const s={...UI(),[e]:t};return new ec("auth","Firebase",s).create(e,{appName:r.name})}function Hs(r){return m1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wg(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return d1.create(r,...e)}function Se(r,e,...t){if(!r)throw Wg(e,...t)}function Ii(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sf(e),new Error(e)}function Li(r,e){r||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(){return typeof self<"u"&&self.location?.href||""}function zI(){return KE()==="http:"||KE()==="https:"}function KE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zI()||yC()||"connection"in navigator)?navigator.onLine:!0}function HI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=mC()||_C()}get(){return BI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(r,e){Li(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GI=new nc(3e4,6e4);function Xa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Zs(r,e,t,s,o={}){return g1(r,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=tc({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...l};return gC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Js(r.emulatorConfig.host)&&(g.credentials="include"),p1.fetch()(await y1(r,r.config.apiHost,t,m),g)})}async function g1(r,e,t){r._canInitEmulator=!1;const s={...qI,...e};try{const o=new KI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw $h(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $h(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw $h(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw $h(r,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw m1(r,v,g);Sr(r,v)}}catch(o){if(o instanceof Jr)throw o;Sr(r,"network-request-failed",{message:String(o)})}}async function Kf(r,e,t,s,o={}){const l=await Zs(r,e,t,s,o);return"mfaPendingCredential"in l&&Sr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function y1(r,e,t,s){const o=`${e}${t}?${s}`,l=r,c=l.config.emulator?Jg(r.config,o):`${r.config.apiScheme}://${o}`;return FI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function $I(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Hr(this.auth,"network-request-failed")),GI.get())})}}function $h(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Hr(r,e,s);return o.customData._tokenResponse=t,o}function YE(r){return r!==void 0&&r.enterprise!==void 0}class YI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $I(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XI(r,e){return Zs(r,"GET","/v2/recaptchaConfig",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,e){return Zs(r,"POST","/v1/accounts:delete",e)}async function bf(r,e){return Zs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WI(r,e=!1){const t=Ht(r),s=await t.getIdToken(e),o=Zg(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:Iu(Mp(o.auth_time)),issuedAtTime:Iu(Mp(o.iat)),expirationTime:Iu(Mp(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Mp(r){return Number(r)*1e3}function Zg(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return sf("JWT malformed, contained fewer than 3 sections"),null;try{const o=t1(t);return o?JSON.parse(o):(sf("Failed to decode base64 JWT payload"),null)}catch(o){return sf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function XE(r){const e=Zg(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Jr&&JI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function JI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(r){const e=r.auth,t=await r.getIdToken(),s=await ju(r,bf(e,{idToken:t}));Se(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?_1(o.providerUserInfo):[],c=tN(r.providerData,l),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function eN(r){const e=Ht(r);await Tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function _1(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(r,e){const t=await g1(r,{},async()=>{const s=tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=await y1(r,o,"/v1/token",`key=${l}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Js(r.emulatorConfig.host)&&(p.credentials="include"),p1.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rN(r,e){return Zs(r,"POST","/v2/accounts:revokeToken",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=XE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await nN(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new Xo;return s&&(Se(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Tr{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new ZI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ju(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return WI(this,e)}reload(){return eN(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Tf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await ju(this,QI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:O,providerData:M,stsTokenManager:D}=t;Se(b&&D,e,"internal-error");const k=Xo.fromJSON(this.name,D);Se(typeof b=="string",e,"internal-error"),Os(s,e.name),Os(o,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof O=="boolean",e,"internal-error"),Os(l,e.name),Os(c,e.name),Os(m,e.name),Os(p,e.name),Os(g,e.name),Os(v,e.name);const P=new Tr({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:c,phoneNumber:l,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:v});return M&&Array.isArray(M)&&(P.providerData=M.map(H=>({...H}))),p&&(P._redirectEventId=p),P}static async _fromIdTokenResponse(e,t,s=!1){const o=new Xo;o.updateFromServerResponse(t);const l=new Tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Tf(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?_1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,m=new Xo;m.updateFromIdToken(s);const p=new Tr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new sg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;function Ni(r){Li(r instanceof Function,"Expected a class definition");let e=QE.get(r);return e?(Li(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,QE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}v1.type="NONE";const WE=v1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(r,e,t){return`firebase:${r}:${e}:${t}`}class Qo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=af(this.userKey,o.apiKey,l),this.fullPersistenceKey=af("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await bf(this.auth,{idToken:e}).catch(()=>{});return t?Tr._fromGetAccountInfoResponse(this.auth,t,e):null}return Tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Qo(Ni(WE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Ni(WE);const c=af(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const w=await bf(e,{idToken:v}).catch(()=>{});if(!w)break;b=await Tr._fromGetAccountInfoResponse(e,w,v)}else b=Tr._fromJSON(e,v);g!==l&&(m=b),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Qo(l,e,s):(l=p[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Qo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A1(e))return"Blackberry";if(R1(e))return"Webos";if(b1(e))return"Safari";if((e.includes("chrome/")||T1(e))&&!e.includes("edge/"))return"Chrome";if(S1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function E1(r=pn()){return/firefox\//i.test(r)}function b1(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T1(r=pn()){return/crios\//i.test(r)}function w1(r=pn()){return/iemobile/i.test(r)}function S1(r=pn()){return/android/i.test(r)}function A1(r=pn()){return/blackberry/i.test(r)}function R1(r=pn()){return/webos/i.test(r)}function ey(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iN(r=pn()){return ey(r)&&!!window.navigator?.standalone}function sN(){return vC()&&document.documentMode===10}function x1(r=pn()){return ey(r)||S1(r)||R1(r)||A1(r)||/windows phone/i.test(r)||w1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(r,e=[]){let t;switch(r){case"Browser":t=JE(pn());break;case"Worker":t=`${JE(pn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,m)=>{try{const p=e(l);c(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(r,e={}){return Zs(r,"GET","/v2/passwordPolicy",Xa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=6;class uN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??lN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZE(this),this.idTokenSubscription=new ZE(this),this.beforeStateQueue=new aN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bf(this,{idToken:e}),s=await Tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ur(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(Hs(this));const t=e?Ht(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oN(this),t=new uN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ec("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await rN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cl(r){return Ht(r)}class ZE{constructor(e){this.auth=e,this.observer=null,this.addObserver=xC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hN(r){Yf=r}function I1(r){return Yf.loadJS(r)}function fN(){return Yf.recaptchaEnterpriseScript}function dN(){return Yf.gapiScript}function mN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class pN{constructor(){this.enterprise=new gN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yN="recaptcha-enterprise",N1="NO_RECAPTCHA";class _N{constructor(e){this.type=yN,this.auth=cl(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{XI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new YI(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(l,c,m){const p=window.grecaptcha;YE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(N1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pN().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(m=>{if(!t&&YE(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fN();p.length!==0&&(p+=m),I1(p).then(()=>{o(m,l,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function eb(r,e,t,s=!1,o=!1){const l=new _N(r);let c;if(o)c=N1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function tb(r,e,t,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await eb(r,e,t,t==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await eb(r,e,t,t==="getOobCode");return s(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(r,e){const t=$f(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ja(l,e??{}))return o;Sr(o,"already-initialized")}return t.initialize({options:e})}function EN(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ni);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function bN(r,e,t){const s=cl(r);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=O1(e),{host:c,port:m}=TN(e),p=m===null?"":`:${m}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ja(g,s.config.emulator)&&ja(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Js(c)?($g(`${l}//${c}${p}`),Kg("Auth",!0)):wN()}function O1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function TN(r){const e=O1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:nb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:nb(c)}}}function nb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function wN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,t){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function SN(r,e){return Zs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(r,e){return Kf(r,"POST","/v1/accounts:signInWithPassword",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(r,e){return Kf(r,"POST","/v1/accounts:signInWithEmailLink",Xa(r,e))}async function xN(r,e){return Kf(r,"POST","/v1/accounts:signInWithEmailLink",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends ty{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new zu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new zu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tb(e,t,"signInWithPassword",AN);case"emailLink":return RN(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tb(e,s,"signUpPassword",SN);case"emailLink":return xN(e,{idToken:t,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(r,e){return Kf(r,"POST","/v1/accounts:signInWithIdp",Xa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="http://localhost";class Ba extends ty{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const c=new Ba(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wo(e,t)}buildRequest(){const e={requestUri:CN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NN(r){const e=bu(Tu(r)).link,t=e?bu(Tu(e)).deep_link_id:null,s=bu(Tu(r)).deep_link_id;return(s?bu(Tu(s)).link:null)||s||t||e||r}class ny{constructor(e){const t=bu(Tu(e)),s=t.apiKey??null,o=t.oobCode??null,l=IN(t.mode??null);Se(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=NN(e);try{return new ny(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,t){return zu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ny.parseLink(t);return Se(s,"argument-error"),zu._fromEmailAndCode(e,s.code,s.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends D1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends rc{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends rc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ba._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ks.credential(t,s)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends rc{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends rc{constructor(){super("twitter.com")}static credential(e,t){return Ba._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ps.credential(t,s)}catch{return null}}}Ps.TWITTER_SIGN_IN_METHOD="twitter.com";Ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Tr._fromIdTokenResponse(e,s,o),c=rb(s);return new Zo({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=rb(s);return new Zo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function rb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends Jr{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new wf(e,t,s,o)}}function k1(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wf._fromErrorAndOperation(r,l,e,s):l})}async function ON(r,e,t=!1){const s=await ju(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Zo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(r,e,t=!1){const{auth:s}=r;if(ur(s.app))return Promise.reject(Hs(s));const o="reauthenticate";try{const l=await ju(r,k1(s,o,e,r),t);Se(l.idToken,s,"internal-error");const c=Zg(l.idToken);Se(c,s,"internal-error");const{sub:m}=c;return Se(r.uid===m,s,"user-mismatch"),Zo._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Sr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(r,e,t=!1){if(ur(r.app))return Promise.reject(Hs(r));const s="signIn",o=await k1(r,s,e),l=await Zo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function kN(r,e){return M1(cl(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(r){const e=cl(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function PN(r,e,t){return ur(r.app)?Promise.reject(Hs(r)):kN(Ht(r),hl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&MN(r),s})}function LN(r,e,t,s){return Ht(r).onIdTokenChanged(e,t,s)}function VN(r,e,t){return Ht(r).beforeAuthStateChanged(e,t)}function ic(r,e,t,s){return Ht(r).onAuthStateChanged(e,t,s)}function UN(r){return Ht(r).signOut()}const Sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sf,"1"),this.storage.removeItem(Sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=1e3,zN=10;class L1 extends P1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);sN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},jN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}L1.type="LOCAL";const BN=L1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends P1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}V1.type="SESSION";const U1=V1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Xf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,l)),p=await HN(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,p)=>{const g=ry("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(w.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function FN(r){qr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function GN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $N(){return navigator?.serviceWorker?.controller||null}function KN(){return j1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebaseLocalStorageDb",YN=1,Af="firebaseLocalStorage",B1="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qf(r,e){return r.transaction([Af],e?"readwrite":"readonly").objectStore(Af)}function XN(){const r=indexedDB.deleteDatabase(z1);return new sc(r).toPromise()}function ag(){const r=indexedDB.open(z1,YN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Af,{keyPath:B1})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Af)?e(s):(s.close(),await XN(),e(await ag()))})})}async function ib(r,e,t){const s=Qf(r,!0).put({[B1]:e,value:t});return new sc(s).toPromise()}async function QN(r,e){const t=Qf(r,!1).get(e),s=await new sc(t).toPromise();return s===void 0?null:s.value}function sb(r,e){const t=Qf(r,!0).delete(e);return new sc(t).toPromise()}const WN=800,JN=3;class H1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ag(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>JN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xf._getInstance(KN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GN(),!this.activeServiceWorker)return;this.sender=new qN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ag();return await ib(e,Sf,"1"),await sb(e,Sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ib(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>QN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Qf(o,!1).getAll();return new sc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H1.type="LOCAL";const ZN=H1;new nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(r,e){return e?Ni(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy extends ty{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function t4(r){return M1(r.auth,new iy(r),r.bypassAuthState)}function n4(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),DN(t,new iy(r),r.bypassAuthState)}async function r4(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),ON(t,new iy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t4;case"linkViaPopup":case"linkViaRedirect":return r4;case"reauthViaPopup":case"reauthViaRedirect":return n4;default:Sr(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new nc(2e3,1e4);class Yo extends q1{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i4.get())};e()}}Yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="pendingRedirect",of=new Map;class a4 extends q1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=of.get(this.auth._key());if(!e){try{const s=await o4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}of.set(this.auth._key(),e)}return this.bypassAuthState||of.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o4(r,e){const t=c4(e),s=u4(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function l4(r,e){of.set(r._key(),e)}function u4(r){return Ni(r._redirectPersistence)}function c4(r){return af(s4,r.config.apiKey,r.name)}async function h4(r,e,t=!1){if(ur(r.app))return Promise.reject(Hs(r));const s=cl(r),o=e4(s,e),c=await new a4(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=10*60*1e3;class d4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!F1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Hr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f4&&this.cachedEventUids.clear(),this.cachedEventUids.has(ab(e))}saveEventToCache(e){this.cachedEventUids.add(ab(e)),this.lastProcessedEventTime=Date.now()}}function ab(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function F1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function m4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(r,e={}){return Zs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y4=/^https?/;async function _4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await p4(r);for(const t of e)try{if(v4(t))return}catch{}Sr(r,"unauthorized-domain")}function v4(r){const e=ig(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!y4.test(t))return!1;if(g4.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new nc(3e4,6e4);function ob(){const r=qr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function b4(r){return new Promise((e,t)=>{function s(){ob(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ob(),t(Hr(r,"network-request-failed"))},timeout:E4.get()})}if(qr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qr().gapi?.load)s();else{const o=mN("iframefcb");return qr()[o]=()=>{gapi.load?s():t(Hr(r,"network-request-failed"))},I1(`${dN()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw lf=null,e})}let lf=null;function T4(r){return lf=lf||b4(r),lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=new nc(5e3,15e3),S4="__/auth/iframe",A4="emulator/auth/iframe",R4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C4(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Jg(e,A4):`https://${r.config.authDomain}/${S4}`,s={apiKey:e.apiKey,appName:r.name,v:Ya},o=x4.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${tc(s).slice(1)}`}async function I4(r){const e=await T4(r),t=qr().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:C4(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R4,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Hr(r,"network-request-failed"),m=qr().setTimeout(()=>{l(c)},w4.get());function p(){qr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O4=500,D4=600,k4="_blank",M4="http://localhost";class lb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P4(r,e,t,s=O4,o=D4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...N4,width:s.toString(),height:o.toString(),top:l,left:c},g=pn().toLowerCase();t&&(m=T1(g)?k4:t),E1(g)&&(e=e||M4,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[O,M])=>`${w}${O}=${M},`,"");if(iN(g)&&m!=="_self")return L4(e||"",m),new lb(null);const b=window.open(e||"",m,v);Se(b,r,"popup-blocked");try{b.focus()}catch{}return new lb(b)}function L4(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="__/auth/handler",U4="emulator/auth/handler",j4=encodeURIComponent("fac");async function ub(r,e,t,s,o,l){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Ya,eventId:o};if(e instanceof D1){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",RC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof rc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${j4}=${encodeURIComponent(p)}`:"";return`${z4(r)}?${tc(m).slice(1)}${g}`}function z4({config:r}){return r.emulator?Jg(r,U4):`https://${r.authDomain}/${V4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class B4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U1,this._completeRedirectFn=h4,this._overrideRedirectResult=l4}async _openPopup(e,t,s,o){Li(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ub(e,t,s,ig(),o);return P4(e,l,ry())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await ub(e,t,s,ig(),o);return FN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Li(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await I4(e),s=new d4(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pp,{type:Pp},o=>{const l=o?.[0]?.[Pp];l!==void 0&&t(!!l),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return x1()||b1()||ey()}}const H4=B4;var cb="@firebase/auth",hb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G4(r){za(new Gs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C1(r)},g=new cN(s,o,l,p);return EN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),za(new Gs("auth-internal",e=>{const t=cl(e.getProvider("auth").getImmediate());return(s=>new q4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(cb,hb,F4(r)),Br(cb,hb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=5*60,K4=s1("authIdTokenMaxAge")||$4;let fb=null;const Y4=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>K4)return;const o=t?.token;fb!==o&&(fb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function X4(r=Qg()){const e=$f(r,"auth");if(e.isInitialized())return e.getImmediate();const t=vN(r,{popupRedirectResolver:H4,persistence:[ZN,BN,U1]}),s=s1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=Y4(l.toString());VN(t,c,()=>c(t.currentUser)),LN(t,m=>c(m))}}const o=n1("auth");return o&&bN(t,`http://${o}`),t}function Q4(){return document.getElementsByTagName("head")?.[0]??document}hN({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=Hr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",Q4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G4("Browser");var W4="firebase",J4="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(W4,J4,"app");var db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qs,G1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function I(){}I.prototype=A.prototype,R.D=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.C=function(L,V,j){for(var N=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)N[_e-2]=arguments[_e];return A.prototype[V].apply(L,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,I){I||(I=0);var L=Array(16);if(typeof A=="string")for(var V=0;16>V;++V)L[V]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(V=0;16>V;++V)L[V]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],V=R.g[2];var j=R.g[3],N=A+(j^I&(V^j))+L[0]+3614090360&4294967295;A=I+(N<<7&4294967295|N>>>25),N=j+(V^A&(I^V))+L[1]+3905402710&4294967295,j=A+(N<<12&4294967295|N>>>20),N=V+(I^j&(A^I))+L[2]+606105819&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(A^V&(j^A))+L[3]+3250441966&4294967295,I=V+(N<<22&4294967295|N>>>10),N=A+(j^I&(V^j))+L[4]+4118548399&4294967295,A=I+(N<<7&4294967295|N>>>25),N=j+(V^A&(I^V))+L[5]+1200080426&4294967295,j=A+(N<<12&4294967295|N>>>20),N=V+(I^j&(A^I))+L[6]+2821735955&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(A^V&(j^A))+L[7]+4249261313&4294967295,I=V+(N<<22&4294967295|N>>>10),N=A+(j^I&(V^j))+L[8]+1770035416&4294967295,A=I+(N<<7&4294967295|N>>>25),N=j+(V^A&(I^V))+L[9]+2336552879&4294967295,j=A+(N<<12&4294967295|N>>>20),N=V+(I^j&(A^I))+L[10]+4294925233&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(A^V&(j^A))+L[11]+2304563134&4294967295,I=V+(N<<22&4294967295|N>>>10),N=A+(j^I&(V^j))+L[12]+1804603682&4294967295,A=I+(N<<7&4294967295|N>>>25),N=j+(V^A&(I^V))+L[13]+4254626195&4294967295,j=A+(N<<12&4294967295|N>>>20),N=V+(I^j&(A^I))+L[14]+2792965006&4294967295,V=j+(N<<17&4294967295|N>>>15),N=I+(A^V&(j^A))+L[15]+1236535329&4294967295,I=V+(N<<22&4294967295|N>>>10),N=A+(V^j&(I^V))+L[1]+4129170786&4294967295,A=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(A^I))+L[6]+3225465664&4294967295,j=A+(N<<9&4294967295|N>>>23),N=V+(A^I&(j^A))+L[11]+643717713&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^A&(V^j))+L[0]+3921069994&4294967295,I=V+(N<<20&4294967295|N>>>12),N=A+(V^j&(I^V))+L[5]+3593408605&4294967295,A=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(A^I))+L[10]+38016083&4294967295,j=A+(N<<9&4294967295|N>>>23),N=V+(A^I&(j^A))+L[15]+3634488961&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^A&(V^j))+L[4]+3889429448&4294967295,I=V+(N<<20&4294967295|N>>>12),N=A+(V^j&(I^V))+L[9]+568446438&4294967295,A=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(A^I))+L[14]+3275163606&4294967295,j=A+(N<<9&4294967295|N>>>23),N=V+(A^I&(j^A))+L[3]+4107603335&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^A&(V^j))+L[8]+1163531501&4294967295,I=V+(N<<20&4294967295|N>>>12),N=A+(V^j&(I^V))+L[13]+2850285829&4294967295,A=I+(N<<5&4294967295|N>>>27),N=j+(I^V&(A^I))+L[2]+4243563512&4294967295,j=A+(N<<9&4294967295|N>>>23),N=V+(A^I&(j^A))+L[7]+1735328473&4294967295,V=j+(N<<14&4294967295|N>>>18),N=I+(j^A&(V^j))+L[12]+2368359562&4294967295,I=V+(N<<20&4294967295|N>>>12),N=A+(I^V^j)+L[5]+4294588738&4294967295,A=I+(N<<4&4294967295|N>>>28),N=j+(A^I^V)+L[8]+2272392833&4294967295,j=A+(N<<11&4294967295|N>>>21),N=V+(j^A^I)+L[11]+1839030562&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^A)+L[14]+4259657740&4294967295,I=V+(N<<23&4294967295|N>>>9),N=A+(I^V^j)+L[1]+2763975236&4294967295,A=I+(N<<4&4294967295|N>>>28),N=j+(A^I^V)+L[4]+1272893353&4294967295,j=A+(N<<11&4294967295|N>>>21),N=V+(j^A^I)+L[7]+4139469664&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^A)+L[10]+3200236656&4294967295,I=V+(N<<23&4294967295|N>>>9),N=A+(I^V^j)+L[13]+681279174&4294967295,A=I+(N<<4&4294967295|N>>>28),N=j+(A^I^V)+L[0]+3936430074&4294967295,j=A+(N<<11&4294967295|N>>>21),N=V+(j^A^I)+L[3]+3572445317&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^A)+L[6]+76029189&4294967295,I=V+(N<<23&4294967295|N>>>9),N=A+(I^V^j)+L[9]+3654602809&4294967295,A=I+(N<<4&4294967295|N>>>28),N=j+(A^I^V)+L[12]+3873151461&4294967295,j=A+(N<<11&4294967295|N>>>21),N=V+(j^A^I)+L[15]+530742520&4294967295,V=j+(N<<16&4294967295|N>>>16),N=I+(V^j^A)+L[2]+3299628645&4294967295,I=V+(N<<23&4294967295|N>>>9),N=A+(V^(I|~j))+L[0]+4096336452&4294967295,A=I+(N<<6&4294967295|N>>>26),N=j+(I^(A|~V))+L[7]+1126891415&4294967295,j=A+(N<<10&4294967295|N>>>22),N=V+(A^(j|~I))+L[14]+2878612391&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~A))+L[5]+4237533241&4294967295,I=V+(N<<21&4294967295|N>>>11),N=A+(V^(I|~j))+L[12]+1700485571&4294967295,A=I+(N<<6&4294967295|N>>>26),N=j+(I^(A|~V))+L[3]+2399980690&4294967295,j=A+(N<<10&4294967295|N>>>22),N=V+(A^(j|~I))+L[10]+4293915773&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~A))+L[1]+2240044497&4294967295,I=V+(N<<21&4294967295|N>>>11),N=A+(V^(I|~j))+L[8]+1873313359&4294967295,A=I+(N<<6&4294967295|N>>>26),N=j+(I^(A|~V))+L[15]+4264355552&4294967295,j=A+(N<<10&4294967295|N>>>22),N=V+(A^(j|~I))+L[6]+2734768916&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~A))+L[13]+1309151649&4294967295,I=V+(N<<21&4294967295|N>>>11),N=A+(V^(I|~j))+L[4]+4149444226&4294967295,A=I+(N<<6&4294967295|N>>>26),N=j+(I^(A|~V))+L[11]+3174756917&4294967295,j=A+(N<<10&4294967295|N>>>22),N=V+(A^(j|~I))+L[2]+718787259&4294967295,V=j+(N<<15&4294967295|N>>>17),N=I+(j^(V|~A))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+j&4294967295}s.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var I=A-this.blockSize,L=this.B,V=this.h,j=0;j<A;){if(V==0)for(;j<=I;)o(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<A;)if(L[V++]=R.charCodeAt(j++),V==this.blockSize){o(this,L),V=0;break}}else for(;j<A;)if(L[V++]=R[j++],V==this.blockSize){o(this,L),V=0;break}}this.h=V,this.o+=A},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var I=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=I&255,I/=256;for(this.u(R),R=Array(16),A=I=0;4>A;++A)for(var L=0;32>L;L+=8)R[I++]=this.g[A]>>>L&255;return R};function l(R,A){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function c(R,A){this.h=A;for(var I=[],L=!0,V=R.length-1;0<=V;V--){var j=R[V]|0;L&&j==A||(I[V]=j,L=!1)}this.g=I}var m={};function p(R){return-128<=R&&128>R?l(R,function(A){return new c([A|0],0>A?-1:0)}):new c([R|0],0>R?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(0>R)return k(g(-R));for(var A=[],I=1,L=0;R>=I;L++)A[L]=R/I|0,I*=4294967296;return new c(A,0)}function v(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return k(v(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(A,8)),L=b,V=0;V<R.length;V+=8){var j=Math.min(8,R.length-V),N=parseInt(R.substring(V,V+j),A);8>j?(j=g(Math.pow(A,j)),L=L.j(j).add(g(N))):(L=L.j(I),L=L.add(g(N)))}return L}var b=p(0),w=p(1),O=p(16777216);r=c.prototype,r.m=function(){if(D(this))return-k(this).m();for(var R=0,A=1,I=0;I<this.g.length;I++){var L=this.i(I);R+=(0<=L?L:4294967296+L)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M(this))return"0";if(D(this))return"-"+k(this).toString(R);for(var A=g(Math.pow(R,6)),I=this,L="";;){var V=ne(I,A).g;I=P(I,V.j(A));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(R);if(I=V,M(I))return j+L;for(;6>j.length;)j="0"+j;L=j+L}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function M(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function D(R){return R.h==-1}r.l=function(R){return R=P(this,R),D(R)?-1:M(R)?0:1};function k(R){for(var A=R.g.length,I=[],L=0;L<A;L++)I[L]=~R.g[L];return new c(I,~R.h).add(w)}r.abs=function(){return D(this)?k(this):this},r.add=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],L=0,V=0;V<=A;V++){var j=L+(this.i(V)&65535)+(R.i(V)&65535),N=(j>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);L=N>>>16,j&=65535,N&=65535,I[V]=N<<16|j}return new c(I,I[I.length-1]&-2147483648?-1:0)};function P(R,A){return R.add(k(A))}r.j=function(R){if(M(this)||M(R))return b;if(D(this))return D(R)?k(this).j(k(R)):k(k(this).j(R));if(D(R))return k(this.j(k(R)));if(0>this.l(O)&&0>R.l(O))return g(this.m()*R.m());for(var A=this.g.length+R.g.length,I=[],L=0;L<2*A;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var V=0;V<R.g.length;V++){var j=this.i(L)>>>16,N=this.i(L)&65535,_e=R.i(V)>>>16,pe=R.i(V)&65535;I[2*L+2*V]+=N*pe,H(I,2*L+2*V),I[2*L+2*V+1]+=j*pe,H(I,2*L+2*V+1),I[2*L+2*V+1]+=N*_e,H(I,2*L+2*V+1),I[2*L+2*V+2]+=j*_e,H(I,2*L+2*V+2)}for(L=0;L<A;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=A;L<2*A;L++)I[L]=0;return new c(I,0)};function H(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function F(R,A){this.g=R,this.h=A}function ne(R,A){if(M(A))throw Error("division by zero");if(M(R))return new F(b,b);if(D(R))return A=ne(k(R),A),new F(k(A.g),k(A.h));if(D(A))return A=ne(R,k(A)),new F(k(A.g),A.h);if(30<R.g.length){if(D(R)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var I=w,L=A;0>=L.l(R);)I=$(I),L=$(L);var V=te(I,1),j=te(L,1);for(L=te(L,2),I=te(I,2);!M(L);){var N=j.add(L);0>=N.l(R)&&(V=V.add(I),j=N),L=te(L,1),I=te(I,1)}return A=P(R,V.j(A)),new F(V,A)}for(V=b;0<=R.l(A);){for(I=Math.max(1,Math.floor(R.m()/A.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),j=g(I),N=j.j(A);D(N)||0<N.l(R);)I-=L,j=g(I),N=j.j(A);M(j)&&(j=w),V=V.add(j),R=P(R,N)}return new F(V,R)}r.A=function(R){return ne(this,R).h},r.and=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],L=0;L<A;L++)I[L]=this.i(L)&R.i(L);return new c(I,this.h&R.h)},r.or=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],L=0;L<A;L++)I[L]=this.i(L)|R.i(L);return new c(I,this.h|R.h)},r.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],L=0;L<A;L++)I[L]=this.i(L)^R.i(L);return new c(I,this.h^R.h)};function $(R){for(var A=R.g.length+1,I=[],L=0;L<A;L++)I[L]=R.i(L)<<1|R.i(L-1)>>>31;return new c(I,R.h)}function te(R,A){var I=A>>5;A%=32;for(var L=R.g.length-I,V=[],j=0;j<L;j++)V[j]=0<A?R.i(j+I)>>>A|R.i(j+I+1)<<32-A:R.i(j+I);return new c(V,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,G1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,qs=c}).apply(typeof db<"u"?db:typeof self<"u"?self:typeof window<"u"?window:{});var Kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $1,wu,K1,uf,og,Y1,X1,Q1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kh=="object"&&Kh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var K=h[x];if(!(K in E))break e;E=E[K]}h=h[h.length-1],x=E[h],y=y(x),y!=x&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var E=0,x=!1,K={next:function(){if(!x&&E<h.length){var ee=E++;return{value:y(ee,h[ee]),done:!1}}return x=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(h){return h||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,E){return h.call.apply(h.bind,arguments)}function b(h,y,E){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,x),h.apply(y,K)}}return function(){return h.apply(y,arguments)}}function w(h,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function O(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function M(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(x,K,ee){for(var ce=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ce[Xe-2]=arguments[Xe];return y.prototype[K].apply(x,ce)}}function D(h){const y=h.length;if(0<y){const E=Array(y);for(let x=0;x<y;x++)E[x]=h[x];return E}return[]}function k(h,y){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(p(x)){const K=h.length||0,ee=x.length||0;h.length=K+ee;for(let ce=0;ce<ee;ce++)h[K+ce]=x[ce]}else h.push(x)}}class P{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function ne(h){return ne[" "](h),h}ne[" "]=function(){};var $=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function te(h,y,E){for(const x in h)y.call(E,h[x],x,h)}function R(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function A(h){const y={};for(const E in h)y[E]=h[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,y){let E,x;for(let K=1;K<arguments.length;K++){x=arguments[K];for(E in x)h[E]=x[E];for(let ee=0;ee<I.length;ee++)E=I[ee],Object.prototype.hasOwnProperty.call(x,E)&&(h[E]=x[E])}}function V(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function j(h){m.setTimeout(()=>{throw h},0)}function N(){var h=ge;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class _e{constructor(){this.h=this.g=null}add(y,E){const x=pe.get();x.set(y,E),this.h?this.h.next=x:this.g=x,this.h=x}}var pe=new P(()=>new q,h=>h.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,oe=!1,ge=new _e,Re=()=>{const h=m.Promise.resolve(void 0);Y=()=>{h.then(z)}};var z=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(E){j(E)}var y=pe;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}oe=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};m.addEventListener("test",E,y),m.removeEventListener("test",E,y)}catch{}return h}();function be(h,y){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if($){e:{try{ne(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ce[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}M(be,ue);var Ce={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),St=0;function ot(h,y,E,x,K){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!x,this.ha=K,this.key=++St,this.da=this.fa=!1}function An(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function dr(h){this.src=h,this.g={},this.h=0}dr.prototype.add=function(h,y,E,x,K){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ce=Hi(h,y,x,K);return-1<ce?(y=h[ce],E||(y.fa=!1)):(y=new ot(y,this.src,ee,!!x,K),y.fa=E,h.push(y)),y};function Rr(h,y){var E=y.type;if(E in h.g){var x=h.g[E],K=Array.prototype.indexOf.call(x,y,void 0),ee;(ee=0<=K)&&Array.prototype.splice.call(x,K,1),ee&&(An(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Hi(h,y,E,x){for(var K=0;K<h.length;++K){var ee=h[K];if(!ee.da&&ee.listener==y&&ee.capture==!!E&&ee.ha==x)return K}return-1}var Un="closure_lm_"+(1e6*Math.random()|0),jn={};function Zr(h,y,E,x,K){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)Zr(h,y[ee],E,x,K);return null}return E=Qt(E),h&&h[Oe]?h.K(y,E,g(x)?!!x.capture:!1,K):yl(h,y,E,!1,x,K)}function yl(h,y,E,x,K,ee){if(!y)throw Error("Invalid event type");var ce=g(K)?!!K.capture:!!K,Xe=At(h);if(Xe||(h[Un]=Xe=new dr(h)),E=Xe.add(y,E,x,ce,ee),E.proxy)return E;if(x=ra(),E.proxy=x,x.src=h,x.listener=E,h.addEventListener)fe||(K=ce),K===void 0&&(K=!1),h.addEventListener(y.toString(),x,K);else if(h.attachEvent)h.attachEvent(he(y.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ra(){function h(E){return y.call(h.src,h.listener,E)}const y=et;return h}function ei(h,y,E,x,K){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)ei(h,y[ee],E,x,K);else x=g(x)?!!x.capture:!!x,E=Qt(E),h&&h[Oe]?(h=h.i,y=String(y).toString(),y in h.g&&(ee=h.g[y],E=Hi(ee,E,x,K),-1<E&&(An(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete h.g[y],h.h--)))):h&&(h=At(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Hi(y,E,x,K)),(E=-1<h?y[h]:null)&&ti(E))}function ti(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Oe])Rr(y.i,h);else{var E=h.type,x=h.proxy;y.removeEventListener?y.removeEventListener(E,x,h.capture):y.detachEvent?y.detachEvent(he(E),x):y.addListener&&y.removeListener&&y.removeListener(x),(E=At(y))?(Rr(E,h),E.h==0&&(E.src=null,y[Un]=null)):An(h)}}}function he(h){return h in jn?jn[h]:jn[h]="on"+h}function et(h,y){if(h.da)h=!0;else{y=new be(y,this);var E=h.listener,x=h.ha||h.src;h.fa&&ti(h),h=E.call(x,y)}return h}function At(h){return h=h[Un],h instanceof dr?h:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qt(h){return typeof h=="function"?h:(h[tt]||(h[tt]=function(y){return h.handleEvent(y)}),h[tt])}function lt(){W.call(this),this.i=new dr(this),this.M=this,this.F=null}M(lt,W),lt.prototype[Oe]=!0,lt.prototype.removeEventListener=function(h,y,E,x){ei(this,h,y,E,x)};function gt(h,y){var E,x=h.F;if(x)for(E=[];x;x=x.F)E.push(x);if(h=h.M,x=y.type||y,typeof y=="string")y=new ue(y,h);else if(y instanceof ue)y.target=y.target||h;else{var K=y;y=new ue(x,h),L(y,K)}if(K=!0,E)for(var ee=E.length-1;0<=ee;ee--){var ce=y.g=E[ee];K=Rn(ce,x,!0,y)&&K}if(ce=y.g=h,K=Rn(ce,x,!0,y)&&K,K=Rn(ce,x,!1,y)&&K,E)for(ee=0;ee<E.length;ee++)ce=y.g=E[ee],K=Rn(ce,x,!1,y)&&K}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],x=0;x<E.length;x++)An(E[x]);delete h.g[y],h.h--}}this.F=null},lt.prototype.K=function(h,y,E,x){return this.i.add(String(h),y,!1,E,x)},lt.prototype.L=function(h,y,E,x){return this.i.add(String(h),y,!0,E,x)};function Rn(h,y,E,x){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,ee=0;ee<y.length;++ee){var ce=y[ee];if(ce&&!ce.da&&ce.capture==E){var Xe=ce.listener,Ot=ce.ha||ce.src;ce.fa&&Rr(h.i,ce),K=Xe.call(Ot,x)!==!1&&K}}return K&&!x.defaultPrevented}function qi(h,y,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(h,y||0)}function ln(h){h.g=qi(()=>{h.g=null,h.i&&(h.i=!1,ln(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ia extends W{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ln(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zn(h){W.call(this),this.h=h,this.g={}}M(zn,W);var mr=[];function Nt(h){te(h.g,function(y,E){this.g.hasOwnProperty(E)&&ti(y)},h),h.g={}}zn.prototype.N=function(){zn.aa.N.call(this),Nt(this)},zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=m.JSON.stringify,gn=m.JSON.parse,bd=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function _l(){}_l.prototype.h=null;function Ec(h){return h.h||(h.h=h.i())}function sa(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){ue.call(this,"d")}M(Fi,ue);function pr(){ue.call(this,"c")}M(pr,ue);var Jn={},Gi=null;function no(){return Gi=Gi||new lt}Jn.La="serverreachability";function vl(h){ue.call(this,Jn.La,h)}M(vl,ue);function ni(h){const y=no();gt(y,new vl(y))}Jn.STAT_EVENT="statevent";function $i(h,y){ue.call(this,Jn.STAT_EVENT,h),this.stat=y}M($i,ue);function Wt(h){const y=no();gt(y,new $i(y,h))}Jn.Ma="timingevent";function El(h,y){ue.call(this,Jn.Ma,h),this.size=y}M(El,ue);function Ki(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},y)}function Yi(){this.g=!0}Yi.prototype.xa=function(){this.g=!1};function bl(h,y,E,x,K,ee){h.info(function(){if(h.g)if(ee)for(var ce="",Xe=ee.split("&"),Ot=0;Ot<Xe.length;Ot++){var Me=Xe[Ot].split("=");if(1<Me.length){var Ft=Me[0];Me=Me[1];var Gt=Ft.split("_");ce=2<=Gt.length&&Gt[1]=="type"?ce+(Ft+"="+Me+"&"):ce+(Ft+"=redacted&")}}else ce=null;else ce=ee;return"XMLHTTP REQ ("+x+") [attempt "+K+"]: "+y+`
`+E+`
`+ce})}function Tl(h,y,E,x,K,ee,ce){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+K+"]: "+y+`
`+E+`
`+ee+" "+ce})}function ri(h,y,E,x){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Cr(h,E)+(x?" "+x:"")})}function bc(h,y){h.info(function(){return"TIMEOUT: "+y})}Yi.prototype.info=function(){};function Cr(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var x=E[h];if(!(2>x.length)){var K=x[1];if(Array.isArray(K)&&!(1>K.length)){var ee=K[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ce=1;ce<K.length;ce++)K[ce]=""}}}}return Wn(E)}catch{return y}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function Xi(){}M(Xi,_l),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},Ir=new Xi;function Nr(h,y,E,x){this.j=h,this.i=y,this.l=E,this.R=x||1,this.U=new zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tc}function Tc(){this.i=null,this.g="",this.h=!1}var wl={},ii={};function aa(h,y,E){h.L=1,h.v=ua(bt(y)),h.m=E,h.P=!0,si(h,null)}function si(h,y){h.F=Date.now(),gr(h),h.A=bt(h.v);var E=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),li(E.i,"t",x),h.C=0,E=h.j.J,h.h=new Tc,h.g=Uc(h.j,E?y:null,!h.m),0<h.O&&(h.M=new ia(w(h.Y,h,h.g),h.O)),y=h.U,E=h.g,x=h.ca;var K="readystatechange";Array.isArray(K)||(K&&(mr[0]=K.toString()),K=mr);for(var ee=0;ee<K.length;ee++){var ce=Zr(E,K[ee],x||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),ni(),bl(h.i,h.u,h.A,h.l,h.R,h.m)}Nr.prototype.ca=function(h){h=h.target;const y=this.M;y&&vn(h)==3?y.j():this.Y(h)},Nr.prototype.Y=function(h){try{if(h==this.g)e:{const Gt=vn(this.g);var y=this.g.Ba();const ls=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||fa(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=ls?ni(3):ni(2)),ro(this);var E=this.g.Z();this.X=E;t:if(ai(this)){var x=fa(this.g);h="";var K=x.length,ee=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Qi(this);var ce="";break t}this.h.i=new m.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,h+=this.h.i.decode(x[y],{stream:!(ee&&y==K-1)});x.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,Tl(this.i,this.u,this.A,this.l,this.R,Gt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Ot=this.g;if((Xe=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Xe)){var Me=Xe;break t}}Me=null}if(E=Me)ri(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Or(this,E);else{this.o=!1,this.s=3,Wt(12),yn(this),Qi(this);break e}}if(this.P){E=!0;let Cn;for(;!this.J&&this.C<ce.length;)if(Cn=oa(this,ce),Cn==ii){Gt==4&&(this.s=4,Wt(14),E=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==wl){this.s=4,Wt(15),ri(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else ri(this.i,this.l,Cn,null),Or(this,Cn);if(ai(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ce.length!=0||this.h.h||(this.s=1,Wt(16),E=!1),this.o=this.o&&E,!E)ri(this.i,this.l,ce,"[Invalid Chunked Response]"),yn(this),Qi(this);else if(0<ce.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ml(Ft),Ft.M=!0,Wt(11))}}else ri(this.i,this.l,ce,null),Or(this,ce);Gt==4&&yn(this),this.o&&!this.J&&(Gt==4?Pc(this.j,this):(this.o=!1,gr(this)))}else Ic(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),yn(this),Qi(this)}}}catch{}finally{}};function ai(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function oa(h,y){var E=h.C,x=y.indexOf(`
`,E);return x==-1?ii:(E=Number(y.substring(E,x)),isNaN(E)?wl:(x+=1,x+E>y.length?ii:(y=y.slice(x,x+E),h.C=x+E,y)))}Nr.prototype.cancel=function(){this.J=!0,yn(this)};function gr(h){h.S=Date.now()+h.I,Rt(h,h.I)}function Rt(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ki(w(h.ba,h),y)}function ro(h){h.B&&(m.clearTimeout(h.B),h.B=null)}Nr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(bc(this.i,this.A),this.L!=2&&(ni(),Wt(17)),yn(this),this.s=2,Qi(this)):Rt(this,this.S-h)};function Qi(h){h.j.G==0||h.J||Pc(h.j,h)}function yn(h){ro(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Nt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Or(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||Wi(E.h,h))){if(!h.K&&Wi(E.h,h)&&E.G==3){try{var x=E.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var K=x;if(K[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)as(E),ss(E);else break e;kl(E),Wt(18)}}else E.za=K[1],0<E.za-E.T&&37500>K[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ki(w(E.Za,E),6e3));if(1>=wc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ci(E,11)}else if((h.K||E.g==h)&&as(E),!H(y))for(K=E.Da.g.parse(y),y=0;y<K.length;y++){let Me=K[y];if(E.T=Me[0],Me=Me[1],E.G==2)if(Me[0]=="c"){E.K=Me[1],E.ia=Me[2];const Ft=Me[3];Ft!=null&&(E.la=Ft,E.j.info("VER="+E.la));const Gt=Me[4];Gt!=null&&(E.Aa=Gt,E.j.info("SVER="+E.Aa));const ls=Me[5];ls!=null&&typeof ls=="number"&&0<ls&&(x=1.5*ls,E.L=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const Cn=h.g;if(Cn){const pa=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var ee=x.h;ee.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ji(ee,ee.h),ee.h=null))}if(x.D){const hi=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;hi&&(x.ya=hi,Ge(x.I,x.D,hi))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),x=E;var ce=h;if(x.qa=Vc(x,x.J?x.ia:null,x.W),ce.K){Zn(x.h,ce);var Xe=ce,Ot=x.L;Ot&&(Xe.I=Ot),Xe.B&&(ro(Xe),gr(Xe)),x.g=ce}else kc(x);0<E.i.length&&ho(E)}else Me[0]!="stop"&&Me[0]!="close"||ci(E,7);else E.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?ci(E,7):Ol(E):Me[0]!="noop"&&E.l&&E.l.ta(Me),E.v=0)}}ni(4)}catch{}}var Td=class{constructor(h,y){this.g=h,this.map=y}};function Sl(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function wc(h){return h.h?1:h.g?h.g.size:0}function Wi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ji(h,y){h.g?h.g.add(y):h.h=y}function Zn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Sl.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _n(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return D(h.i)}function Sc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],E=h.length,x=0;x<E;x++)y.push(h[x]);return y}y=[],E=0;for(x in h)y[E++]=h[x];return y}function wd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const x in h)y[E++]=x;return y}}}function io(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=wd(h),x=Sc(h),K=x.length,ee=0;ee<K;ee++)y.call(void 0,x[ee],E&&E[ee],h)}var Rl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function so(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var x=h[E].indexOf("="),K=null;if(0<=x){var ee=h[E].substring(0,x);K=h[E].substring(x+1)}else ee=h[E];y(ee,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function oi(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof oi){this.h=h.h,Zi(this,h.j),this.o=h.o,this.g=h.g,la(this,h.s),this.l=h.l;var y=h.i,E=new Dr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),ao(this,E),this.m=h.m}else h&&(y=String(h).match(Rl))?(this.h=!1,Zi(this,y[1]||"",!0),this.o=es(y[2]||""),this.g=es(y[3]||"",!0),la(this,y[4]),this.l=es(y[5]||"",!0),ao(this,y[6]||"",!0),this.m=es(y[7]||"")):(this.h=!1,this.i=new Dr(null,this.h))}oi.prototype.toString=function(){var h=[],y=this.j;y&&h.push(er(y,xl,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(er(y,xl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(er(E,E.charAt(0)=="/"?Cl:Ac,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",er(E,Rd)),h.join("")};function bt(h){return new oi(h)}function Zi(h,y,E){h.j=E?es(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function la(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function ao(h,y,E){y instanceof Dr?(h.i=y,Rc(h.i,h.h)):(E||(y=er(y,Ad)),h.i=new Dr(y,h.h))}function Ge(h,y,E){h.i.set(y,E)}function ua(h){return Ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function es(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function er(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Sd),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xl=/[#\/\?@]/g,Ac=/[#\?:]/g,Cl=/[#\?]/g,Ad=/[#\?@]/g,Rd=/#/g;function Dr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function qt(h){h.g||(h.g=new Map,h.h=0,h.i&&so(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Dr.prototype,r.add=function(h,y){qt(this),this.i=null,h=Bn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function oo(h,y){qt(h),y=Bn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function lo(h,y){return qt(h),y=Bn(h,y),h.g.has(y)}r.forEach=function(h,y){qt(this),this.g.forEach(function(E,x){E.forEach(function(K){h.call(y,K,x,this)},this)},this)},r.na=function(){qt(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let x=0;x<y.length;x++){const K=h[x];for(let ee=0;ee<K.length;ee++)E.push(y[x])}return E},r.V=function(h){qt(this);let y=[];if(typeof h=="string")lo(this,h)&&(y=y.concat(this.g.get(Bn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},r.set=function(h,y){return qt(this),this.i=null,h=Bn(this,h),lo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function li(h,y,E){oo(h,y),0<E.length&&(h.i=null,h.g.set(Bn(h,y),D(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var x=y[E];const ee=encodeURIComponent(String(x)),ce=this.V(x);for(x=0;x<ce.length;x++){var K=ee;ce[x]!==""&&(K+="="+encodeURIComponent(String(ce[x]))),h.push(K)}}return this.i=h.join("&")};function Bn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Rc(h,y){y&&!h.j&&(qt(h),h.i=null,h.g.forEach(function(E,x){var K=x.toLowerCase();x!=K&&(oo(this,x),li(this,K,E))},h)),h.j=y}function Il(h,y){const E=new Yi;if(m.Image){const x=new Image;x.onload=O(xn,E,"TestLoadImage: loaded",!0,y,x),x.onerror=O(xn,E,"TestLoadImage: error",!1,y,x),x.onabort=O(xn,E,"TestLoadImage: abort",!1,y,x),x.ontimeout=O(xn,E,"TestLoadImage: timeout",!1,y,x),m.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else y(!1)}function xc(h,y){const E=new Yi,x=new AbortController,K=setTimeout(()=>{x.abort(),xn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:x.signal}).then(ee=>{clearTimeout(K),ee.ok?xn(E,"TestPingServer: ok",!0,y):xn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),xn(E,"TestPingServer: error",!1,y)})}function xn(h,y,E,x,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),x(E)}catch{}}function yr(){this.g=new bd}function Nl(h,y,E){const x=E||"";try{io(h,function(K,ee){let ce=K;g(K)&&(ce=Wn(K)),y.push(x+ee+"="+encodeURIComponent(ce))})}catch(K){throw y.push(x+"type="+encodeURIComponent("_badmap")),K}}function kr(h){this.l=h.Ub||null,this.j=h.eb||!1}M(kr,_l),kr.prototype.g=function(){return new Hn(this.l,this.j)},kr.prototype.i=function(h){return function(){return h}}({});function Hn(h,y){lt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Hn,lt),r=Hn.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,ts(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function uo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Mr(this):ts(this),this.readyState==3&&uo(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,Mr(this))},r.Qa=function(h){this.g&&(this.response=h,Mr(this))},r.ga=function(){this.g&&Mr(this)};function Mr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ts(h)}r.setRequestHeader=function(h,y){this.u.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ts(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ca(h){let y="";return te(h,function(E,x){y+=x,y+=":",y+=E,y+=`\r
`}),y}function ns(h,y,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=ca(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Ge(h,y,E))}function ut(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(ut,lt);var un=/^https?$/i,ui=["POST","PUT"];r=ut.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,y,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?Ec(this.o):Ec(Ir),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ee){ha(this,ee);return}if(h=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var K in x)E.set(K,x[K]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ee of x.keys())E.set(ee,x.get(ee));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),K=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ui,y,void 0))||x||K||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ce]of E)this.g.setRequestHeader(ee,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{co(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){ha(this,ee)}};function ha(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,rs(h),is(h)}function rs(h){h.A||(h.A=!0,gt(h,"complete"),gt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,gt(this,"complete"),gt(this,"abort"),is(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),ut.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Cc(this):this.bb())},r.bb=function(){Cc(this)};function Cc(h){if(h.h&&typeof c<"u"&&(!h.v[1]||vn(h)!=4||h.Z()!=2)){if(h.u&&vn(h)==4)qi(h.Ea,0,h);else if(gt(h,"readystatechange"),vn(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var x;if(x=ce===0){var K=String(h.D).match(Rl)[1]||null;!K&&m.self&&m.self.location&&(K=m.self.location.protocol.slice(0,-1)),x=!un.test(K?K.toLowerCase():"")}E=x}if(E)gt(h,"complete"),gt(h,"success");else{h.m=6;try{var ee=2<vn(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",rs(h)}}finally{is(h)}}}}function is(h,y){if(h.g){co(h);const E=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||gt(h,"ready");try{E.onreadystatechange=x}catch{}}}function co(h){h.I&&(m.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function vn(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),gn(y)}};function fa(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(h){const y={};h=(h.g&&2<=vn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(H(h[x]))continue;var E=V(h[x]);const K=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=y[K]||[];y[K]=ee,ee.push(E)}R(y,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Nc(h){this.Aa=0,this.i=[],this.j=new Yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,h),this.cb=da("retryDelaySeedMs",1e4,h),this.Wa=da("forwardChannelMaxRetries",2,h),this.wa=da("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Sl(h&&h.concurrentRequestLimit),this.Da=new yr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Nc.prototype,r.la=8,r.G=1,r.connect=function(h,y,E,x){Wt(0),this.W=h,this.H=y||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=Vc(this,null,this.W),ho(this)};function Ol(h){if(Oc(h),h.G==3){var y=h.U++,E=bt(h.I);if(Ge(E,"SID",h.K),Ge(E,"RID",y),Ge(E,"TYPE","terminate"),ma(h,E),y=new Nr(h,h.j,y),y.L=2,y.v=ua(bt(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=y.v,E=!0),E||(y.g=Uc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),gr(y)}Pl(h)}function ss(h){h.g&&(Ml(h),h.g.cancel(),h.g=null)}function Oc(h){ss(h),h.u&&(m.clearTimeout(h.u),h.u=null),as(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function ho(h){if(!Al(h.h)&&!h.s){h.s=!0;var y=h.Ga;Y||Re(),oe||(Y(),oe=!0),ge.add(y,h),h.B=0}}function xd(h,y){return wc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ki(w(h.Ga,h,y),Lc(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const K=new Nr(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=A(ee),L(ee,this.S)):ee=this.S),this.m!==null||this.O||(K.H=ee,ee=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Dl(this,K,y),E=bt(this.I),Ge(E,"RID",h),Ge(E,"CVER",22),this.D&&Ge(E,"X-HTTP-Session-Id",this.D),ma(this,E),ee&&(this.O?y="headers="+encodeURIComponent(String(ca(ee)))+"&"+y:this.m&&ns(E,this.m,ee)),Ji(this.h,K),this.Ua&&Ge(E,"TYPE","init"),this.P?(Ge(E,"$req",y),Ge(E,"SID","null"),K.T=!0,aa(K,E,null)):aa(K,E,y),this.G=2}}else this.G==3&&(h?Dc(this,h):this.i.length==0||Al(this.h)||Dc(this))};function Dc(h,y){var E;y?E=y.l:E=h.U++;const x=bt(h.I);Ge(x,"SID",h.K),Ge(x,"RID",E),Ge(x,"AID",h.T),ma(h,x),h.m&&h.o&&ns(x,h.m,h.o),E=new Nr(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Dl(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ji(h.h,E),aa(E,x,y)}function ma(h,y){h.H&&te(h.H,function(E,x){Ge(y,x,E)}),h.l&&io({},function(E,x){Ge(y,x,E)})}function Dl(h,y,E){E=Math.min(h.i.length,E);var x=h.l?w(h.l.Na,h.l,h):null;e:{var K=h.i;let ee=-1;for(;;){const ce=["count="+E];ee==-1?0<E?(ee=K[0].g,ce.push("ofs="+ee)):ee=0:ce.push("ofs="+ee);let Xe=!0;for(let Ot=0;Ot<E;Ot++){let Me=K[Ot].g;const Ft=K[Ot].map;if(Me-=ee,0>Me)ee=Math.max(0,K[Ot].g-100),Xe=!1;else try{Nl(Ft,ce,"req"+Me+"_")}catch{x&&x(Ft)}}if(Xe){x=ce.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,x}function kc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;Y||Re(),oe||(Y(),oe=!0),ge.add(y,h),h.v=0}}function kl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ki(w(h.Fa,h),Lc(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,Mc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ki(w(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),ss(this),Mc(this))};function Ml(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function Mc(h){h.g=new Nr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=bt(h.qa);Ge(y,"RID","rpc"),Ge(y,"SID",h.K),Ge(y,"AID",h.T),Ge(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ge(y,"TO",h.ja),Ge(y,"TYPE","xmlhttp"),ma(h,y),h.m&&h.o&&ns(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=ua(bt(y)),E.m=null,E.P=!0,si(E,h)}r.Za=function(){this.C!=null&&(this.C=null,ss(this),kl(this),Wt(19))};function as(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function Pc(h,y){var E=null;if(h.g==y){as(h),Ml(h),h.g=null;var x=2}else if(Wi(h.h,y))E=y.D,Zn(h.h,y),x=1;else return;if(h.G!=0){if(y.o)if(x==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var K=h.B;x=no(),gt(x,new El(x,E)),ho(h)}else kc(h);else if(K=y.s,K==3||K==0&&0<y.X||!(x==1&&xd(h,y)||x==2&&kl(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),K){case 1:ci(h,5);break;case 4:ci(h,10);break;case 3:ci(h,6);break;default:ci(h,2)}}}function Lc(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function ci(h,y){if(h.j.info("Error code "+y),y==2){var E=w(h.fb,h),x=h.Xa;const K=!x;x=new oi(x||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Zi(x,"https"),ua(x),K?Il(x.toString(),E):xc(x.toString(),E)}else Wt(2);h.G=0,h.l&&h.l.sa(y),Pl(h),Oc(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Pl(h){if(h.G=0,h.ka=[],h.l){const y=_n(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ka,y),k(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function Vc(h,y,E){var x=E instanceof oi?bt(E):new oi(E);if(x.g!="")y&&(x.g=y+"."+x.g),la(x,x.s);else{var K=m.location;x=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var ee=new oi(null);x&&Zi(ee,x),y&&(ee.g=y),K&&la(ee,K),E&&(ee.l=E),x=ee}return E=h.D,y=h.ya,E&&y&&Ge(x,E,y),Ge(x,"VER",h.la),ma(h,x),x}function Uc(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new ut(new kr({eb:E})):new ut(h.pa),y.Ha(h.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function jc(){}r=jc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function fo(){}fo.prototype.g=function(h,y){return new En(h,y)};function En(h,y){lt.call(this),this.g=new Nc(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!H(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new os(this)}M(En,lt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Ol(this.g)},En.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Wn(h),h=E);y.i.push(new Td(y.Ya++,h)),y.G==3&&ho(y)},En.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,En.aa.N.call(this)};function zc(h){Fi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}M(zc,Fi);function Bc(){pr.call(this),this.status=1}M(Bc,pr);function os(h){this.g=h}M(os,jc),os.prototype.ua=function(){gt(this.g,"a")},os.prototype.ta=function(h){gt(this.g,new zc(h))},os.prototype.sa=function(h){gt(this.g,new Bc)},os.prototype.ra=function(){gt(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Q1=function(){return new fo},X1=function(){return no()},Y1=Jn,og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,uf=Et,Jt.COMPLETE="complete",K1=Jt,sa.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,wu=sa,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,$1=ut}).apply(typeof Kh<"u"?Kh:typeof self<"u"?self:typeof window<"u"?window:{});const mb="@firebase/firestore",pb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new Yg("@firebase/firestore");function Fo(){return Ha.logLevel}function de(r,...e){if(Ha.logLevel<=je.DEBUG){const t=e.map(sy);Ha.debug(`Firestore (${fl}): ${r}`,...t)}}function Vi(r,...e){if(Ha.logLevel<=je.ERROR){const t=e.map(sy);Ha.error(`Firestore (${fl}): ${r}`,...t)}}function el(r,...e){if(Ha.logLevel<=je.WARN){const t=e.map(sy);Ha.warn(`Firestore (${fl}): ${r}`,...t)}}function sy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,W1(r,s,t)}function W1(r,e,t){let s=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Vi(s),new Error(s)}function We(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||W1(e,o,s)}function Ne(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class eO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tO{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new J1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class nO{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rO{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new nO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=sO(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function lg(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),l=e.charAt(s);if(o!==l)return Lp(o)===Lp(l)?ze(o,l):Lp(o)?1:-1}return ze(r.length,e.length)}const aO=55296,oO=57343;function Lp(r){const e=r.charCodeAt(0);return e>=aO&&e<=oO}function tl(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="__name__";class jr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=jr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const s=jr.isNumericId(e),o=jr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?jr.extractNumericId(e).compare(jr.extractNumericId(t)):lg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qs.fromString(e.substring(4,e.length-2))}}class yt extends jr{construct(e,t,s){return new yt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const lO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends jr{construct(e,t,s){return new an(e,t,s)}static isValidIdentifier(e){return lO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yb}static keyField(){return new an([yb])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ve(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new ve(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(yt.fromString(e))}static fromName(e){return new Te(yt.fromString(e).popFirst(5))}static empty(){return new Te(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(r,e,t){if(!t)throw new ve(le.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function cO(r,e,t,s){if(e===!0&&s===!0)throw new ve(le.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function _b(r){if(!Te.isDocumentKey(r))throw new ve(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Z1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function oy(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function Bu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oy(r);throw new ve(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(r,e){const t={typeString:r};return e&&(t.value=e),t}function ac(r,e){if(!Z1(r))throw new ve(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const c=r[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ve(le.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=-62135596800,Eb=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Eb);return new ft(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vb)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Eb}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ac(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ut("string",ft._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ft(0,0))}static max(){return new xe(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=-1;function hO(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new ft(t+1,0):new ft(t,s));return new $s(o,Te.empty(),e)}function fO(r){return new $s(r.readTime,r.key,Hu)}class $s{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new $s(xe.min(),Te.empty(),Hu)}static max(){return new $s(xe.max(),Te.empty(),Hu)}}function dO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:ze(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(r){if(r.code!==le.FAILED_PRECONDITION||r.message!==mO)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,s)=>{t(e)})}static reject(e){return new ae((t,s)=>{s(e)})}static waitFor(e){return new ae((t,s)=>{let o=0,l=0,c=!1;e.forEach(m=>{++o,m.next(()=>{++l,c&&l===o&&t()},p=>s(p))}),c=!0,l===o&&t()})}static or(e){let t=ae.resolve(!1);for(const s of e)t=t.next(o=>o?ae.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new ae((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{c[g]=v,++m,m===l&&s(c)},v=>o(v))}})}static doWhile(e,t){return new ae((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function gO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ml(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=-1;function Jf(r){return r==null}function Rf(r){return r===0&&1/r==-1/0}function yO(r){return typeof r=="number"&&Number.isInteger(r)&&!Rf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="";function _O(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=bb(e)),e=vO(r.get(t),e);return bb(e)}function vO(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case ew:t+="";break;default:t+=l}}return t}function bb(r){return r+ew+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Qa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function tw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yh(this.root,e,this.comparator,!0)}}class Yh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??rn.RED,this.left=o??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new rn(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wb(this.data.getIterator())}getIteratorFrom(e){return new wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new wr([])}unionWith(e){let t=new Bt(an.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new wr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nw("Invalid base64 string: "+l):l}}(e);return new on(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const EO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(r){if(We(!!r,39018),typeof r=="string"){let e=0;const t=EO.exec(r);if(We(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ys(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="server_timestamp",iw="__type__",sw="__previous_value__",aw="__local_write_time__";function uy(r){return(r?.mapValue?.fields||{})[iw]?.stringValue===rw}function Zf(r){const e=r.mapValue.fields[sw];return uy(e)?Zf(e):e}function qu(r){const e=Ks(r.mapValue.fields[aw].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t,s,o,l,c,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const xf="(default)";class Fu{constructor(e,t){this.projectId=e,this.database=t||xf}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database===xf}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="__type__",TO="__max__",Xh={mapValue:{}},lw="__vector__",Cf="value";function Xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?uy(r)?4:SO(r)?9007199254740991:wO(r)?10:11:Ae(28295,{value:r})}function Xr(r,e){if(r===e)return!0;const t=Xs(r);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return qu(r).isEqual(qu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ks(o.timestampValue),m=Ks(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return Ys(o.bytesValue).isEqual(Ys(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return It(o.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return It(o.integerValue)===It(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=It(o.doubleValue),m=It(l.doubleValue);return c===m?Rf(c)===Rf(m):isNaN(c)&&isNaN(m)}return!1}(r,e);case 9:return tl(r.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(Tb(c)!==Tb(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Xr(c[p],m[p])))return!1;return!0}(r,e);default:return Ae(52216,{left:r})}}function Gu(r,e){return(r.values||[]).find(t=>Xr(t,e))!==void 0}function nl(r,e){if(r===e)return 0;const t=Xs(r),s=Xs(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return function(l,c){const m=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Sb(r.timestampValue,e.timestampValue);case 4:return Sb(qu(r),qu(e));case 5:return lg(r.stringValue,e.stringValue);case 6:return function(l,c){const m=Ys(l),p=Ys(c);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(l,c){const m=l.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=ze(m[g],p[g]);if(v!==0)return v}return ze(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,c){const m=ze(It(l.latitude),It(c.latitude));return m!==0?m:ze(It(l.longitude),It(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ab(r.arrayValue,e.arrayValue);case 10:return function(l,c){const m=l.fields||{},p=c.fields||{},g=m[Cf]?.arrayValue,v=p[Cf]?.arrayValue,b=ze(g?.values?.length||0,v?.values?.length||0);return b!==0?b:Ab(g,v)}(r.mapValue,e.mapValue);case 11:return function(l,c){if(l===Xh.mapValue&&c===Xh.mapValue)return 0;if(l===Xh.mapValue)return 1;if(c===Xh.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const w=lg(p[b],v[b]);if(w!==0)return w;const O=nl(m[p[b]],g[v[b]]);if(O!==0)return O}return ze(p.length,v.length)}(r.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function Sb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const t=Ks(r),s=Ks(e),o=ze(t.seconds,s.seconds);return o!==0?o:ze(t.nanos,s.nanos)}function Ab(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=nl(t[o],s[o]);if(l)return l}return ze(t.length,s.length)}function rl(r){return ug(r)}function ug(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=Ks(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ys(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Te.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=ug(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${ug(t.fields[c])}`;return o+"}"}(r.mapValue):Ae(61005,{value:r})}function cf(r){switch(Xs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zf(r);return e?16+cf(e):16;case 5:return 2*r.stringValue.length;case 6:return Ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+cf(l),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Qa(s.fields,(l,c)=>{o+=l.length+cf(c)}),o}(r.mapValue);default:throw Ae(13486,{value:r})}}function cg(r){return!!r&&"integerValue"in r}function cy(r){return!!r&&"arrayValue"in r}function Rb(r){return!!r&&"nullValue"in r}function xb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hf(r){return!!r&&"mapValue"in r}function wO(r){return(r?.mapValue?.fields||{})[ow]?.stringValue===lw}function Nu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Qa(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Nu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nu(r.arrayValue.values[t]);return e}return{...r}}function SO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===TO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!hf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nu(t)}setAll(e){let t=an.emptyPath(),s={},o=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}c?s[m.lastSegment()]=Nu(c):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());hf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];hf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Qa(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new cr(Nu(this.value))}}function uw(r){const e=[];return Qa(r.fields,(t,s)=>{const o=new an([t]);if(hf(s)){const l=uw(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new wr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t,s,o,l,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new mn(e,0,xe.min(),xe.min(),xe.min(),cr.empty(),0)}static newFoundDocument(e,t,s,o){return new mn(e,1,t,xe.min(),s,o,0)}static newNoDocument(e,t){return new mn(e,2,t,xe.min(),xe.min(),cr.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,xe.min(),xe.min(),cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.position=e,this.inclusive=t}}function Cb(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?s=Te.comparator(Te.fromName(c.referenceValue),t.key):s=nl(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ib(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Xr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,t="asc"){this.field=e,this.dir=t}}function AO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{}class zt extends cw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new xO(e,t,s):t==="array-contains"?new NO(e,s):t==="in"?new OO(e,s):t==="not-in"?new DO(e,s):t==="array-contains-any"?new kO(e,s):new zt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new CO(e,s):new IO(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nl(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends cw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qr(e,t)}matches(e){return hw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hw(r){return r.op==="and"}function fw(r){return RO(r)&&hw(r)}function RO(r){for(const e of r.filters)if(e instanceof Qr)return!1;return!0}function hg(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+rl(r.value);if(fw(r))return r.filters.map(e=>hg(e)).join(",");{const e=r.filters.map(t=>hg(t)).join(",");return`${r.op}(${e})`}}function dw(r,e){return r instanceof zt?function(s,o){return o instanceof zt&&s.op===o.op&&s.field.isEqual(o.field)&&Xr(s.value,o.value)}(r,e):r instanceof Qr?function(s,o){return o instanceof Qr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,m)=>l&&dw(c,o.filters[m]),!0):!1}(r,e):void Ae(19439)}function mw(r){return r instanceof zt?function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`}(r):r instanceof Qr?function(t){return t.op.toString()+" {"+t.getFilters().map(mw).join(" ,")+"}"}(r):"Filter"}class xO extends zt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class CO extends zt{constructor(e,t){super(e,"in",t),this.keys=pw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class IO extends zt{constructor(e,t){super(e,"not-in",t),this.keys=pw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pw(r,e){return(e.arrayValue?.values||[]).map(t=>Te.fromName(t.referenceValue))}class NO extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cy(t)&&Gu(t.arrayValue,this.value)}}class OO extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gu(this.value.arrayValue,t)}}class DO extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gu(this.value.arrayValue,t)}}class kO extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,t=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.Te=null}}function Nb(r,e=null,t=[],s=[],o=null,l=null,c=null){return new MO(r,e,t,s,o,l,c)}function hy(r){const e=Ne(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>hg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Jf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>rl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>rl(s)).join(",")),e.Te=t}return e.Te}function fy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!AO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!dw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ib(r.startAt,e.startAt)&&Ib(r.endAt,e.endAt)}function fg(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t=null,s=[],o=[],l=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PO(r,e,t,s,o,l,c,m){return new ed(r,e,t,s,o,l,c,m)}function dy(r){return new ed(r)}function Ob(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LO(r){return r.collectionGroup!==null}function Ou(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Bt(an.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Nf(l,s))}),t.has(an.keyField().canonicalString())||e.Ie.push(new Nf(an.keyField(),s))}return e.Ie}function Fr(r){const e=Ne(r);return e.Ee||(e.Ee=VO(e,Ou(r))),e.Ee}function VO(r,e){if(r.limitType==="F")return Nb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Nf(o.field,l)});const t=r.endAt?new If(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new If(r.startAt.position,r.startAt.inclusive):null;return Nb(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function dg(r,e,t){return new ed(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function td(r,e){return fy(Fr(r),Fr(e))&&r.limitType===e.limitType}function gw(r){return`${hy(Fr(r))}|lt:${r.limitType}`}function Go(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>mw(o)).join(", ")}]`),Jf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>rl(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>rl(o)).join(",")),`Target(${s})`}(Fr(r))}; limitType=${r.limitType})`}function nd(r,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Te.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,o){for(const l of Ou(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(c,m,p){const g=Cb(c,m,p);return c.inclusive?g<=0:g<0}(s.startAt,Ou(s),o)||s.endAt&&!function(c,m,p){const g=Cb(c,m,p);return c.inclusive?g>=0:g>0}(s.endAt,Ou(s),o))}(r,e)}function UO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function yw(r){return(e,t)=>{let s=!1;for(const o of Ou(r)){const l=jO(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function jO(r,e,t){const s=r.field.isKeyField()?Te.comparator(e.key,t.key):function(l,c,m){const p=c.data.field(l),g=m.data.field(l);return p!==null&&g!==null?nl(p,g):Ae(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return tw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new _t(Te.comparator);function Ui(){return zO}const _w=new _t(Te.comparator);function Su(...r){let e=_w;for(const t of r)e=e.insert(t.key,t);return e}function vw(r){let e=_w;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Pa(){return Du()}function Ew(){return Du()}function Du(){return new Wa(r=>r.toString(),(r,e)=>r.isEqual(e))}const BO=new _t(Te.comparator),HO=new Bt(Te.comparator);function Be(...r){let e=HO;for(const t of r)e=e.add(t);return e}const qO=new Bt(ze);function FO(){return qO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function bw(r){return{integerValue:""+r}}function GO(r,e){return yO(e)?bw(e):my(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this._=void 0}}function $O(r,e,t){return r instanceof $u?function(o,l){const c={fields:{[iw]:{stringValue:rw},[aw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&uy(l)&&(l=Zf(l)),l&&(c.fields[sw]=l),{mapValue:c}}(t,e):r instanceof Ku?ww(r,e):r instanceof Yu?Sw(r,e):function(o,l){const c=Tw(o,l),m=Db(c)+Db(o.Ae);return cg(c)&&cg(o.Ae)?bw(m):my(o.serializer,m)}(r,e)}function KO(r,e,t){return r instanceof Ku?ww(r,e):r instanceof Yu?Sw(r,e):t}function Tw(r,e){return r instanceof Of?function(s){return cg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class $u extends rd{}class Ku extends rd{constructor(e){super(),this.elements=e}}function ww(r,e){const t=Aw(e);for(const s of r.elements)t.some(o=>Xr(o,s))||t.push(s);return{arrayValue:{values:t}}}class Yu extends rd{constructor(e){super(),this.elements=e}}function Sw(r,e){let t=Aw(e);for(const s of r.elements)t=t.filter(o=>!Xr(o,s));return{arrayValue:{values:t}}}class Of extends rd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Db(r){return It(r.integerValue||r.doubleValue)}function Aw(r){return cy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,t){this.field=e,this.transform=t}}function XO(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ku&&o instanceof Ku||s instanceof Yu&&o instanceof Yu?tl(s.elements,o.elements,Xr):s instanceof Of&&o instanceof Of?Xr(s.Ae,o.Ae):s instanceof $u&&o instanceof $u}(r.transform,e.transform)}class QO{constructor(e,t){this.version=e,this.transformResults=t}}class Di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class id{}function Rw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Cw(r.key,Di.none()):new oc(r.key,r.data,Di.none());{const t=r.data,s=cr.empty();let o=new Bt(an.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Ja(r.key,s,new wr(o.toArray()),Di.none())}}function WO(r,e,t){r instanceof oc?function(o,l,c){const m=o.value.clone(),p=Mb(o.fieldTransforms,l,c.transformResults);m.setAll(p),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(r,e,t):r instanceof Ja?function(o,l,c){if(!ff(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=Mb(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(xw(o)),p.setAll(m),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ku(r,e,t,s){return r instanceof oc?function(l,c,m,p){if(!ff(l.precondition,c))return m;const g=l.value.clone(),v=Pb(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ja?function(l,c,m,p){if(!ff(l.precondition,c))return m;const g=Pb(l.fieldTransforms,p,c),v=c.data;return v.setAll(xw(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(r,e,t,s):function(l,c,m){return ff(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(r,e,t)}function JO(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=Tw(s.transform,o||null);l!=null&&(t===null&&(t=cr.empty()),t.set(s.field,l))}return t||null}function kb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&tl(s,o,(l,c)=>XO(l,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class oc extends id{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ja extends id{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Mb(r,e,t){const s=new Map;We(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,KO(c,m,t[o]))}return s}function Pb(r,e,t){const s=new Map;for(const o of r){const l=o.transform,c=t.data.field(o.field);s.set(o.field,$O(l,c,e))}return s}class Cw extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZO extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&WO(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ku(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ku(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Ew();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(o.key)?null:m;const p=Rw(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(t,s)=>kb(t,s))&&tl(this.baseMutations,e.baseMutations,(t,s)=>kb(t,s))}}class py{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return BO}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new py(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,qe;function rD(r){switch(r){case le.OK:return Ae(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function Iw(r){if(r===void 0)return Vi("GRPC error has no .code"),le.UNKNOWN;switch(r){case Lt.OK:return le.OK;case Lt.CANCELLED:return le.CANCELLED;case Lt.UNKNOWN:return le.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return le.INTERNAL;case Lt.UNAVAILABLE:return le.UNAVAILABLE;case Lt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Lt.NOT_FOUND:return le.NOT_FOUND;case Lt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Lt.ABORTED:return le.ABORTED;case Lt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Lt.DATA_LOSS:return le.DATA_LOSS;default:return Ae(39323,{code:r})}}(qe=Lt||(Lt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new qs([4294967295,4294967295],0);function Lb(r){const e=iD().encode(r),t=new G1;return t.update(e),new Uint8Array(t.digest())}function Vb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new qs([t,s],0),new qs([o,l],0)]}class gy{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Au(`Invalid padding: ${t}`);if(s<0)throw new Au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Au(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=qs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(qs.fromNumber(s)));return o.compare(sD)===1&&(o=new qs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Lb(e),[s,o]=Vb(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new gy(l,o,t);return s.forEach(m=>c.insert(m)),c}insert(e){if(this.ge===0)return;const t=Lb(e),[s,o]=Vb(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new sd(xe.min(),o,new _t(ze),Ui(),Be())}}class lc{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new lc(s,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class Nw{constructor(e,t){this.targetId=e,this.Ce=t}}class Ow{constructor(e,t,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Ub{constructor(){this.ve=0,this.Fe=jb(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),s=Be();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:l})}}),new lc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=jb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ui(),this.Je=Qh(),this.He=Qh(),this.Ye=new _t(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(fg(l))if(s===0){const c=new Te(l.path);this.et(t,c,mn.newNoDocument(c,xe.min()))}else We(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,m;try{c=Ys(s).toUint8Array()}catch(p){if(p instanceof nw)return el("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new gy(c,o,l)}catch(p){return el(p instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const m=this.ot(c);if(m){if(l.current&&fg(m.target)){const p=new Te(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,mn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let s=Be();this.He.forEach((l,c)=>{let m=!0;c.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const o=new sd(e,t,this.Ye,this.je,s);return this.je=Ui(),this.Je=Qh(),this.He=Qh(),this.Ye=new _t(ze),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ub,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Bt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Bt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ub),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Qh(){return new _t(Te.comparator)}function jb(){return new _t(Te.comparator)}const oD={asc:"ASCENDING",desc:"DESCENDING"},lD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uD={and:"AND",or:"OR"};class cD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function mg(r,e){return r.useProto3Json||Jf(e)?e:{value:e}}function Df(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function hD(r,e){return Df(r,e.toTimestamp())}function Gr(r){return We(!!r,49232),xe.fromTimestamp(function(t){const s=Ks(t);return new ft(s.seconds,s.nanos)}(r))}function yy(r,e){return pg(r,e).canonicalString()}function pg(r,e){const t=function(o){return new yt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function kw(r){const e=yt.fromString(r);return We(Uw(e),10190,{key:e.toString()}),e}function gg(r,e){return yy(r.databaseId,e.path)}function Vp(r,e){const t=kw(e);if(t.get(1)!==r.databaseId.projectId)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ve(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(Pw(t))}function Mw(r,e){return yy(r.databaseId,e)}function fD(r){const e=kw(r);return e.length===4?yt.emptyPath():Pw(e)}function yg(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Pw(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zb(r,e,t){return{name:gg(r,e),fields:t.value.mapValue.fields}}function dD(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(We(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(g){const v=g.code===void 0?le.UNKNOWN:Iw(g.code);return new ve(v,g.message||"")}(c);t=new Ow(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vp(r,s.document.name),l=Gr(s.document.updateTime),c=s.document.createTime?Gr(s.document.createTime):xe.min(),m=new cr({mapValue:{fields:s.document.fields}}),p=mn.newFoundDocument(o,l,c,m),g=s.targetIds||[],v=s.removedTargetIds||[];t=new df(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vp(r,s.document),l=s.readTime?Gr(s.readTime):xe.min(),c=mn.newNoDocument(o,l),m=s.removedTargetIds||[];t=new df([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vp(r,s.document),l=s.removedTargetIds||[];t=new df([],l,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new nD(o,l),m=s.targetId;t=new Nw(m,c)}}return t}function mD(r,e){let t;if(e instanceof oc)t={update:zb(r,e.key,e.value)};else if(e instanceof Cw)t={delete:gg(r,e.key)};else if(e instanceof Ja)t={update:zb(r,e.key,e.data),updateMask:wD(e.fieldMask)};else{if(!(e instanceof ZO))return Ae(16599,{Vt:e.type});t={verify:gg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const m=c.transform;if(m instanceof $u)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Yu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Of)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:hD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(r,e.precondition)),t}function pD(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map(t=>function(o,l){let c=o.updateTime?Gr(o.updateTime):Gr(l);return c.isEqual(xe.min())&&(c=Gr(l)),new QO(c,o.transformResults||[])}(t,e))):[]}function gD(r,e){return{documents:[Mw(r,e.path)]}}function yD(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Mw(r,o);const l=function(g){if(g.length!==0)return Vw(Qr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:$o(w.field),direction:ED(w.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=mg(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function _D(r){let e=fD(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const w=Lw(b);return w instanceof Qr&&fw(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(w=>function(M){return new Nf(Ko(M.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(b){let w;return w=typeof b=="object"?b.value:b,Jf(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,O=b.values||[];return new If(O,w)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const w=!b.before,O=b.values||[];return new If(O,w)}(t.endAt)),PO(e,o,c,l,m,"F",p,g)}function vD(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Lw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ko(t.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ko(t.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ko(t.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ko(t.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(r):r.fieldFilter!==void 0?function(t){return zt.create(Ko(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Qr.create(t.compositeFilter.filters.map(s=>Lw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(r):Ae(30097,{filter:r})}function ED(r){return oD[r]}function bD(r){return lD[r]}function TD(r){return uD[r]}function $o(r){return{fieldPath:r.canonicalString()}}function Ko(r){return an.fromServerFormat(r.fieldPath)}function Vw(r){return r instanceof zt?function(t){if(t.op==="=="){if(xb(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NAN"}};if(Rb(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(xb(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NAN"}};if(Rb(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(t.field),op:bD(t.op),value:t.value}}}(r):r instanceof Qr?function(t){const s=t.getFilters().map(o=>Vw(o));return s.length===1?s[0]:{compositeFilter:{op:TD(t.op),filters:s}}}(r):Ae(54877,{filter:r})}function wD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Uw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t,s,o,l=xe.min(),c=xe.min(),m=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.yt=e}}function AD(r){const e=_D({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.Cn=new xD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve($s.min())}updateCollectionGroup(e,t,s){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class xD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Bt(yt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jw=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(jw,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="LruGarbageCollector",CD=1048576;function qb([r,e],[t,s]){const o=ze(r,t);return o===0?ze(e,s):o}class ID{constructor(e){this.Ir=e,this.buffer=new Bt(qb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();qb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ND{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Hb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ml(t)?de(Hb,"Ignoring IndexedDB error during garbage collection: ",t):await dl(t)}await this.Vr(3e5)})}}class OD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(Wf.ce);const s=new ID(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Bb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,c,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),Fo()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b})))}}function DD(r,e){return new OD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.changes=new Wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ae.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ku(s.mutation,o,wr.empty(),ft.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Be()){const o=Pa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let c=Su();return l.forEach((m,p)=>{c=c.insert(m,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=Pa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Be()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,s,o){let l=Ui();const c=Du(),m=function(){return Du()}();return t.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ja)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),ku(v.mutation,g,v.mutation.getFieldMask(),ft.now())):c.set(g.key,wr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>m.set(g,new MD(v,c.get(g)??null))),m))}recalculateAndSaveOverlays(e,t){const s=Du();let o=new _t((c,m)=>c-m),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||wr.empty();v=m.applyToLocalView(g,v),s.set(p,v);const b=(o.get(m.batchId)||Be()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=Ew();v.forEach(w=>{if(!l.has(w)){const O=Rw(t.get(w),s.get(w));O!==null&&b.set(w,O),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ae.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):LO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ae.resolve(Pa());let m=Hu,p=l;return c.next(g=>ae.forEach(g,(v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Be())).next(v=>({batchId:m,changes:vw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=Su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=Su();return this.indexManager.getCollectionParents(e,l).next(m=>ae.forEach(m,p=>{const g=function(b,w){return new ed(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((b,w)=>{c=c.insert(b,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(c=>{l.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,mn.newInvalidDocument(v)))});let m=Su();return c.forEach((p,g)=>{const v=l.get(p);v!==void 0&&ku(v.mutation,g,wr.empty(),ft.now()),nd(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Gr(o.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:AD(o.bundledQuery),readTime:Gr(o.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.overlays=new _t(Te.comparator),this.qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Pa();return ae.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.St(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,t,s){const o=Pa(),l=t.length+1,c=new Te(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new _t((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Pa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Pa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ae.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new tD(t,s));let l=this.qr.get(t);l===void 0&&(l=Be(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.Qr=new Bt(Yt.$r),this.Ur=new Bt(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Yt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Yt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new Te(new yt([])),s=new Yt(t,e),o=new Yt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new yt([])),s=new Yt(t,e),o=new Yt(t,e+1);let l=Be();return this.Ur.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Yt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Yt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Yt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new eD(l,t,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Yt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?ly:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Yt(t,0),o=new Yt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],c=>{const m=this.Xr(c.Yr);l.push(m)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Bt(ze);return t.forEach(o=>{const l=new Yt(o,0),c=new Yt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],m=>{s=s.add(m.Yr)})}),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Te.isDocumentKey(l)||(l=l.child(""));const c=new Yt(new Te(l),0);let m=new Bt(ze);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},c),ae.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(t.mutations,o=>{const l=new Yt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Yt(t,0),o=this.Zr.firstAfterOrEqual(s);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.ri=e,this.docs=function(){return new _t(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ae.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let s=Ui();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():mn.newInvalidDocument(o))}),ae.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Ui();const c=t.path,m=new Te(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||dO(fO(v),s)<=0||(o.has(v.key)||nd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}ii(e,t){return ae.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new BD(this)}getSize(e){return ae.resolve(this.size)}}class BD extends kD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.persistence=e,this.si=new Wa(t=>hy(t),fy),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new _y,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new il(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Pr(t),ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(l).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ae.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ae.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ae.resolve(s)}containsKey(e,t){return ae.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wf(0),this.li=!1,this.li=!0,this.hi=new UD,this.referenceDelegate=e(this),this.Pi=new HD(this),this.indexManager=new RD,this.remoteDocumentCache=function(o){return new zD(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new SD(t),this.Ii=new LD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new jD(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new qD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return ae.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class qD extends pO{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Ri=new _y,this.Vi=null}static mi(e){return new vy(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,s=>{const o=Te.fromPath(s);return this.gi(e,o).next(l=>{l||t.removeEntry(o,xe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class kf{constructor(e,t){this.persistence=e,this.pi=new Wa(s=>_O(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=DD(this,t)}static mi(e,t){return new kf(e,t)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ae.forEach(this.pi,(s,o)=>this.br(e,s,o).next(l=>l?ae.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,t).next(m=>{m||(s++,l.removeEntry(c,xe.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cf(e.data.value)),t}br(e,t,s){return ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ae.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Be(),o=Be();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ey(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return EC()?8:gO(pn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new FD;return this.Ss(e,t,c).next(m=>{if(l.result=m,this.Vs)return this.bs(e,t,c,m.size)})}).next(()=>l.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(Fo()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Fo()<=je.DEBUG&&de("QueryEngine","Query:",Go(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Fo()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):ae.resolve())}ys(e,t){if(Ob(t))return ae.resolve(null);let s=Fr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=dg(t,null,"F"),s=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Be(...l);return this.ps.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(t,m);return this.Cs(t,g,c,p.readTime)?this.ys(e,dg(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,s,o){return Ob(t)||o.isEqual(xe.min())?ae.resolve(null):this.ps.getDocuments(e,s).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,o)?ae.resolve(null):(Fo()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Go(t)),this.vs(e,c,t,hO(o,Hu)).next(m=>m))})}Ds(e,t){let s=new Bt(yw(e));return t.forEach((o,l)=>{nd(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return Fo()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Go(t)),this.ps.getDocumentsMatchingQuery(e,t,$s.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="LocalStore",$D=3e8;class KD{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new _t(ze),this.xs=new Wa(l=>hy(l),fy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function YD(r,e,t,s){return new KD(r,e,t,s)}async function Bw(r,e){const t=Ne(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],m=[];let p=Be();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:c,addedBatchIds:m}))})})}function XD(r,e){const t=Ne(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const b=g.batch,w=b.keys();let O=ae.resolve();return w.forEach(M=>{O=O.next(()=>v.getEntry(p,M)).next(D=>{const k=g.docVersions.get(M);We(k!==null,48541),D.version.compareTo(k)<0&&(b.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Be();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Hw(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function QD(r,e){const t=Ne(r),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((v,b)=>{const w=o.get(b);if(!w)return;m.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.Pi.addMatchingKeys(l,v.addedDocuments,b)));let O=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(on.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(b,O),function(D,k,P){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=$D?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(w,O,v)&&m.push(t.Pi.updateTargetData(l,O))});let p=Ui(),g=Be();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),m.push(WD(l,c,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!s.isEqual(xe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next(b=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(v)}return ae.waitFor(m).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ms=o,l))}function WD(r,e,t){let s=Be(),o=Be();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let c=Ui();return t.forEach((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):de(by,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:c,qs:o}})}function JD(r,e){const t=Ne(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ly),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ZD(r,e){const t=Ne(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(l=>l?(o=l,ae.resolve(o)):t.Pi.allocateTargetId(s).next(c=>(o=new js(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function _g(r,e,t){const s=Ne(r),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!ml(c))throw c;de(by,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Fb(r,e,t){const s=Ne(r);let o=xe.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const b=Ne(p),w=b.xs.get(v);return w!==void 0?ae.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,v)}(s,c,Fr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next(p=>{l=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:xe.min(),t?l:Be())).next(m=>(ek(s,UO(e),m),{documents:m,Qs:l})))}function ek(r,e,t){let s=r.Os.get(e)||xe.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Os.set(e,s)}class Gb{constructor(){this.activeTargetIds=FO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tk{constructor(){this.Mo=new Gb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="ConnectivityMonitor";class Kb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de($b,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de($b,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh=null;function vg(){return Wh===null?Wh=function(){return 268435456+Math.round(2147483648*Math.random())}():Wh++,"0x"+Wh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="RestConnection",rk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ik{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===xf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const c=vg(),m=this.zo(e,t.toUriEncodedString());de(Up,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(m),v=Js(g);return this.Jo(e,m,p,s,v).then(b=>(de(Up,`Received RPC '${e}' ${c}: `,b),b),b=>{throw el(Up,`RPC '${e}' ${c} failed with error: `,b,"url: ",m,"request:",s),b})}Ho(e,t,s,o,l,c){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const s=rk[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class ak extends ik{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const c=vg();return new Promise((m,p)=>{const g=new $1;g.setWithCredentials(!0),g.listenOnce(K1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case uf.NO_ERROR:const b=g.getResponseJson();de(hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),m(b);break;case uf.TIMEOUT:de(hn,`RPC '${e}' ${c} timed out`),p(new ve(le.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const w=g.getStatus();if(de(hn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const M=O?.error;if(M&&M.status&&M.message){const D=function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(H)>=0?H:le.UNKNOWN}(M.status);p(new ve(D,M.message))}else p(new ve(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(le.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(hn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);de(hn,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",v,s,15)})}T_(e,t,s){const o=vg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Q1(),m=X1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=l.join("");de(hn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=c.createWebChannel(v,p);this.I_(b);let w=!1,O=!1;const M=new sk({Yo:k=>{O?de(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(w||(de(hn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),de(hn,`RPC '${e}' stream ${o} sending:`,k),b.send(k))},Zo:()=>b.close()}),D=(k,P,H)=>{k.listen(P,F=>{try{H(F)}catch(ne){setTimeout(()=>{throw ne},0)}})};return D(b,wu.EventType.OPEN,()=>{O||(de(hn,`RPC '${e}' stream ${o} transport opened.`),M.o_())}),D(b,wu.EventType.CLOSE,()=>{O||(O=!0,de(hn,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(b))}),D(b,wu.EventType.ERROR,k=>{O||(O=!0,el(hn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),M.a_(new ve(le.UNAVAILABLE,"The operation could not be completed")))}),D(b,wu.EventType.MESSAGE,k=>{if(!O){const P=k.data[0];We(!!P,16349);const H=P,F=H?.error||H[0]?.error;if(F){de(hn,`RPC '${e}' stream ${o} received error:`,F);const ne=F.status;let $=function(A){const I=Lt[A];if(I!==void 0)return Iw(I)}(ne),te=F.message;$===void 0&&($=le.INTERNAL,te="Unknown error status: "+ne+" with message "+F.message),O=!0,M.a_(new ve($,te)),b.close()}else de(hn,`RPC '${e}' stream ${o} received:`,P),M.u_(P)}}),D(m,Y1.STAT_EVENT,k=>{k.stat===og.PROXY?de(hn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===og.NOPROXY&&de(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.__()},0),M}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(r){return new cD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="PersistentStream";class Fw{constructor(e,t,s,o,l,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new ve(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(Yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(de(Yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ok extends Fw{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=dD(this.serializer,e),s=function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?Gr(c.readTime):xe.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=yg(this.serializer),t.addTarget=function(l,c){let m;const p=c.target;if(m=fg(p)?{documents:gD(l,p)}:{query:yD(l,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Dw(l,c.resumeToken);const g=mg(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(xe.min())>0){m.readTime=Df(l,c.snapshotVersion.toTimestamp());const g=mg(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=vD(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=yg(this.serializer),t.removeTarget=e,this.q_(t)}}class lk extends Fw{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=pD(e.writeResults,e.commitTime),s=Gr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=yg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>mD(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{}class ck extends uk{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,pg(t,s),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(le.UNKNOWN,l.toString())})}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.Ho(e,pg(t,s),o,c,m,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(le.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class hk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vi(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="RemoteStore";class fk{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{Za(this)&&(de(qa,"Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.Ea.add(4),await uc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await od(g)}(this))})}),this.Ra=new hk(s,o)}}async function od(r){if(Za(r))for(const e of r.da)await e(!0)}async function uc(r){for(const e of r.da)await e(!1)}function Gw(r,e){const t=Ne(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ay(t)?Sy(t):pl(t).O_()&&wy(t,e))}function Ty(r,e){const t=Ne(r),s=pl(t);t.Ia.delete(e),s.O_()&&$w(t,e),t.Ia.size===0&&(s.O_()?s.L_():Za(t)&&t.Ra.set("Unknown"))}function wy(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pl(r).Y_(e)}function $w(r,e){r.Va.Ue(e),pl(r).Z_(e)}function Sy(r){r.Va=new aD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),pl(r).start(),r.Ra.ua()}function Ay(r){return Za(r)&&!pl(r).x_()&&r.Ia.size>0}function Za(r){return Ne(r).Ea.size===0}function Kw(r){r.Va=void 0}async function dk(r){r.Ra.set("Online")}async function mk(r){r.Ia.forEach((e,t)=>{wy(r,e)})}async function pk(r,e){Kw(r),Ay(r)?(r.Ra.ha(e),Sy(r)):r.Ra.set("Unknown")}async function gk(r,e,t){if(r.Ra.set("Online"),e instanceof Ow&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){de(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mf(r,s)}else if(e instanceof df?r.Va.Ze(e):e instanceof Nw?r.Va.st(e):r.Va.tt(e),!t.isEqual(xe.min()))try{const s=await Hw(r.localStore);t.compareTo(s)>=0&&await function(l,c){const m=l.Va.Tt(c);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}}),m.targetMismatches.forEach((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),$w(l,p);const b=new js(v.target,p,g,v.sequenceNumber);wy(l,b)}),l.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){de(qa,"Failed to raise snapshot:",s),await Mf(r,s)}}async function Mf(r,e,t){if(!ml(e))throw e;r.Ea.add(1),await uc(r),r.Ra.set("Offline"),t||(t=()=>Hw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{de(qa,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await od(r)})}function Yw(r,e){return e().catch(t=>Mf(r,t,e))}async function ld(r){const e=Ne(r),t=Qs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ly;for(;yk(e);)try{const o=await JD(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,_k(e,o)}catch(o){await Mf(e,o)}Xw(e)&&Qw(e)}function yk(r){return Za(r)&&r.Ta.length<10}function _k(r,e){r.Ta.push(e);const t=Qs(r);t.O_()&&t.X_&&t.ea(e.mutations)}function Xw(r){return Za(r)&&!Qs(r).x_()&&r.Ta.length>0}function Qw(r){Qs(r).start()}async function vk(r){Qs(r).ra()}async function Ek(r){const e=Qs(r);for(const t of r.Ta)e.ea(t.mutations)}async function bk(r,e,t){const s=r.Ta.shift(),o=py.from(s,e,t);await Yw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ld(r)}async function Tk(r,e){e&&Qs(r).X_&&await async function(s,o){if(function(c){return rD(c)&&c!==le.ABORTED}(o.code)){const l=s.Ta.shift();Qs(s).B_(),await Yw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await ld(s)}}(r,e),Xw(r)&&Qw(r)}async function Xb(r,e){const t=Ne(r);t.asyncQueue.verifyOperationInProgress(),de(qa,"RemoteStore received new credentials");const s=Za(t);t.Ea.add(3),await uc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await od(t)}async function wk(r,e){const t=Ne(r);e?(t.Ea.delete(2),await od(t)):e||(t.Ea.add(2),await uc(t),t.Ra.set("Unknown"))}function pl(r){return r.ma||(r.ma=function(t,s,o){const l=Ne(t);return l.sa(),new ok(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Xo:dk.bind(null,r),t_:mk.bind(null,r),r_:pk.bind(null,r),H_:gk.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Ay(r)?Sy(r):r.Ra.set("Unknown")):(await r.ma.stop(),Kw(r))})),r.ma}function Qs(r){return r.fa||(r.fa=function(t,s,o){const l=Ne(t);return l.sa(),new lk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:vk.bind(null,r),r_:Tk.bind(null,r),ta:Ek.bind(null,r),na:bk.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await ld(r)):(await r.fa.stop(),r.Ta.length>0&&(de(qa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,m=new Ry(e,t,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(r,e){if(Vi("AsyncQueue",`${e}: ${r}`),ml(r))return new ve(le.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=Su(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Jo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.ga=new _t(Te.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class sl{constructor(e,t,s,o,l,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new sl(e,t,Jo.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ak{constructor(){this.queries=Wb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ne(t),l=o.queries;o.queries=Wb(),l.forEach((c,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ve(le.ABORTED,"Firestore shutting down"))}}function Wb(){return new Wa(r=>gw(r),td)}async function Rk(r,e){const t=Ne(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new Sk,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=xy(c,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Cy(t)}async function xk(r,e){const t=Ne(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function Ck(r,e){const t=Ne(r);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&Cy(t)}function Ik(r,e,t){const s=Ne(r),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Cy(r){r.Ca.forEach(e=>{e.next()})}var Eg,Jb;(Jb=Eg||(Eg={})).Ma="default",Jb.Cache="cache";class Nk{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new sl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.key=e}}class Jw{constructor(e){this.key=e}}class Ok{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=yw(e),this.tu=new Jo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Qb,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,b)=>{const w=o.get(v),O=nd(this.query,b)?b:null,M=!!w&&this.mutatedKeys.has(w.key),D=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;w&&O?w.data.isEqual(O.data)?M!==D&&(s.track({type:3,doc:O}),k=!0):this.su(w,O)||(s.track({type:2,doc:O}),k=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),k=!0):w&&!O&&(s.track({type:1,doc:w}),k=!0,(p||g)&&(m=!0)),k&&(O?(c=c.add(O),l=D?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((v,b)=>function(O,M){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:k})}};return D(O)-D(M)}(v.type,b.type)||this.eu(v.doc,b.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new sl(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new Jw(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new Ww(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Iy="SyncEngine";class Dk{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class kk{constructor(e){this.key=e,this.hu=!1}}class Mk{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Wa(m=>gw(m),td),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Te.comparator),this.Au=new Map,this.Ru=new _y,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Pk(r,e,t=!0){const s=iS(r);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Zw(s,e,t,!0),o}async function Lk(r,e){const t=iS(r);await Zw(t,e,!0,!1)}async function Zw(r,e,t,s){const o=await ZD(r.localStore,Fr(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await Vk(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&Gw(r.remoteStore,o),m}async function Vk(r,e,t,s,o){r.pu=(b,w,O)=>async function(D,k,P,H){let F=k.view.ru(P);F.Cs&&(F=await Fb(D.localStore,k.query,!1).then(({documents:R})=>k.view.ru(R,F)));const ne=H&&H.targetChanges.get(k.targetId),$=H&&H.targetMismatches.get(k.targetId)!=null,te=k.view.applyChanges(F,D.isPrimaryClient,ne,$);return eT(D,k.targetId,te.au),te.snapshot}(r,b,w,O);const l=await Fb(r.localStore,e,!0),c=new Ok(e,l.Qs),m=c.ru(l.documents),p=lc.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=c.applyChanges(m,r.isPrimaryClient,p);eT(r,t,g.au);const v=new Dk(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function Uk(r,e,t){const s=Ne(r),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter(c=>!td(c,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await _g(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Ty(s.remoteStore,o.targetId),bg(s,o.targetId)}).catch(dl)):(bg(s,o.targetId),await _g(s.localStore,o.targetId,!0))}async function jk(r,e){const t=Ne(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Ty(t.remoteStore,s.targetId))}async function zk(r,e,t){const s=Kk(r);try{const o=await function(c,m){const p=Ne(c),g=ft.now(),v=m.reduce((O,M)=>O.add(M.key),Be());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=Ui(),D=Be();return p.Ns.getEntries(O,v).next(k=>{M=k,M.forEach((P,H)=>{H.isValidDocument()||(D=D.add(P))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,M)).next(k=>{b=k;const P=[];for(const H of m){const F=JO(H,b.get(H.key).overlayedDocument);F!=null&&P.push(new Ja(H.key,F,uw(F.value.mapValue),Di.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,P,m)}).next(k=>{w=k;const P=k.applyToLocalDocumentSet(b,D);return p.documentOverlayCache.saveOverlays(O,k.batchId,P)})}).then(()=>({batchId:w.batchId,changes:vw(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(ze)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g}(s,o.batchId,t),await cc(s,o.changes),await ld(s.remoteStore)}catch(o){const l=xy(o,"Failed to persist write");t.reject(l)}}async function eS(r,e){const t=Ne(r);try{const s=await QD(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Au.get(l);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?We(c.hu,14607):o.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))}),await cc(t,s,e)}catch(s){await dl(s)}}function Zb(r,e,t){const s=Ne(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((l,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(c,m){const p=Ne(c);p.onlineState=m;let g=!1;p.queries.forEach((v,b)=>{for(const w of b.Sa)w.va(m)&&(g=!0)}),g&&Cy(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Bk(r,e,t){const s=Ne(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new _t(Te.comparator);c=c.insert(l,mn.newNoDocument(l,xe.min()));const m=Be().add(l),p=new sd(xe.min(),new Map,new _t(ze),c,m);await eS(s,p),s.du=s.du.remove(l),s.Au.delete(e),Ny(s)}else await _g(s.localStore,e,!1).then(()=>bg(s,e,t)).catch(dl)}async function Hk(r,e){const t=Ne(r),s=e.batch.batchId;try{const o=await XD(t.localStore,e);nS(t,s,null),tS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await cc(t,o)}catch(o){await dl(o)}}async function qk(r,e,t){const s=Ne(r);try{const o=await function(c,m){const p=Ne(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(We(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);nS(s,e,t),tS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await cc(s,o)}catch(o){await dl(o)}}function tS(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function nS(r,e,t){const s=Ne(r);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function bg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||rS(r,s)})}function rS(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Ty(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Ny(r))}function eT(r,e,t){for(const s of t)s instanceof Ww?(r.Ru.addReference(s.key,e),Fk(r,s)):s instanceof Jw?(de(Iy,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||rS(r,s.key)):Ae(19791,{wu:s})}function Fk(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(de(Iy,"New document in limbo: "+t),r.Eu.add(s),Ny(r))}function Ny(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Te(yt.fromString(e)),s=r.fu.next();r.Au.set(s,new kk(t)),r.du=r.du.insert(t,s),Gw(r.remoteStore,new js(Fr(dy(t.path)),s,"TargetPurposeLimboResolution",Wf.ce))}}async function cc(r,e,t){const s=Ne(r),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{c.push(s.pu(p,e,t).then(g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Ey.As(p.targetId,g);l.push(v)}}))}),await Promise.all(c),s.Pu.H_(o),await async function(p,g){const v=Ne(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ae.forEach(g,w=>ae.forEach(w.Es,O=>v.persistence.referenceDelegate.addReference(b,w.targetId,O)).next(()=>ae.forEach(w.ds,O=>v.persistence.referenceDelegate.removeReference(b,w.targetId,O)))))}catch(b){if(!ml(b))throw b;de(by,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const O=v.Ms.get(w),M=O.snapshotVersion,D=O.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(w,D)}}}(s.localStore,l))}async function Gk(r,e){const t=Ne(r);if(!t.currentUser.isEqual(e)){de(Iy,"User change. New user:",e.toKey());const s=await Bw(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(m=>{m.forEach(p=>{p.reject(new ve(le.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cc(t,s.Ls)}}function $k(r,e){const t=Ne(r),s=t.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function iS(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=eS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$k.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bk.bind(null,e),e.Pu.H_=Ck.bind(null,e.eventManager),e.Pu.yu=Ik.bind(null,e.eventManager),e}function Kk(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qk.bind(null,e),e}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return YD(this.persistence,new GD,e.initialUser,this.serializer)}Cu(e){return new zw(vy.mi,this.serializer)}Du(e){return new tk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class Yk extends Pf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof kf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ND(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new zw(s=>kf.mi(s,t),this.serializer)}}class Tg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Zb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gk.bind(null,this.syncEngine),await wk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ak}()}createDatastore(e){const t=ad(e.databaseInfo.databaseId),s=function(l){return new ak(l)}(e.databaseInfo);return function(l,c,m,p){return new ck(l,c,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,c,m){return new fk(s,o,l,c,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Zb(this.syncEngine,t,0),function(){return Kb.v()?new Kb:new nk}())}createSyncEngine(e,t){return function(o,l,c,m,p,g,v){const b=new Mk(o,l,c,m,p,g);return v&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ne(t);de(qa,"RemoteStore shutting down."),s.Ea.add(5),await uc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tg.provider={build:()=>new Tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class Qk{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{de(Ws,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(de(Ws,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=xy(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zp(r,e){r.asyncQueue.verifyOperationInProgress(),de(Ws,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Bw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function tT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Wk(r);de(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>Xb(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Xb(e.remoteStore,o)),r._onlineComponents=e}async function Wk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(Ws,"Using user provided OfflineComponentProvider");try{await zp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),await zp(r,new Pf)}}else de(Ws,"Using default OfflineComponentProvider"),await zp(r,new Yk(void 0));return r._offlineComponents}async function sS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(Ws,"Using user provided OnlineComponentProvider"),await tT(r,r._uninitializedComponentsProvider._online)):(de(Ws,"Using default OnlineComponentProvider"),await tT(r,new Tg))),r._onlineComponents}function Jk(r){return sS(r).then(e=>e.syncEngine)}async function Zk(r){const e=await sS(r),t=e.eventManager;return t.onListen=Pk.bind(null,e.syncEngine),t.onUnlisten=Uk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Lk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jk.bind(null,e.syncEngine),t}function e3(r,e,t={}){const s=new Fs;return r.asyncQueue.enqueueAndForget(async()=>function(l,c,m,p,g){const v=new Xk({next:w=>{v.Nu(),c.enqueueAndForget(()=>xk(l,b));const O=w.docs.has(m);!O&&w.fromCache?g.reject(new ve(le.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&p&&p.source==="server"?g.reject(new ve(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new Nk(dy(m.path),v,{includeMetadataChanges:!0,qa:!0});return Rk(l,b)}(await Zk(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firestore.googleapis.com",rT=!0;class iT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oS,this.ssl=rT}else this.host=e.host,this.ssl=e.ssl??rT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CD)throw new ve(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oy{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Z4;switch(s.type){case"firstParty":return new rO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=nT.get(t);s&&(de("ComponentProvider","Removing Datastore"),nT.delete(t),s.terminate())}(this),Promise.resolve()}}function t3(r,e,t,s={}){r=Bu(r,Oy);const o=Js(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;o&&($g(`https://${m}`),Kg("Firestore",!0)),l.host!==oS&&l.host!==m&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:o,emulatorOptions:s};if(!ja(p,c)&&(r._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=dn.MOCK_USER;else{g=a1(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ve(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(b)}r._authCredentials=new eO(new J1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dy(this.firestore,e,this._query)}}class Xt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(ac(t,Xt._jsonSchema))return new Xt(e,s||null,new Te(yt.fromString(t.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:Ut("string",Xt._jsonSchemaVersion),referencePath:Ut("string")};class Xu extends Dy{constructor(e,t,s){super(e,t,dy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Te(e))}withConverter(e){return new Xu(this.firestore,e,this._path)}}function wg(r,e,...t){if(r=Ht(r),arguments.length===1&&(e=ay.newId()),uO("doc","path",e),r instanceof Oy){const s=yt.fromString(e,...t);return _b(s),new Xt(r,null,new Te(s))}{if(!(r instanceof Xt||r instanceof Xu))throw new ve(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(yt.fromString(e,...t));return _b(s),new Xt(r.firestore,r instanceof Xu?r.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="AsyncQueue";class aT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qw(this,"async_queue_retry"),this._c=()=>{const s=jp();s&&de(sT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=jp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Fs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;de(sT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Vi("INTERNAL UNHANDLED ERROR: ",oT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ry.createAndSchedule(this,e,t,s,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:oT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function oT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ky extends Oy{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new aT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aT(e),this._firestoreClient=void 0,await e}}}function n3(r,e){const t=typeof r=="object"?r:Qg(),s=typeof r=="string"?r:xf,o=$f(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=r1("firestore");l&&t3(o,...l)}return o}function lS(r){if(r._terminated)throw new ve(le.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||r3(r),r._firestoreClient}function r3(r){const e=r._freezeSettings(),t=function(o,l,c,m){return new bO(o,l,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,aS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Qk(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hr(on.fromBase64String(e))}catch(t){throw new ve(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hr(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ac(e,hr._jsonSchema))return hr.fromBase64String(e.bytes)}}hr._jsonSchemaVersion="firestore/bytes/1.0",hr._jsonSchema={type:Ut("string",hr._jsonSchemaVersion),bytes:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$r._jsonSchemaVersion}}static fromJSON(e){if(ac(e,$r._jsonSchema))return new $r(e.latitude,e.longitude)}}$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:Ut("string",$r._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ac(e,Kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Kr(e.vectorValues);throw new ve(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kr._jsonSchemaVersion="firestore/vectorValue/1.0",Kr._jsonSchema={type:Ut("string",Kr._jsonSchemaVersion),vectorValues:Ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=/^__.*__$/;class s3{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,t,this.fieldTransforms):new oc(e,this.data,t,this.fieldTransforms)}}function uS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:r})}}class Ly{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ly({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uS(this.Ac)&&i3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class a3{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||ad(e)}Cc(e,t,s,o=!1){return new Ly({Ac:e,methodName:t,Dc:s,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o3(r){const e=r._freezeSettings(),t=ad(r._databaseId);return new a3(r._databaseId,!!e.ignoreUndefinedProperties,t)}function l3(r,e,t,s,o,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);dS("Data must be an object, but it was:",c,s);const m=hS(s,c);let p,g;if(l.merge)p=new wr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const w=u3(e,b,t);if(!c.contains(w))throw new ve(le.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);h3(v,w)||v.push(w)}p=new wr(v),g=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=c.fieldTransforms;return new s3(new cr(m),p,g)}class Vy extends Py{_toFieldTransform(e){return new YO(e.path,new $u)}isEqual(e){return e instanceof Vy}}function cS(r,e){if(fS(r=Ht(r)))return dS("Unsupported field value:",e,r),hS(r,e);if(r instanceof Py)return function(s,o){if(!uS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const m of s){let p=cS(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(r,e)}return function(s,o){if((s=Ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ft.fromDate(s);return{timestampValue:Df(o.serializer,l)}}if(s instanceof ft){const l=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Df(o.serializer,l)}}if(s instanceof $r)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hr)return{bytesValue:Dw(o.serializer,s._byteString)};if(s instanceof Xt){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Kr)return function(c,m){return{mapValue:{fields:{[ow]:{stringValue:lw},[Cf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return my(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${oy(s)}`)}(r,e)}function hS(r,e){const t={};return tw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(r,(s,o)=>{const l=cS(o,e.mc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function fS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ft||r instanceof $r||r instanceof hr||r instanceof Xt||r instanceof Py||r instanceof Kr)}function dS(r,e,t){if(!fS(t)||!Z1(t)){const s=oy(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function u3(r,e,t){if((e=Ht(e))instanceof My)return e._internalPath;if(typeof e=="string")return mS(r,e);throw Lf("Field path arguments must be of type string or ",r,!1,void 0,t)}const c3=new RegExp("[~\\*/\\[\\]]");function mS(r,e,t){if(e.search(c3)>=0)throw Lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new My(...e.split("."))._internalPath}catch{throw Lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Lf(r,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ve(le.INVALID_ARGUMENT,m+r+p)}function h3(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class f3 extends pS{data(){return super.data()}}function gS(r,e){return typeof e=="string"?mS(r,e):e instanceof My?e._internalPath:e._delegate._internalPath}class d3{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Qa(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){const t=e.fields?.[Cf].arrayValue?.values?.map(s=>It(s.doubleValue));return new Kr(t)}convertGeoPoint(e){return new $r(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Zf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){const t=Ks(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=yt.fromString(e);We(Uw(s),9688,{name:e});const o=new Fu(s.get(1),s.get(3)),l=new Te(s.popFirst(5));return o.isEqual(t)||Vi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends pS{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(gS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=La._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:Ut("string",La._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class mf extends La{data(e={}){return super.data(e)}}class Mu{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ru(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new mf(this._firestore,this._userDataWriter,s.key,s,new Ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(m=>{const p=new mf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const p=new mf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ru(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:p3(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ay.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p3(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(r){r=Bu(r,Xt);const e=Bu(r.firestore,ky);return e3(lS(e),r._key).then(t=>v3(e,r,t))}Mu._jsonSchemaVersion="firestore/querySnapshot/1.0",Mu._jsonSchema={type:Ut("string",Mu._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class g3 extends d3{constructor(e){super(),this.firestore=e}convertBytes(e){return new hr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}function y3(r,e,t){r=Bu(r,Xt);const s=Bu(r.firestore,ky),o=m3(r.converter,e,t);return _3(s,[l3(o3(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Di.none())])}function _3(r,e){return function(s,o){const l=new Fs;return s.asyncQueue.enqueueAndForget(async()=>zk(await Jk(s),o,l)),l.promise}(lS(r),e)}function v3(r,e,t){const s=t.docs.get(e._key),o=new g3(r);return new La(r,o,e._key,s,new Ru(t.hasPendingWrites,t.fromCache),e.converter)}function E3(){return new Vy("serverTimestamp")}(function(e,t=!0){(function(o){fl=o})(Ya),za(new Gs("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new ky(new tO(s.getProvider("auth-internal")),new iO(c,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(g.options.projectId,v)}(c,o),c);return l={useFetchStreams:t,...l},m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Br(mb,pb,e),Br(mb,pb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="firebasestorage.googleapis.com",vS="storageBucket",b3=2*60*1e3,T3=10*60*1e3,w3=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends Jr{constructor(e,t,s=0){super(Bp(e),`Firebase Storage: ${t} (${Bp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function Bp(r){return"storage/"+r}function Uy(){const r="An unknown error occurred, please check the error payload for server response.";return new vt(dt.UNKNOWN,r)}function S3(r){return new vt(dt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function A3(r){return new vt(dt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function R3(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(dt.UNAUTHENTICATED,r)}function x3(){return new vt(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function C3(r){return new vt(dt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function ES(){return new vt(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bS(){return new vt(dt.CANCELED,"User canceled the upload/download.")}function I3(r){return new vt(dt.INVALID_URL,"Invalid URL '"+r+"'.")}function N3(r){return new vt(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function O3(){return new vt(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vS+"' property when initializing the app?")}function TS(){return new vt(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function D3(){return new vt(dt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function k3(){return new vt(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function M3(r){return new vt(dt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sg(r){return new vt(dt.INVALID_ARGUMENT,r)}function wS(){return new vt(dt.APP_DELETED,"The Firebase app was deleted.")}function P3(r){return new vt(dt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pu(r,e){return new vt(dt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Eu(r){throw new vt(dt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=wn.makeFromUrl(e,t)}catch{return new wn(e,"")}if(s.path==="")return s;throw N3(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(ne){ne.path_=decodeURIComponent(ne.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${b}/${v}/b/${o}/o${w}`,"i"),M={bucket:1,path:3},D=t===_S?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",P=new RegExp(`^https?://${D}/${o}/${k}`,"i"),F=[{regex:m,indices:p,postModify:l},{regex:O,indices:M,postModify:g},{regex:P,indices:{bucket:1,path:2},postModify:g}];for(let ne=0;ne<F.length;ne++){const $=F[ne],te=$.regex.exec(e);if(te){const R=te[$.indices.bucket];let A=te[$.indices.path];A||(A=""),s=new wn(R,A),$.postModify(s);break}}if(s==null)throw I3(e);return s}}class L3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(r,e,t){let s=1,o=null,l=null,c=!1,m=0;function p(){return m===2}let g=!1;function v(...k){g||(g=!0,e.apply(null,k))}function b(k){o=setTimeout(()=>{o=null,r(O,p())},k)}function w(){l&&clearTimeout(l)}function O(k,...P){if(g){w();return}if(k){w(),v.call(null,k,...P);return}if(p()||c){w(),v.call(null,k,...P);return}s<64&&(s*=2);let F;m===1?(m=2,F=0):F=(s+Math.random())*1e3,b(F)}let M=!1;function D(k){M||(M=!0,w(),!g&&(o!==null?(k||(m=2),clearTimeout(o),b(0)):k||(m=1)))}return b(0),l=setTimeout(()=>{c=!0,D(!0)},t),D}function U3(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(r){return r!==void 0}function z3(r){return typeof r=="function"}function B3(r){return typeof r=="object"&&!Array.isArray(r)}function ud(r){return typeof r=="string"||r instanceof String}function lT(r){return jy()&&r instanceof Blob}function jy(){return typeof Blob<"u"}function Ag(r,e,t,s){if(s<e)throw Sg(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Sg(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function SS(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Va;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Va||(Va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,t,s,o,l,c,m,p,g,v,b,w=!0,O=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,D)=>{this.resolve_=M,this.reject_=D,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Jh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const m=l.getErrorCode()===Va.NO_ERROR,p=l.getStatus();if(!m||AS(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Va.ABORT;s(!1,new Jh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Jh(g,l))})},t=(s,o)=>{const l=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());j3(p)?l(p):l()}catch(p){c(p)}else if(m!==null){const p=Uy();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?wS():bS();c(p)}else{const p=ES();c(p)}};this.canceled_?t(!1,new Jh(!1,null,!0)):this.backoffId_=V3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&U3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Jh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function q3(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function F3(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function G3(r,e){e&&(r["X-Firebase-GMPID"]=e)}function $3(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function K3(r,e,t,s,o,l,c=!0,m=!1){const p=SS(r.urlParams),g=r.url+p,v=Object.assign({},r.headers);return G3(v,e),q3(v,t),F3(v,l),$3(v,s),new H3(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function X3(...r){const e=Y3();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(jy())return new Blob(r);throw new vt(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Q3(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(r){if(typeof atob>"u")throw M3("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hp{constructor(e,t){this.data=e,this.contentType=t||null}}function J3(r,e){switch(r){case zr.RAW:return new Hp(RS(e));case zr.BASE64:case zr.BASE64URL:return new Hp(xS(r,e));case zr.DATA_URL:return new Hp(eM(e),tM(e))}throw Uy()}function RS(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=r.charCodeAt(++t);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Z3(r){let e;try{e=decodeURIComponent(r)}catch{throw Pu(zr.DATA_URL,"Malformed data URL.")}return RS(e)}function xS(r,e){switch(r){case zr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Pu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case zr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Pu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=W3(e)}catch(o){throw o.message.includes("polyfill")?o:Pu(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class CS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Pu(zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=nM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function eM(r){const e=new CS(r);return e.base64?xS(zr.BASE64,e.rest):Z3(e.rest)}function tM(r){return new CS(r).contentType}function nM(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){let s=0,o="";lT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(lT(this.data_)){const s=this.data_,o=Q3(s,e,t);return o===null?null:new Ls(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Ls(s,!0)}}static getBlob(...e){if(jy()){const t=e.map(s=>s instanceof Ls?s.data_:s);return new Ls(X3.apply(null,t))}else{const t=e.map(c=>ud(c)?J3(zr.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(c=>{for(let m=0;m<c.length;m++)o[l++]=c[m]}),new Ls(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(r){let e;try{e=JSON.parse(r)}catch{return null}return B3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function iM(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function IS(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(r,e){return e}class Tn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||sM}}let Zh=null;function aM(r){return!ud(r)||r.length<2?r:IS(r)}function NS(){if(Zh)return Zh;const r=[];r.push(new Tn("bucket")),r.push(new Tn("generation")),r.push(new Tn("metageneration")),r.push(new Tn("name","fullPath",!0));function e(l,c){return aM(c)}const t=new Tn("name");t.xform=e,r.push(t);function s(l,c){return c!==void 0?Number(c):c}const o=new Tn("size");return o.xform=s,r.push(o),r.push(new Tn("timeCreated")),r.push(new Tn("updated")),r.push(new Tn("md5Hash",null,!0)),r.push(new Tn("cacheControl",null,!0)),r.push(new Tn("contentDisposition",null,!0)),r.push(new Tn("contentEncoding",null,!0)),r.push(new Tn("contentLanguage",null,!0)),r.push(new Tn("contentType",null,!0)),r.push(new Tn("metadata","customMetadata",!0)),Zh=r,Zh}function oM(r,e){function t(){const s=r.bucket,o=r.fullPath,l=new wn(s,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function lM(r,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];s[c.local]=c.xform(s,e[c.server])}return oM(s,r),s}function OS(r,e,t){const s=zy(e);return s===null?null:lM(r,s,t)}function uM(r,e,t,s){const o=zy(e);if(o===null||!ud(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const v=r.bucket,b=r.fullPath,w="/b/"+c(v)+"/o/"+c(b),O=eo(w,t,s),M=SS({alt:"media",token:g});return O+M})[0]}function DS(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="prefixes",cT="items";function cM(r,e,t){const s={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[uT])for(const o of t[uT]){const l=o.replace(/\/$/,""),c=r._makeStorageReference(new wn(e,l));s.prefixes.push(c)}if(t[cT])for(const o of t[cT]){const l=r._makeStorageReference(new wn(e,o.name));s.items.push(l)}return s}function hM(r,e,t){const s=zy(t);return s===null?null:cM(r,e,s)}class ea{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(r){if(!r)throw Uy()}function By(r,e){function t(s,o){const l=OS(r,o,e);return Yr(l!==null),l}return t}function fM(r,e){function t(s,o){const l=hM(r,e,o);return Yr(l!==null),l}return t}function dM(r,e){function t(s,o){const l=OS(r,o,e);return Yr(l!==null),uM(l,o,r.host,r._protocol)}return t}function gl(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=x3():o=R3():t.getStatus()===402?o=A3(r.bucket):t.getStatus()===403?o=C3(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Hy(r){const e=gl(r);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=S3(r.path)),l.serverResponse=o.serverResponse,l}return t}function mM(r,e,t){const s=e.fullServerUrl(),o=eo(s,r.host,r._protocol),l="GET",c=r.maxOperationRetryTime,m=new ea(o,l,By(r,t),c);return m.errorHandler=Hy(e),m}function pM(r,e,t,s,o){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",t.length>0&&(l.delimiter=t),s&&(l.pageToken=s),o&&(l.maxResults=o);const c=e.bucketOnlyServerUrl(),m=eo(c,r.host,r._protocol),p="GET",g=r.maxOperationRetryTime,v=new ea(m,p,fM(r,e.bucket),g);return v.urlParams=l,v.errorHandler=gl(e),v}function gM(r,e,t){const s=e.fullServerUrl(),o=eo(s,r.host,r._protocol),l="GET",c=r.maxOperationRetryTime,m=new ea(o,l,dM(r,t),c);return m.errorHandler=Hy(e),m}function yM(r,e){const t=e.fullServerUrl(),s=eo(t,r.host,r._protocol),o="DELETE",l=r.maxOperationRetryTime;function c(p,g){}const m=new ea(s,o,c,l);return m.successCodes=[200,204],m.errorHandler=Hy(e),m}function _M(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function kS(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=_M(null,e)),s}function vM(r,e,t,s,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let F="";for(let ne=0;ne<2;ne++)F=F+Math.random().toString().slice(2);return F}const p=m();c["Content-Type"]="multipart/related; boundary="+p;const g=kS(e,s,o),v=DS(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",O=Ls.getBlob(b,s,w);if(O===null)throw TS();const M={name:g.fullPath},D=eo(l,r.host,r._protocol),k="POST",P=r.maxUploadRetryTime,H=new ea(D,k,By(r,t),P);return H.urlParams=M,H.headers=c,H.body=O.uploadData(),H.errorHandler=gl(e),H}class Vf{constructor(e,t,s,o){this.current=e,this.total=t,this.finalized=!!s,this.metadata=o||null}}function qy(r,e){let t=null;try{t=r.getResponseHeader("X-Goog-Upload-Status")}catch{Yr(!1)}return Yr(!!t&&(e||["active"]).indexOf(t)!==-1),t}function EM(r,e,t,s,o){const l=e.bucketOnlyServerUrl(),c=kS(e,s,o),m={name:c.fullPath},p=eo(l,r.host,r._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},b=DS(c,t),w=r.maxUploadRetryTime;function O(D){qy(D);let k;try{k=D.getResponseHeader("X-Goog-Upload-URL")}catch{Yr(!1)}return Yr(ud(k)),k}const M=new ea(p,g,O,w);return M.urlParams=m,M.headers=v,M.body=b,M.errorHandler=gl(e),M}function bM(r,e,t,s){const o={"X-Goog-Upload-Command":"query"};function l(g){const v=qy(g,["active","final"]);let b=null;try{b=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Yr(!1)}b||Yr(!1);const w=Number(b);return Yr(!isNaN(w)),new Vf(w,s.size(),v==="final")}const c="POST",m=r.maxUploadRetryTime,p=new ea(t,c,l,m);return p.headers=o,p.errorHandler=gl(e),p}const hT=256*1024;function TM(r,e,t,s,o,l,c,m){const p=new Vf(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw D3();const g=p.total-p.current;let v=g;o>0&&(v=Math.min(v,o));const b=p.current,w=b+v;let O="";v===0?O="finalize":g===v?O="upload, finalize":O="upload";const M={"X-Goog-Upload-Command":O,"X-Goog-Upload-Offset":`${p.current}`},D=s.slice(b,w);if(D===null)throw TS();function k(ne,$){const te=qy(ne,["active","final"]),R=p.current+v,A=s.size();let I;return te==="final"?I=By(e,l)(ne,$):I=null,new Vf(R,A,te==="final",I)}const P="POST",H=e.maxUploadRetryTime,F=new ea(t,P,k,H);return F.headers=M,F.body=D.uploadData(),F.progressCallback=m||null,F.errorHandler=gl(r),F}const Pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qp(r){switch(r){case"running":case"pausing":case"canceling":return Pn.RUNNING;case"paused":return Pn.PAUSED;case"success":return Pn.SUCCESS;case"canceled":return Pn.CANCELED;case"error":return Pn.ERROR;default:return Pn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,t,s){if(z3(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(r){return(...e)=>{Promise.resolve().then(()=>r(...e))}}class SM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Va.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Va.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Va.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,l){if(this.sent_)throw Eu("cannot .send() more than once");if(Js(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Eu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Eu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Eu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Eu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AM extends SM{initXhr(){this.xhr_.responseType="text"}}function Vs(){return new AM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=NS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(dt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(AS(o.status,[]))if(l)o=ES();else{this.sleepTime=Math.max(this.sleepTime*2,w3),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(dt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=EM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,Vs,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const o=bM(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(o,Vs,t,s);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=hT*this._chunkMultiplier,t=new Vf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,l)=>{let c;try{c=TM(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(c,Vs,o,l,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){hT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=mM(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,Vs,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=vM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,Vs,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=bS(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=qp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,o){const l=new wM(t||void 0,s||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(qp(this._state)){case Pn.SUCCESS:Ho(this._resolve.bind(null,this.snapshot))();break;case Pn.CANCELED:case Pn.ERROR:const t=this._reject;Ho(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(qp(this._state)){case Pn.RUNNING:case Pn.PAUSED:e.next&&Ho(e.next.bind(e,this.snapshot))();break;case Pn.SUCCESS:e.complete&&Ho(e.complete.bind(e))();break;case Pn.CANCELED:case Pn.ERROR:e.error&&Ho(e.error.bind(e,this._error))();break;default:e.error&&Ho(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t){this._service=e,t instanceof wn?this._location=t:this._location=wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Fa(e,t)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IS(this._location.path)}get storage(){return this._service}get parent(){const e=rM(this._location.path);if(e===null)return null;const t=new wn(this._location.bucket,e);return new Fa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw P3(e)}}function xM(r,e,t){return r._throwIfRoot("uploadBytesResumable"),new RM(r,new Ls(e),t)}function CM(r){const e={prefixes:[],items:[]};return MS(r,e).then(()=>e)}async function MS(r,e,t){const o=await IM(r,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await MS(r,e,o.nextPageToken)}function IM(r,e){e!=null&&typeof e.maxResults=="number"&&Ag("options.maxResults",1,1e3,e.maxResults);const t=e||{},s=pM(r.storage,r._location,"/",t.pageToken,t.maxResults);return r.storage.makeRequestWithTokens(s,Vs)}function NM(r){r._throwIfRoot("getDownloadURL");const e=gM(r.storage,r._location,NS());return r.storage.makeRequestWithTokens(e,Vs).then(t=>{if(t===null)throw k3();return t})}function OM(r){r._throwIfRoot("deleteObject");const e=yM(r.storage,r._location);return r.storage.makeRequestWithTokens(e,Vs)}function DM(r,e){const t=iM(r._location.path,e),s=new wn(r._location.bucket,t);return new Fa(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(r){return/^[A-Za-z]+:\/\//.test(r)}function MM(r,e){return new Fa(r,e)}function PS(r,e){if(r instanceof Fy){const t=r;if(t._bucket==null)throw O3();const s=new Fa(t,t._bucket);return e!=null?PS(s,e):s}else return e!==void 0?DM(r,e):r}function PM(r,e){if(e&&kM(e)){if(r instanceof Fy)return MM(r,e);throw Sg("To use ref(service, url), the first argument must be a Storage instance.")}else return PS(r,e)}function fT(r,e){const t=e?.[vS];return t==null?null:wn.makeFromBucketSpec(t,r)}function LM(r,e,t,s={}){r.host=`${e}:${t}`;const o=Js(e);o&&($g(`https://${r.host}/b`),Kg("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(r._overrideAuthToken=typeof l=="string"?l:a1(l,r.app.options.projectId))}class Fy{constructor(e,t,s,o,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=_S,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b3,this._maxUploadRetryTime=T3,this._requests=new Set,o!=null?this._bucket=wn.makeFromBucketSpec(o,this._host):this._bucket=fT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=fT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ag("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ag("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fa(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new L3(wS());{const c=K3(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const dT="@firebase/storage",mT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="storage";function VS(r,e,t){return r=Ht(r),xM(r,e,t)}function Gy(r){return r=Ht(r),CM(r)}function cd(r){return r=Ht(r),NM(r)}function VM(r){return r=Ht(r),OM(r)}function Qu(r,e){return r=Ht(r),PM(r,e)}function US(r=Qg(),e){r=Ht(r);const s=$f(r,LS).getImmediate({identifier:e}),o=r1("storage");return o&&UM(s,...o),s}function UM(r,e,t,s={}){LM(r,e,t,s)}function jM(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Fy(t,s,o,e,Ya)}function zM(){za(new Gs(LS,jM,"PUBLIC").setMultipleInstances(!0)),Br(dT,mT,""),Br(dT,mT,"esm2020")}zM();const BM={apiKey:"AIzaSyC7-csoZhhfuwiDUjT2bzg1vzjmDFdFOZ8",authDomain:"airbrushnink-9f735.firebaseapp.com",projectId:"airbrushnink-9f735",storageBucket:"airbrushnink-9f735.firebasestorage.app",messagingSenderId:"215988959144",appId:"1:215988959144:web:112df869e6d191c0970f9d"},$y=u1(BM),Ga=X4($y),Uf=US($y),Rg=n3($y),HM="1AWLkAfMGjgDSNik9bRsIWROGW73",qM="airbrushnink@gmail.com";function jS(r){return r?r.uid===HM||(r.email||"").toLowerCase().trim()===qM.toLowerCase().trim():!1}function FM({images:r=[],intervalMs:e=3e3}){const t=T.useMemo(()=>Array.isArray(r)?r.filter(Boolean):[],[r]),[s,o]=T.useState(0);return T.useEffect(()=>{o(0)},[t.length]),T.useEffect(()=>{if(t.length<=1)return;const l=setInterval(()=>{o(c=>(c+1)%t.length)},e);return()=>clearInterval(l)},[t.length,e]),t.length?C.jsxs("section",{className:"relative w-full h-[90vh] md:h-screen bg-black overflow-hidden",children:[t.map((l,c)=>C.jsx("img",{src:l,alt:`Hero Background ${c+1}`,width:"1920",height:"1080",loading:"eager",decoding:"async",fetchpriority:c===s?"high":"auto",className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${c===s?"opacity-40":"opacity-0"}`},`${l}-${c}`)),C.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-white text-center px-4",children:[C.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 sm:mb-4",children:"AIRBRUSH & INK"}),C.jsx("p",{className:"text-base sm:text-lg md:text-xl max-w-md sm:max-w-lg mb-6 sm:mb-8",children:"Unique visuals and layered detail in every piece. Explore the work."})]})]}):null}function GM(){return C.jsxs("section",{className:"text-white text-center mt-8 px-6 max-w-3xl mx-auto z-10 relative mb-8",children:[C.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-4",children:"Who Am I?"}),C.jsx("p",{className:"text-base sm:text-lg md:text-[1.1rem] leading-relaxed text-[#ddd]",children:"I'm not here to blend in  I'm here to create something that stops you in your tracks. Every piece I make is a mix of instinct, emotion, and obsession with detail. Whether it's airbrush, ink, or canvas, I bring raw ideas to life with color, contrast, and movement. Art isnt just what I do  its how I communicate when words fall short. If you're into bold visuals, clean lines, and work that tells a story, you're in the right place. Take a look around  youll see exactly what I mean."})]})}function pT({text:r,show:e}){const t=`
    absolute left-1/2 -translate-x-1/2 
    flex items-center justify-center 
    font-black tracking-[0.08em] uppercase 
    text-white/5 whitespace-nowrap 
    select-none pointer-events-none 
    z-[-1] transition-all duration-700 ease-in-out
  `,s=r==="& INK"?"top-[0%] sm:top-[1%] md:top-[8%] lg:top-[13%] -translate-y-1/2":r==="AIRBRUSH"?"top-1/2 -translate-y-1/2":"top-[5%]",o=r==="& INK"?"text-[33vw] sm:text-[25vw] md:text-[25vw] lg:text-[18vw]":r==="AIRBRUSH"?"text-[25vw] sm:text-[19vw] md:text-[18vw] lg:text-[17vw]":"text-[14vw] sm:text-[16vw] md:text-[18vw]",l=e?"opacity-100":"opacity-0";return C.jsx("div",{className:"absolute inset-0 w-full pointer-events-none z-[-1]",children:C.jsx("div",{className:`${t} ${s} ${o} ${l} max-w-full overflow-hidden text-center`,children:r})})}function $M({title:r,description:e,image:t,link:s,tag:o}){return C.jsxs(Ci,{to:s,className:"rounded-xl shadow-lg overflow-hidden transition-transform duration-300 transform hover:scale-[1.03] w-full max-w-[500px] flex flex-col bg-gradient-to-r from-black to-[#222]",children:[C.jsxs("div",{className:"relative",children:[o&&C.jsx("span",{className:"absolute top-2 left-2 bg-black text-white/10 text-xs px-2 py-1 rounded",children:o.toUpperCase()}),C.jsx("img",{src:t,alt:r,className:"w-full h-64 object-cover opacity-80"})]}),C.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[C.jsx("h3",{className:"text-white text-xl font-bold",children:r}),C.jsx("p",{className:"text-base text-gray-200 mt-2 mb-4 flex-grow leading-relaxed whitespace-pre-line",children:e}),"        ",C.jsx("div",{className:"pt-4 border-t border-gray-700 flex justify-center",children:C.jsx("span",{className:"text-md text-white font-semibold",children:"Portfolio"})})]})]})}function KM(){return C.jsx(Ci,{to:"/shop",className:"inline-block bg-gradient-to-r from-black to-zinc-800 text-white text-sm sm:text-base uppercase font-semibold tracking-wide sm:tracking-wider py-2.5 px-6 sm:py-3 sm:px-8 rounded-md transition duration-300 hover:from-zinc-900 hover:to-zinc-700 shadow-lg",children:"SHOP NOW"})}const YM=""+new URL("airbrushing-7dxen9Fw.jpg",import.meta.url).href,XM=""+new URL("ps-logo-CZrXkQ3k.jpg",import.meta.url).href,QM=""+new URL("iwata-CWVce5S4.webp",import.meta.url).href,WM=""+new URL("photoshop-DJXyx2_O.webp",import.meta.url).href,Lu={heroImages:[QM,WM],services:[{tag:"AIRBRUSH",title:"Custom Airbrush",description:"Every airbrush project is a story told in paint. Whether its a wild concept or something close to home, I create custom visuals that speak louder than words.",image:YM,link:"/portfolio/airbrush"},{tag:"DIGITAL",title:"Photoshop/Digital Art",description:`This is where creativity gets surgical. I use Photoshop to craft visuals that feel real  layered, emotional, and built to connect. Every pixel tells a story.

Have a special request or an image youd like transformed? Reach out through my contact page and lets bring your vision to life.`,image:XM,link:"/portfolio/photoshop"}]};function JM(){const[r,e]=T.useState(Lu),t=r.heroImages||[],s=T.useRef(null),o=T.useRef(null),[l,c]=T.useState(!1),[m,p]=T.useState(!1);return T.useEffect(()=>{let g=!0;return(async()=>{try{const v=await yS(wg(Rg,"siteContent","home"));if(!g)return;if(v.exists()){const b=v.data();e({heroImages:Array.isArray(b.heroImages)&&b.heroImages.length?b.heroImages:Lu.heroImages,services:Array.isArray(b.services)&&b.services.length?b.services:Lu.services})}}catch{}})(),()=>{g=!1}},[]),T.useEffect(()=>{if(!t.length)return;const g=setInterval(()=>{},5e3);return()=>clearInterval(g)},[t.length]),T.useEffect(()=>{const g=new IntersectionObserver(([b])=>c(b.isIntersecting),{threshold:.2}),v=s.current;return v&&g.observe(v),()=>v&&g.unobserve(v)},[]),T.useEffect(()=>{const g=new IntersectionObserver(([b])=>p(b.isIntersecting),{threshold:.05}),v=o.current;return v&&g.observe(v),()=>v&&g.unobserve(v)},[]),T.useEffect(()=>{sessionStorage.getItem("scrollToServices")&&(sessionStorage.removeItem("scrollToServices"),setTimeout(()=>{const b=document.getElementById("services");if(b){const O=b.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:O,behavior:"smooth"})}},500))},[]),C.jsxs("div",{className:"relative z-0",children:[t.length>0&&C.jsx(FM,{images:t,intervalMs:5e3}),C.jsxs("section",{className:"relative min-h-[30vh]",ref:s,children:[C.jsx(pT,{text:"AIRBRUSH",show:l}),C.jsx(GM,{})]}),C.jsx("section",{id:"services",className:"relative z-10 mt-[2vh] px-8 pt-5",children:C.jsx("div",{className:"flex flex-wrap justify-center gap-x-20 gap-y-12",children:r.services.map((g,v)=>C.jsx($M,{tag:g.tag,title:g.title,description:g.description,image:g.image,link:g.link},`${g.title}-${v}`))})}),C.jsxs("section",{ref:o,className:"relative flex flex-col items-center justify-center min-h-[20vh] overflow-hidden",children:[C.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 z-0 w-full text-center",children:C.jsx(pT,{text:"& INK",show:m})}),C.jsx("div",{className:"relative z-10 mt-4",children:C.jsx(KM,{})})]})]})}const zS="carousel",BS="controller",ZM="navigation",eP="no-scroll",Ky="portal",tP="root",HS="toolbar",Fp="loading",Gp="error",$p="complete",nP="placeholder",rP=r=>`active-slide-${r}`,qS="flex_center",iP="no_scroll",FS="no_scroll_padding",Yy="slide",sP="slide_wrapper",ka="prev",Ma="next",gT="swipe",al="close",GS="onPointerDown",$S="onPointerMove",KS="onPointerUp",YS="onPointerLeave",XS="onPointerCancel",QS="onKeyDown",aP="onKeyUp",WS="onWheel",oP="Escape",lP="ArrowLeft",uP="ArrowRight",cP="button",xg="icon",JS="contain",yT="cover",hP="Unknown action type",ZS="yarl__";function ki(...r){return[...r].filter(Boolean).join(" ")}function Qe(r){return`${ZS}${r}`}function Ln(r){return`--${ZS}${r}`}function hc(r,e){return`${r}${e?`_${e}`:""}`}function Xy(r){return e=>hc(r,e)}function ol(r,e){var t;return(t=r?.[e])!==null&&t!==void 0?t:e}function fP(r,e,t){return ol(r,"{index} of {total}").replace(/\{index}/g,`${Qy(t,e.length)+1}`).replace(/\{total}/g,`${e.length}`)}function eA(...r){return()=>{r.forEach(e=>{e()})}}function ta(r,e,t){return()=>{const s=T.useContext(t);if(!s)throw new Error(`${r} must be used within a ${e}.Provider`);return s}}function tA(){return typeof window<"u"}function dP(r,e=0){const t=10**e;return Math.round((r+Number.EPSILON)*t)/t}function nA(r){return r.type===void 0||r.type==="image"}function mP(r,e){return r.imageFit===yT||r.imageFit!==JS&&e===yT}function hd(r){return typeof r=="string"?Number.parseInt(r,10):r}function jf(r){if(typeof r=="number")return{pixel:r};if(typeof r=="string"){const e=hd(r);return r.endsWith("%")?{percent:e}:{pixel:e}}return{pixel:0}}function pP(r,e){const t=jf(e),s=t.percent!==void 0?r.width/100*t.percent:t.pixel;return{width:Math.max(r.width-2*s,0),height:Math.max(r.height-2*s,0)}}function Qy(r,e){return e>0?(r%e+e)%e:0}function rA(r){return r.length>0}function iA(r,e){return r[Qy(e,r.length)]}function Cg(r,e){return rA(r)?iA(r,e):void 0}function gP(r){return nA(r)?r.src:void 0}function yP(r,e,t=0){return Math.min(r.preload,Math.max(r.finite?e.length-1:Math.floor(e.length/2),t))}const _P=Number(T.version.split(".")[0])>=19;function vP(r){return{inert:_P?r:r?"":void 0}}function EP(r){r.scrollTop}const Ig={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[al]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:JS,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function to(r,e){return{name:r,component:e}}function Kt(r,e){return{module:r,children:e}}function sA(r,e,t){return r.module.name===e?t(r):r.children?[Kt(r.module,r.children.flatMap(s=>{var o;return(o=sA(s,e,t))!==null&&o!==void 0?o:[]}))]:[r]}function qo(r,e,t){return r.flatMap(s=>{var o;return(o=sA(s,e,t))!==null&&o!==void 0?o:[]})}function bP(r,e=[],t=[]){let s=r;const o=O=>{const M=[...s];for(;M.length>0;){const D=M.pop();if(D?.module.name===O)return!0;D?.children&&M.push(...D.children)}return!1},l=(O,M)=>{if(O===""){s=[Kt(M,s)];return}s=qo(s,O,D=>[Kt(M,[D])])},c=(O,M)=>{s=qo(s,O,D=>[Kt(D.module,[Kt(M,D.children)])])},m=(O,M,D)=>{s=qo(s,O,k=>{var P;return[Kt(k.module,[...D?[Kt(M)]:[],...(P=k.children)!==null&&P!==void 0?P:[],...D?[]:[Kt(M)]])]})},p=(O,M,D)=>{s=qo(s,O,k=>[...D?[Kt(M)]:[],k,...D?[]:[Kt(M)]])},g=O=>{c(BS,O)},v=(O,M)=>{s=qo(s,O,D=>[Kt(M,D.children)])},b=O=>{s=qo(s,O,M=>M.children)},w=O=>{t.push(O)};return e.forEach(O=>{O({contains:o,addParent:l,append:c,addChild:m,addSibling:p,addModule:g,replace:v,remove:b,augment:w})}),{config:s,augmentation:O=>t.reduce((M,D)=>D(M),O)}}const aA=T.createContext(null),oA=ta("useA11yContext","A11yContext",aA);function TP({children:r}){const[e,t]=T.useState(!1),[s,o]=T.useState(!1),l=T.useMemo(()=>({focusWithin:e,trackFocusWithin:(m,p)=>{const g=v=>b=>{var w;b.currentTarget.contains(b.relatedTarget)||t(v),(w=v?m:p)===null||w===void 0||w(b)};return{onFocus:g(!0),onBlur:g(!1)}},autoPlaying:s,setAutoPlaying:o}),[e,s]);return T.createElement(aA.Provider,{value:l},r)}const lA=T.createContext(null),Wy=ta("useDocument","DocumentContext",lA);function wP({nodeRef:r,children:e}){const t=T.useMemo(()=>{const s=l=>{var c;return((c=l||r.current)===null||c===void 0?void 0:c.ownerDocument)||document};return{getOwnerDocument:s,getOwnerWindow:l=>{var c;return((c=s(l))===null||c===void 0?void 0:c.defaultView)||window}}},[r]);return T.createElement(lA.Provider,{value:t},e)}const uA=T.createContext(null),fd=ta("useEvents","EventsContext",uA);function SP({children:r}){const[e]=T.useState({});T.useEffect(()=>()=>{Object.keys(e).forEach(s=>delete e[s])},[e]);const t=T.useMemo(()=>{const s=(c,m)=>{var p;(p=e[c])===null||p===void 0||p.splice(0,e[c].length,...e[c].filter(g=>g!==m))};return{publish:(...[c,m])=>{var p;(p=e[c])===null||p===void 0||p.forEach(g=>g(m))},subscribe:(c,m)=>(e[c]||(e[c]=[]),e[c].push(m),()=>s(c,m)),unsubscribe:s}},[e]);return T.createElement(uA.Provider,{value:t},r)}const cA=T.createContext(null),fc=ta("useLightboxProps","LightboxPropsContext",cA);function AP({children:r,...e}){return T.createElement(cA.Provider,{value:e},r)}const hA=T.createContext(null),dd=ta("useLightboxState","LightboxStateContext",hA),fA=T.createContext(null),RP=ta("useLightboxDispatch","LightboxDispatchContext",fA);function xP(r,e){switch(e.type){case"swipe":{const{slides:t}=r,s=e?.increment||0,o=r.globalIndex+s,l=Qy(o,t.length),c=Cg(t,l),m=s||e.duration!==void 0?{increment:s,duration:e.duration,easing:e.easing}:void 0;return{slides:t,currentIndex:l,globalIndex:o,currentSlide:c,animation:m}}case"update":return e.slides!==r.slides||e.index!==r.currentIndex?{slides:e.slides,currentIndex:e.index,globalIndex:e.index,currentSlide:Cg(e.slides,e.index)}:r;default:throw new Error(hP)}}function CP({slides:r,index:e,children:t}){const[s,o]=T.useReducer(xP,{slides:r,currentIndex:e,globalIndex:e,currentSlide:Cg(r,e)});T.useEffect(()=>{o({type:"update",slides:r,index:e})},[r,e]);const l=T.useMemo(()=>({...s,state:s,dispatch:o}),[s,o]);return T.createElement(fA.Provider,{value:o},T.createElement(hA.Provider,{value:l},t))}const dA=T.createContext(null),md=ta("useTimeouts","TimeoutsContext",dA);function IP({children:r}){const[e]=T.useState([]);T.useEffect(()=>()=>{e.forEach(s=>window.clearTimeout(s)),e.splice(0,e.length)},[e]);const t=T.useMemo(()=>{const s=c=>{e.splice(0,e.length,...e.filter(m=>m!==c))};return{setTimeout:(c,m)=>{const p=window.setTimeout(()=>{s(p),c()},m);return e.push(p),p},clearTimeout:c=>{c!==void 0&&(s(c),window.clearTimeout(c))}}},[e]);return T.createElement(dA.Provider,{value:t},r)}const mA=T.forwardRef(function({label:e,className:t,icon:s,renderIcon:o,onClick:l,style:c,...m},p){const{styles:g,labels:v}=fc(),b=ol(v,e);return T.createElement("button",{ref:p,type:"button",title:b,"aria-label":b,className:ki(Qe(cP),t),onClick:l,style:{...c,...g.button},...m},o?o():T.createElement(s,{className:Qe(xg),style:g.icon}))});function NP(r,e){const t=s=>T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...s},e);return t.displayName=r,t}function dc(r,e){return NP(r,T.createElement("g",{fill:"currentColor"},T.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),e))}const OP=dc("Close",T.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),DP=dc("Previous",T.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),kP=dc("Next",T.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),MP=dc("Loading",T.createElement(T.Fragment,null,Array.from({length:8}).map((r,e,t)=>T.createElement("line",{key:e,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/t.length*(e+1),transform:`rotate(${360/t.length*e}, 12, 12)`})))),PP=dc("Error",T.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),mc=tA()?T.useLayoutEffect:T.useEffect;function pA(){const[r,e]=T.useState(!1);return T.useEffect(()=>{var t,s;const o=(t=window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-reduced-motion: reduce)");e(o?.matches);const l=c=>e(c.matches);return(s=o?.addEventListener)===null||s===void 0||s.call(o,"change",l),()=>{var c;return(c=o?.removeEventListener)===null||c===void 0?void 0:c.call(o,"change",l)}},[]),r}function LP(r){let e=0,t=0,s=0;const l=window.getComputedStyle(r).transform.match(/matrix.*\((.+)\)/);if(l){const c=l[1].split(",").map(hd);c.length===6?(e=c[4],t=c[5]):c.length===16&&(e=c[12],t=c[13],s=c[14])}return{x:e,y:t,z:s}}function _T(r,e){const t=T.useRef(void 0),s=T.useRef(void 0),o=pA();return mc(()=>{var l,c,m;if(r.current&&t.current!==void 0&&!o){const{keyframes:p,duration:g,easing:v,onfinish:b}=e(t.current,r.current.getBoundingClientRect(),LP(r.current))||{};if(p&&g){(l=s.current)===null||l===void 0||l.cancel(),s.current=void 0;try{s.current=(m=(c=r.current).animate)===null||m===void 0?void 0:m.call(c,p,{duration:g,easing:v})}catch(w){console.error(w)}s.current&&(s.current.onfinish=()=>{s.current=void 0,b?.()})}}t.current=void 0}),{prepareAnimation:l=>{t.current=l},isAnimationPlaying:()=>{var l;return((l=s.current)===null||l===void 0?void 0:l.playState)==="running"}}}function gA(){const r=T.useRef(null),e=T.useRef(void 0),[t,s]=T.useState();return{setContainerRef:T.useCallback(l=>{r.current=l,e.current&&(e.current.disconnect(),e.current=void 0);const c=()=>{if(l){const m=window.getComputedStyle(l),p=g=>parseFloat(g)||0;s({width:Math.round(l.clientWidth-p(m.paddingLeft)-p(m.paddingRight)),height:Math.round(l.clientHeight-p(m.paddingTop)-p(m.paddingBottom))})}else s(void 0)};c(),l&&typeof ResizeObserver<"u"&&(e.current=new ResizeObserver(c),e.current.observe(l))},[]),containerRef:r,containerRect:t}}function pf(){const r=T.useRef(void 0),{setTimeout:e,clearTimeout:t}=md();return T.useCallback((s,o)=>{t(r.current),r.current=e(s,o>0?o:0)},[e,t])}function Vt(r){const e=T.useRef(r);return mc(()=>{e.current=r}),T.useCallback((...t)=>{var s;return(s=e.current)===null||s===void 0?void 0:s.call(e,...t)},[])}function vT(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function Ng(r,e){return T.useMemo(()=>r==null&&e==null?null:t=>{vT(r,t),vT(e,t)},[r,e])}function VP(r,e=!1){const t=T.useRef(!1);mc(()=>{e&&t.current&&(t.current=!1,r())},[e,r]);const s=T.useCallback(()=>{t.current=!0},[]),o=T.useCallback(()=>{t.current=!1},[]);return{onFocus:s,onBlur:o}}function Jy(){const[r,e]=T.useState(!1);return mc(()=>{e(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),r}function UP(){const[r]=T.useState({}),e=T.useCallback((o,l)=>{var c;(c=r[o])===null||c===void 0||c.forEach(m=>{l.isPropagationStopped()||m(l)})},[r]),t=T.useMemo(()=>({onPointerDown:o=>e(GS,o),onPointerMove:o=>e($S,o),onPointerUp:o=>e(KS,o),onPointerLeave:o=>e(YS,o),onPointerCancel:o=>e(XS,o),onKeyDown:o=>e(QS,o),onKeyUp:o=>e(aP,o),onWheel:o=>e(WS,o)}),[e]),s=T.useCallback((o,l)=>(r[o]||(r[o]=[]),r[o].unshift(l),()=>{const c=r[o];c&&c.splice(0,c.length,...c.filter(m=>m!==l))}),[r]);return{registerSensors:t,subscribeSensors:s}}function ET(r,e){const t=T.useRef(0),s=pf(),o=Vt((...l)=>{t.current=Date.now(),r(l)});return T.useCallback((...l)=>{s(()=>{o(l)},e-(Date.now()-t.current))},[e,o,s])}const Kp=Xy("slide"),Yp=Xy("slide_image");function jP({slide:r,offset:e,render:t,rect:s,imageFit:o,imageProps:l,onClick:c,onLoad:m,onError:p,style:g}){var v,b,w,O,M,D,k,P;const[H,F]=T.useState(Fp),{publish:ne}=fd(),{setTimeout:$}=md(),te=T.useRef(null);T.useEffect(()=>{e===0&&ne(rP(H))},[e,H,ne]);const R=Vt(W=>{("decode"in W?W.decode():Promise.resolve()).catch(()=>{}).then(()=>{W.parentNode&&(F($p),$(()=>{m?.(W)},0))})}),A=T.useCallback(W=>{te.current=W,W?.complete&&R(W)},[R]),I=T.useCallback(W=>{R(W.currentTarget)},[R]),L=Vt(()=>{F(Gp),p?.()}),V=mP(r,o),j=(W,ue)=>Number.isFinite(W)?W:ue,N=j(Math.max(...((b=(v=r.srcSet)===null||v===void 0?void 0:v.map(W=>W.width))!==null&&b!==void 0?b:[]).concat(r.width?[r.width]:[]).filter(Boolean)),((w=te.current)===null||w===void 0?void 0:w.naturalWidth)||0),_e=j(Math.max(...((M=(O=r.srcSet)===null||O===void 0?void 0:O.map(W=>W.height))!==null&&M!==void 0?M:[]).concat(r.height?[r.height]:[]).filter(Boolean)),((D=te.current)===null||D===void 0?void 0:D.naturalHeight)||0),pe=N&&_e?{maxWidth:`min(${N}px, 100%)`,maxHeight:`min(${_e}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},q=(k=r.srcSet)===null||k===void 0?void 0:k.sort((W,ue)=>W.width-ue.width).map(W=>`${W.src} ${W.width}w`).join(", "),Y=()=>s&&!V&&r.width&&r.height?s.height/r.height*r.width:Number.MAX_VALUE,oe=q&&s&&tA()?`${Math.round(Math.min(Y(),s.width))}px`:void 0,{style:ge,className:Re,...z}=l||{};return T.createElement(T.Fragment,null,T.createElement("img",{ref:A,onLoad:I,onError:L,onClick:c,draggable:!1,className:ki(Qe(Yp()),V&&Qe(Yp("cover")),H!==$p&&Qe(Yp("loading")),Re),style:{...pe,...g,...ge},...z,alt:(P=r.alt)!==null&&P!==void 0?P:"",sizes:oe,srcSet:q,src:r.src}),H!==$p&&T.createElement("div",{className:Qe(Kp(nP))},H===Fp&&(t?.iconLoading?t.iconLoading():T.createElement(MP,{className:ki(Qe(xg),Qe(Kp(Fp)))})),H===Gp&&(t?.iconError?t.iconError():T.createElement(PP,{className:ki(Qe(xg),Qe(Kp(Gp)))}))))}const zP=T.forwardRef(function({className:e,children:t,onFocus:s,onBlur:o,...l},c){const m=T.useRef(null),{trackFocusWithin:p}=oA();return T.createElement(wP,{nodeRef:m},T.createElement("div",{ref:Ng(c,m),className:ki(Qe("root"),e),...p(s,o),...l},t))});var fn;(function(r){r[r.NONE=0]="NONE",r[r.SWIPE=1]="SWIPE",r[r.PULL=2]="PULL",r[r.ANIMATION=3]="ANIMATION"})(fn||(fn={}));function BP(r,e,t,s,o){T.useEffect(()=>eA(r(GS,e),r($S,t),r(KS,s),r(YS,s),r(XS,s)),[r,e,t,s,o])}var br;(function(r){r[r.NONE=0]="NONE",r[r.SWIPE=1]="SWIPE",r[r.PULL=2]="PULL"})(br||(br={}));const Xp=30;function HP({disableSwipeNavigation:r,closeOnBackdropClick:e},t,s,o,l,c,m,p,g,v,b,w,O,M,D,k){const P=T.useRef(0),H=T.useRef([]),F=T.useRef(void 0),ne=T.useRef(0),$=T.useRef(br.NONE),te=T.useCallback(N=>{F.current===N.pointerId&&(F.current=void 0,$.current=br.NONE);const _e=H.current;_e.splice(0,_e.length,..._e.filter(pe=>pe.pointerId!==N.pointerId))},[]),R=T.useCallback(N=>{te(N),N.persist(),H.current.push(N)},[te]),A=T.useCallback(N=>H.current.find(({pointerId:_e})=>N.pointerId===_e),[]),I=Vt(N=>{R(N)}),L=(N,_e)=>b&&N>_e||v&&N<-_e,V=Vt(N=>{const _e=A(N);if(_e)if(F.current===N.pointerId){const pe=Date.now()-ne.current,q=P.current;$.current===br.SWIPE?Math.abs(q)>.3*o||Math.abs(q)>5&&pe<l?p(q,pe):g(q):$.current===br.PULL&&(L(q,2*Xp)?M(q,pe):D(q)),P.current=0,$.current=br.NONE}else{const{target:pe}=N;e&&pe instanceof HTMLElement&&pe===_e.target&&(pe.classList.contains(Qe(Yy))||pe.classList.contains(Qe(sP)))&&k()}te(N)}),j=Vt(N=>{const _e=A(N);if(_e){const pe=F.current===N.pointerId;if(N.buttons===0){pe&&P.current!==0?V(N):te(_e);return}const q=N.clientX-_e.clientX,Y=N.clientY-_e.clientY;if(F.current===void 0){const oe=ge=>{R(N),F.current=N.pointerId,ne.current=Date.now(),$.current=ge};Math.abs(q)>Math.abs(Y)&&Math.abs(q)>Xp&&s(q)?r||(oe(br.SWIPE),c()):Math.abs(Y)>Math.abs(q)&&L(Y,Xp)&&(oe(br.PULL),w())}else pe&&($.current===br.SWIPE?(P.current=q,m(q)):$.current===br.PULL&&(P.current=Y,O(Y)))}});BP(t,I,j,V)}function qP({preventDefaultWheelX:r,preventDefaultWheelY:e}){const t=T.useRef(null),s=Vt(o=>{const l=Math.abs(o.deltaX)>Math.abs(o.deltaY);(l&&r||!l&&e||o.ctrlKey)&&o.preventDefault()});return T.useCallback(o=>{var l;o?o.addEventListener("wheel",s,{passive:!1}):(l=t.current)===null||l===void 0||l.removeEventListener("wheel",s),t.current=o},[s])}function FP(r,e,t,s,o,l,c,m,p){const g=T.useRef(0),v=T.useRef(0),b=T.useRef(void 0),w=T.useRef(void 0),O=T.useRef(0),M=T.useRef(void 0),D=T.useRef(0),{setTimeout:k,clearTimeout:P}=md(),H=T.useCallback(()=>{b.current&&(P(b.current),b.current=void 0)},[P]),F=T.useCallback(()=>{w.current&&(P(w.current),w.current=void 0)},[P]),ne=Vt(()=>{r!==fn.SWIPE&&(g.current=0,D.current=0,H(),F())});T.useEffect(ne,[r,ne]);const $=Vt(R=>{w.current=void 0,g.current===R&&p(g.current)}),te=Vt(R=>{if(R.ctrlKey||Math.abs(R.deltaY)>Math.abs(R.deltaX))return;const A=I=>{O.current=I,P(M.current),M.current=I>0?k(()=>{O.current=0,M.current=void 0},300):void 0};if(r===fn.NONE){if(Math.abs(R.deltaX)<=1.2*Math.abs(O.current)){A(R.deltaX);return}if(!t(-R.deltaX))return;if(v.current+=R.deltaX,H(),Math.abs(v.current)>30)v.current=0,A(0),D.current=Date.now(),l();else{const I=v.current;b.current=k(()=>{b.current=void 0,I===v.current&&(v.current=0)},o)}}else if(r===fn.SWIPE){let I=g.current-R.deltaX;if(I=Math.min(Math.abs(I),s)*Math.sign(I),g.current=I,c(I),F(),Math.abs(I)>.2*s){A(R.deltaX),m(I,Date.now()-D.current);return}w.current=k(()=>$(I),2*o)}else A(R.deltaX)});T.useEffect(()=>e(WS,te),[e,te])}const bT=Xy("container"),yA=T.createContext(null),pc=ta("useController","ControllerContext",yA);function GP({children:r,...e}){var t;const{carousel:s,animation:o,controller:l,on:c,styles:m,render:p}=e,{closeOnPullUp:g,closeOnPullDown:v,preventDefaultWheelX:b,preventDefaultWheelY:w}=l,[O,M]=T.useState(),D=dd(),k=RP(),[P,H]=T.useState(fn.NONE),F=T.useRef(0),ne=T.useRef(0),$=T.useRef(1),{registerSensors:te,subscribeSensors:R}=UP(),{subscribe:A,publish:I}=fd(),L=pf(),V=pf(),j=pf(),{containerRef:N,setContainerRef:_e,containerRect:pe}=gA(),q=Ng(qP({preventDefaultWheelX:b,preventDefaultWheelY:w}),_e),Y=T.useRef(null),oe=Ng(Y,void 0),{getOwnerDocument:ge}=Wy(),Re=Jy(),z=he=>(Re?-1:1)*(typeof he=="number"?he:1),W=Vt(()=>{var he;return(he=N.current)===null||he===void 0?void 0:he.focus()}),ue=Vt(()=>e),fe=Vt(()=>D),be=T.useCallback(he=>I(ka,he),[I]),Ce=T.useCallback(he=>I(Ma,he),[I]),Oe=T.useCallback(()=>I(al),[I]),St=he=>!(s.finite&&(z(he)>0&&D.currentIndex===0||z(he)<0&&D.currentIndex===D.slides.length-1)),ot=he=>{var et;F.current=he,(et=N.current)===null||et===void 0||et.style.setProperty(Ln("swipe_offset"),`${Math.round(he)}px`)},An=he=>{var et,At;ne.current=he,$.current=(()=>{const lt=v&&he>0?he:g&&he<0?-he:0;return Math.min(Math.max(dP(1-lt/60*(1-.5),2),.5),1)})(),(et=N.current)===null||et===void 0||et.style.setProperty(Ln("pull_offset"),`${Math.round(he)}px`),(At=N.current)===null||At===void 0||At.style.setProperty(Ln("pull_opacity"),`${$.current}`)},{prepareAnimation:dr}=_T(Y,(he,et,At)=>{if(Y.current&&pe)return{keyframes:[{transform:`translate(0, ${he.rect.y-et.y+At.y}px)`,opacity:he.opacity},{transform:"translate(0, 0)",opacity:1}],duration:he.duration,easing:o.easing.fade}}),Rr=(he,et)=>{if(g||v){An(he);let At=0;Y.current&&(At=o.fade*(et?2:1),dr({rect:Y.current.getBoundingClientRect(),opacity:$.current,duration:At})),j(()=>{An(0),H(fn.NONE)},At),H(fn.ANIMATION),et||Oe()}},{prepareAnimation:Hi,isAnimationPlaying:Un}=_T(Y,(he,et,At)=>{var tt;if(Y.current&&pe&&(!((tt=D.animation)===null||tt===void 0)&&tt.duration)){const Qt=jf(s.spacing),lt=(Qt.percent?Qt.percent*pe.width/100:Qt.pixel)||0;return{keyframes:[{transform:`translate(${z(D.globalIndex-he.index)*(pe.width+lt)+he.rect.x-et.x+At.x}px, 0)`},{transform:"translate(0, 0)"}],duration:D.animation.duration,easing:D.animation.easing}}}),jn=Vt(he=>{var et,At;const tt=he.offset||0,Qt=tt?o.swipe:(et=o.navigation)!==null&&et!==void 0?et:o.swipe,lt=!tt&&!Un()?o.easing.navigation:o.easing.swipe;let{direction:gt}=he;const Rn=(At=he.count)!==null&&At!==void 0?At:1;let qi=fn.ANIMATION,ln=Qt*Rn;if(!gt){const zn=pe?.width,mr=he.duration||0,Nt=zn?Qt/zn*Math.abs(tt):Qt;Rn!==0?(mr<Nt?ln=ln/Nt*Math.max(mr,Nt/5):zn&&(ln=Qt/zn*(zn-Math.abs(tt))),gt=z(tt)>0?ka:Ma):ln=Qt/2}let ia=0;gt===ka?St(z(1))?ia=-Rn:(qi=fn.NONE,ln=Qt):gt===Ma&&(St(z(-1))?ia=Rn:(qi=fn.NONE,ln=Qt)),ln=Math.round(ln),V(()=>{ot(0),H(fn.NONE)},ln),Y.current&&Hi({rect:Y.current.getBoundingClientRect(),index:D.globalIndex}),H(qi),I(gT,{type:"swipe",increment:ia,duration:ln,easing:lt})});T.useEffect(()=>{var he,et;!((he=D.animation)===null||he===void 0)&&he.increment&&(!((et=D.animation)===null||et===void 0)&&et.duration)&&L(()=>k({type:"swipe",increment:0}),D.animation.duration)},[D.animation,k,L]);const Zr=[R,St,pe?.width||0,o.swipe,()=>H(fn.SWIPE),he=>ot(he),(he,et)=>jn({offset:he,duration:et,count:1}),he=>jn({offset:he,count:0})],yl=[()=>{v&&H(fn.PULL)},he=>An(he),he=>Rr(he),he=>Rr(he,!0)];HP(l,...Zr,g,v,...yl,Oe),FP(P,...Zr);const ra=Vt(()=>{l.focus&&ge().querySelector(`.${Qe(Ky)} .${Qe(bT())}`)&&W()});T.useEffect(ra,[ra]);const ei=Vt(()=>{var he;(he=c.view)===null||he===void 0||he.call(c,{index:D.currentIndex})});T.useEffect(ei,[D.globalIndex,ei]),T.useEffect(()=>eA(A(ka,he=>jn({direction:ka,...he})),A(Ma,he=>jn({direction:Ma,...he})),A(gT,he=>k(he))),[A,jn,k]);const ti=T.useMemo(()=>({prev:be,next:Ce,close:Oe,focus:W,slideRect:pe?pP(pe,s.padding):{width:0,height:0},containerRect:pe||{width:0,height:0},subscribeSensors:R,containerRef:N,setCarouselRef:oe,toolbarWidth:O,setToolbarWidth:M}),[be,Ce,Oe,W,R,pe,N,oe,O,M,s.padding]);return T.useImperativeHandle(l.ref,()=>({prev:be,next:Ce,close:Oe,focus:W,getLightboxProps:ue,getLightboxState:fe}),[be,Ce,Oe,W,ue,fe]),T.createElement("div",{ref:q,className:ki(Qe(bT()),Qe(qS)),style:{...P===fn.SWIPE?{[Ln("swipe_offset")]:`${Math.round(F.current)}px`}:null,...P===fn.PULL?{[Ln("pull_offset")]:`${Math.round(ne.current)}px`,[Ln("pull_opacity")]:`${$.current}`}:null,...l.touchAction!=="none"?{[Ln("controller_touch_action")]:l.touchAction}:null,...m.container},tabIndex:-1,...te},pe&&T.createElement(yA.Provider,{value:ti},r,(t=p.controls)===null||t===void 0?void 0:t.call(p)))}const $P=to(BS,GP);function Oa(r){return hc(zS,r)}function TT(r){return hc(Yy,r)}function KP({slide:r,offset:e}){const t=T.useRef(null),{currentIndex:s,slides:o}=dd(),{slideRect:l,focus:c}=pc(),{render:m,carousel:{imageFit:p,imageProps:g},on:{click:v},styles:{slide:b},labels:w}=fc(),{getOwnerDocument:O}=Wy(),M=e!==0;T.useEffect(()=>{var k;M&&(!((k=t.current)===null||k===void 0)&&k.contains(O().activeElement))&&c()},[M,c,O]);const D=()=>{var k,P,H,F;let ne=(k=m.slide)===null||k===void 0?void 0:k.call(m,{slide:r,offset:e,rect:l});return!ne&&nA(r)&&(ne=T.createElement(jP,{slide:r,offset:e,render:m,rect:l,imageFit:p,imageProps:g,onClick:M?void 0:()=>v?.({index:s})})),ne?T.createElement(T.Fragment,null,(P=m.slideHeader)===null||P===void 0?void 0:P.call(m,{slide:r}),((H=m.slideContainer)!==null&&H!==void 0?H:({children:$})=>$)({slide:r,children:ne}),(F=m.slideFooter)===null||F===void 0?void 0:F.call(m,{slide:r})):null};return T.createElement("div",{ref:t,className:ki(Qe(TT()),!M&&Qe(TT("current")),Qe(qS)),...vP(M),style:b,role:"group","aria-roledescription":ol(w,"Slide"),"aria-label":fP(w,o,s+e)},D())}function YP(){const r=fc().styles.slide;return T.createElement("div",{className:Qe(Yy),style:r})}function XP({carousel:r,labels:e}){const{slides:t,currentIndex:s,globalIndex:o}=dd(),{setCarouselRef:l}=pc(),{autoPlaying:c,focusWithin:m}=oA(),p=jf(r.spacing),g=jf(r.padding),v=yP(r,t,1),b=[];if(rA(t))for(let w=s-v;w<=s+v;w+=1){const O=iA(t,w),M=o-s+w,D=r.finite&&(w<0||w>t.length-1);b.push(D?{key:M}:{key:[`${M}`,gP(O)].filter(Boolean).join("|"),offset:w-s,slide:O})}return T.createElement("div",{ref:l,className:ki(Qe(Oa()),b.length>0&&Qe(Oa("with_slides"))),style:{[`${Ln(Oa("slides_count"))}`]:b.length,[`${Ln(Oa("spacing_px"))}`]:p.pixel||0,[`${Ln(Oa("spacing_percent"))}`]:p.percent||0,[`${Ln(Oa("padding_px"))}`]:g.pixel||0,[`${Ln(Oa("padding_percent"))}`]:g.percent||0},role:"region","aria-live":c&&!m?"off":"polite","aria-roledescription":ol(e,"Carousel"),"aria-label":ol(e,"Photo gallery")},b.map(({key:w,slide:O,offset:M})=>O?T.createElement(KP,{key:w,slide:O,offset:M}):T.createElement(YP,{key:w})))}const QP=to(zS,XP);function _A(){const{carousel:r}=fc(),{slides:e,currentIndex:t}=dd(),s=e.length===0||r.finite&&t===0,o=e.length===0||r.finite&&t===e.length-1;return{prevDisabled:s,nextDisabled:o}}function WP(r){var e;const t=Jy(),{publish:s}=fd(),{animation:o}=fc(),{prevDisabled:l,nextDisabled:c}=_A(),m=((e=o.navigation)!==null&&e!==void 0?e:o.swipe)/2,p=ET(()=>s(ka),m),g=ET(()=>s(Ma),m),v=Vt(b=>{switch(b.key){case oP:s(al);break;case lP:(t?c:l)||(t?g:p)();break;case uP:(t?l:c)||(t?p:g)();break}});T.useEffect(()=>r(QS,v),[r,v])}function wT({label:r,icon:e,renderIcon:t,action:s,onClick:o,disabled:l,style:c}){return T.createElement(mA,{label:r,icon:e,renderIcon:t,className:Qe(`navigation_${s}`),disabled:l,onClick:o,style:c,...VP(pc().focus,l)})}function JP({render:{buttonPrev:r,buttonNext:e,iconPrev:t,iconNext:s},styles:o}){const{prev:l,next:c,subscribeSensors:m}=pc(),{prevDisabled:p,nextDisabled:g}=_A();return WP(m),T.createElement(T.Fragment,null,r?r():T.createElement(wT,{label:"Previous",action:ka,icon:DP,renderIcon:t,style:o.navigationPrev,disabled:p,onClick:l}),e?e():T.createElement(wT,{label:"Next",action:Ma,icon:kP,renderIcon:s,style:o.navigationNext,disabled:g,onClick:c}))}const ZP=to(ZM,JP),ST=Qe(iP),e6=Qe(FS);function t6(r){return"style"in r}function AT(r,e,t){const s=window.getComputedStyle(r),o=t?"padding-left":"padding-right",l=t?s.paddingLeft:s.paddingRight,c=r.style.getPropertyValue(o);return r.style.setProperty(o,`${(hd(l)||0)+e}px`),()=>{c?r.style.setProperty(o,c):r.style.removeProperty(o)}}function n6({noScroll:{disabled:r},children:e}){const t=Jy(),{getOwnerDocument:s,getOwnerWindow:o}=Wy();return T.useEffect(()=>{if(r)return()=>{};const l=[],c=o(),{body:m,documentElement:p}=s(),g=Math.round(c.innerWidth-p.clientWidth);if(g>0){l.push(AT(m,g,t));const v=m.getElementsByTagName("*");for(let b=0;b<v.length;b+=1){const w=v[b];t6(w)&&c.getComputedStyle(w).getPropertyValue("position")==="fixed"&&!w.classList.contains(e6)&&l.push(AT(w,g,t))}}return m.classList.add(ST),()=>{m.classList.remove(ST),l.forEach(v=>v())}},[t,r,s,o]),T.createElement(T.Fragment,null,e)}const r6=to(eP,n6);function RT(r){return hc(Ky,r)}function xT(r,e,t){const s=r.getAttribute(e);return r.setAttribute(e,t),()=>{s?r.setAttribute(e,s):r.removeAttribute(e)}}function i6({children:r,animation:e,styles:t,className:s,on:o,portal:l,close:c,labels:m}){const[p,g]=T.useState(!1),[v,b]=T.useState(!1),w=T.useRef([]),O=T.useRef(null),{setTimeout:M}=md(),{subscribe:D}=fd(),P=pA()?0:e.fade;T.useEffect(()=>(g(!0),()=>{g(!1),b(!1)}),[]);const H=Vt(()=>{w.current.forEach(te=>te()),w.current=[]}),F=Vt(()=>{var te;b(!1),H(),(te=o.exiting)===null||te===void 0||te.call(o),M(()=>{var R;(R=o.exited)===null||R===void 0||R.call(o),c()},P)});T.useEffect(()=>D(al,F),[D,F]);const ne=Vt(te=>{var R,A,I;EP(te),b(!0),(R=o.entering)===null||R===void 0||R.call(o);const L=(I=(A=te.parentNode)===null||A===void 0?void 0:A.children)!==null&&I!==void 0?I:[];for(let V=0;V<L.length;V+=1){const j=L[V];["TEMPLATE","SCRIPT","STYLE"].indexOf(j.tagName)===-1&&j!==te&&(w.current.push(xT(j,"inert","")),w.current.push(xT(j,"aria-hidden","true")))}w.current.push(()=>{var V,j;(j=(V=O.current)===null||V===void 0?void 0:V.focus)===null||j===void 0||j.call(V)}),M(()=>{var V;(V=o.entered)===null||V===void 0||V.call(o)},P)}),$=T.useCallback(te=>{te?ne(te):H()},[ne,H]);return p?nC.createPortal(T.createElement(zP,{ref:$,className:ki(s,Qe(RT()),Qe(FS),v&&Qe(RT("open"))),"aria-modal":!0,role:"dialog","aria-label":ol(m,"Lightbox"),style:{...e.fade!==Ig.animation.fade?{[Ln("fade_animation_duration")]:`${P}ms`}:null,...e.easing.fade!==Ig.animation.easing.fade?{[Ln("fade_animation_timing_function")]:e.easing.fade}:null,...t.root},onFocus:te=>{O.current||(O.current=te.relatedTarget)}},r),l.root||document.body):null}const s6=to(Ky,i6);function a6({children:r}){return T.createElement(T.Fragment,null,r)}const o6=to(tP,a6);function l6(r){return hc(HS,r)}function u6({toolbar:{buttons:r},render:{buttonClose:e,iconClose:t},styles:s}){const{close:o,setToolbarWidth:l}=pc(),{setContainerRef:c,containerRect:m}=gA();mc(()=>{l(m?.width)},[l,m?.width]);const p=()=>e?e():T.createElement(mA,{key:al,label:"Close",icon:OP,renderIcon:t,onClick:o});return T.createElement("div",{ref:c,style:s.toolbar,className:Qe(l6())},r?.map(g=>g===al?p():g))}const c6=to(HS,u6);function vA(r,e){var t;return T.createElement(r.module.component,{key:r.module.name,...e},(t=r.children)===null||t===void 0?void 0:t.map(s=>vA(s,e)))}function h6(r,e={}){const{easing:t,...s}=r,{easing:o,...l}=e;return{easing:{...t,...o},...s,...l}}function EA({carousel:r,animation:e,render:t,toolbar:s,controller:o,noScroll:l,on:c,plugins:m,slides:p,index:g,...v}){const{animation:b,carousel:w,render:O,toolbar:M,controller:D,noScroll:k,on:P,slides:H,index:F,plugins:ne,...$}=Ig,{config:te,augmentation:R}=bP([Kt(s6,[Kt(r6,[Kt($P,[Kt(QP),Kt(c6),Kt(ZP)])])])],m||ne),A=R({animation:h6(b,e),carousel:{...w,...r},render:{...O,...t},toolbar:{...M,...s},controller:{...D,...o},noScroll:{...k,...l},on:{...P,...c},...$,...v});return A.open?T.createElement(AP,{...A},T.createElement(CP,{slides:p||H,index:hd(g||F)},T.createElement(IP,null,T.createElement(SP,null,T.createElement(TP,null,vA(Kt(o6,te),A)))))):null}function f6(r=""){return r.replace(/\.[^.]+$/,"")}function bA(r=""){const e=r.match(/\.([^.]+)$/);return e?e[1].toLowerCase():""}function d6(r=""){const e=bA(r);return["jpg","jpeg","png","webp"].includes(e)}async function CT(r){try{return await cd(r)}catch{return null}}function TA({folder:r,label:e}){const[t,s]=T.useState([]),[o,l]=T.useState(!1),[c,m]=T.useState(0),[p,g]=T.useState(!0);T.useEffect(()=>{let w=!0;return(async()=>{g(!0);try{const M=Qu(Uf,r),k=(await Gy(M)).items.filter($=>d6($.name)),P=new Map;for(const $ of k){const te=f6($.name),R=bA($.name);P.has(te)||P.set(te,{});const A=P.get(te);if(te.toLowerCase().endsWith("__thumb")){const I=te.replace(/__thumb$/,"");P.has(I)||P.set(I,{});const L=P.get(I);L.thumbRef=$;continue}R==="webp"&&(A.webpRef=$),(R==="jpg"||R==="jpeg")&&(A.jpgRef=$),R==="png"&&(A.pngRef=$)}const H=Array.from(P.keys()).filter($=>!$.endsWith("__thumb")).sort(($,te)=>$.localeCompare(te)),ne=(await Promise.all(H.map(async($,te)=>{const R=P.get($)||{},A=R.webpRef||R.jpgRef||R.pngRef,I=A?await CT(A):null;let L=null;return R.thumbRef&&(L=await CT(R.thumbRef)),{src:I,gridSrc:L||I,title:`${e} Piece #${te+1}`,alt:`${e} Piece #${te+1}`}}))).filter($=>$.src&&$.gridSrc);w&&s(ne)}catch(M){console.error(`Error loading ${r} images:`,M),w&&s([])}finally{w&&g(!1)}})(),()=>{w=!1}},[r,e]);const v=T.useMemo(()=>t.map(w=>({src:w.src,title:w.title})),[t]),b=w=>{m(w),l(!0)};return C.jsxs(C.Fragment,{children:[p?C.jsxs("div",{className:"text-center mt-12",children:[C.jsxs("svg",{className:"animate-spin h-8 w-8 text-white mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-label":"Loading",children:[C.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),C.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4z"})]}),C.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Loading gallery..."})]}):C.jsx("div",{className:"gallery-grid",children:t.map((w,O)=>C.jsx("button",{type:"button",className:"gallery-piece",onClick:()=>b(O),"aria-label":`Open ${w.alt}`,children:C.jsx("img",{src:w.gridSrc,alt:w.alt,loading:"lazy",decoding:"async",style:{width:"100%",height:"100%",objectFit:"contain"}})},O))}),C.jsx(EA,{open:o,close:()=>l(!1),index:c,slides:v,styles:{container:{backdropFilter:"blur(10px)",backgroundColor:"rgba(0, 0, 0, 0.3)",WebkitBackdropFilter:"blur(10px)"},slide:{display:"flex",alignItems:"center",justifyContent:"center"}},render:{slide:({slide:w})=>C.jsx("img",{src:w.src,alt:w.title||"Artwork",loading:"eager",decoding:"async",style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain"}})}})]})}function m6(){return C.jsx(TA,{folder:"airbrush",label:"Airbrush"})}function p6(){return C.jsx(TA,{folder:"photoshop",label:"Photoshop"})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),y6=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),IT=r=>{const e=y6(r);return e.charAt(0).toUpperCase()+e.slice(1)},wA=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),_6=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=T.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...m},p)=>T.createElement("svg",{ref:p,...v6,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:wA("lucide",o),...!l&&!_6(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,v])=>T.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=(r,e)=>{const t=T.forwardRef(({className:s,...o},l)=>T.createElement(E6,{ref:l,iconNode:e,className:wA(`lucide-${g6(IT(r))}`,`lucide-${r}`,s),...o}));return t.displayName=IT(r),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],T6=Zy("menu",b6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],S6=Zy("shopping-cart",w6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],SA=Zy("x",A6);var AA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NT=Fe.createContext&&Fe.createContext(AA),R6=["attr","size","title"];function x6(r,e){if(r==null)return{};var t=C6(r,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function C6(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function zf(){return zf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},zf.apply(this,arguments)}function OT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Bf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(t),!0).forEach(function(s){I6(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OT(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function I6(r,e,t){return e=N6(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function N6(r){var e=O6(r,"string");return typeof e=="symbol"?e:e+""}function O6(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function RA(r){return r&&r.map((e,t)=>Fe.createElement(e.tag,Bf({key:t},e.attr),RA(e.child)))}function pd(r){return e=>Fe.createElement(D6,zf({attr:Bf({},r.attr)},e),RA(r.child))}function D6(r){var e=t=>{var{attr:s,size:o,title:l}=r,c=x6(r,R6),m=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),Fe.createElement("svg",zf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:p,style:Bf(Bf({color:r.color||t.color},t.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&Fe.createElement("title",null,l),r.children)};return NT!==void 0?Fe.createElement(NT.Consumer,null,t=>e(t)):e(AA)}function xA(r){return pd({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(r)}function CA(r){return pd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function IA(r){return pd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(r)}function NA(r){return pd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}const gf={"16x20":100,"18x24":200,"24x36":300,"30x40":400},OA=T.createContext();function gd(){return T.useContext(OA)}function k6({children:r}){const[e,t]=T.useState(()=>{const g=localStorage.getItem("cart");return g?JSON.parse(g):[]});function s(g,v){t(b=>b.map((w,O)=>{if(O!==g)return w;let M={...w,...v};return v.size&&(M.price=gf[v.size]||w.price),M}))}const[o,l]=T.useState(!1);T.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);function c(g){t(v=>v.find(w=>w.title===g.title&&w.size===g.size)?v.map(w=>w.title===g.title&&w.size===g.size?{...w,quantity:w.quantity+g.quantity}:w):[...v,g])}function m(g){t(v=>v.filter((b,w)=>w!==g))}function p(){t([])}return C.jsx(OA.Provider,{value:{cartItems:e,setCart:t,addToCart:c,removeFromCart:m,clearCart:p,updateCartItem:s,isCartOpen:o,setIsCartOpen:l},children:r})}const M6={"Adoration in the lights darkness":{"16x20":"price_1Rr1y0JEVsglohuhBAH3v1Hm","18x24":"price_1Rr2RvJEVsglohuhe4npKcRX","24x36":"price_1Rr2V9JEVsglohuhkHqjWPzP","30x40":"price_1Rr2XsJEVsglohuh2XUXZgj3"},AlterEgo:{"16x20":"price_1Rr3gKJEVsglohuh9BVqreUW","18x24":"price_1Rr3hqJEVsglohuhTZ312kRH","24x36":"price_1Rr3iwJEVsglohuhOSswWLIo","30x40":"price_1Rr3jxJEVsglohuhyXn8gge8"},"Feathered Serenity":{"16x20":"price_1Rr3lJJEVsglohuhi3pXSj4F","18x24":"price_1Rr3mMJEVsglohuhUOHTpz5e","24x36":"price_1Rr3naJEVsglohuhaogXOJGl","30x40":"price_1Rr3oYJEVsglohuhoXCCrGev"},"Fractured Perception":{"16x20":"price_1Rr3qFJEVsglohuhbOPFj0Vu","18x24":"price_1Rr3rLJEVsglohuhmtOl6U5O","24x36":"price_1Rr3tuJEVsglohuhGLpjacKn","30x40":"price_1Rr3v2JEVsglohuhLGDKPYl9"},"Harmony in Shadows":{"16x20":"price_1Rr3w4JEVsglohuh2wCoaMUo","18x24":"price_1Rr3xLJEVsglohuhxuNW2KKY","24x36":"price_1Rr3yiJEVsglohuhlP8yLrmi","30x40":"price_1Rr3zqJEVsglohuhR4sjL9qH"},"Illuminated Void":{"16x20":"price_1Rr40vJEVsglohuhDdPdmNlF","18x24":"price_1Rr46vJEVsglohuhqHrqOZpC","24x36":"price_1Rr47tJEVsglohuhTaVTE7fY","30x40":"price_1Rr4BRJEVsglohuhCEfEzSTo"},"Lost in Thought":{"16x20":"price_1Rr4CwJEVsglohuhJnfx2jXU","18x24":"price_1Rr4DlJEVsglohuhff5VaGJO","24x36":"price_1Rr4F2JEVsglohuhsZWdgmpQ","30x40":"price_1Rr4FyJEVsglohuhWabFljdm"},"Love is Love":{"16x20":"price_1Rr4QgJEVsglohuhdTi4Il1P","18x24":"price_1Rr4RkJEVsglohuhbgwqySBn","24x36":"price_1Rr4SrJEVsglohuhQ1Co5hi8","30x40":"price_1Rr4TnJEVsglohuhb5r74XSr"},"Out for Fame":{"16x20":"price_1Rr4VNJEVsglohuhVOunZVdX","18x24":"price_1Rr4aYJEVsglohuhZIBX65G6","24x36":"price_1Rr4WPJEVsglohuhX7BUoT4o","30x40":"price_1Rr4bnJEVsglohuhfVlhmxmG"},Overwhelmed:{"16x20":"price_1Rr4dOJEVsglohuhXoZrpaII","18x24":"price_1Rr4f1JEVsglohuhvFra9KRJ","24x36":"price_1Rr4g6JEVsglohuhjZ8jwa2r","30x40":"price_1Rr4hBJEVsglohuhHuB89MUu"},Serenity:{"16x20":"price_1Rr4iQJEVsglohuhRVl44Pfl","18x24":"price_1Rr4jOJEVsglohuhzvcxlqdJ","24x36":"price_1Rr4kZJEVsglohuhGWgJHXmc","30x40":"price_1Rr4lcJEVsglohuhHRws2D3P"},"Spirit of the Knight":{"16x20":"price_1Rr4n6JEVsglohuhIGswNmc5","18x24":"price_1Rr4oMJEVsglohuhWNMtR8If","24x36":"price_1Rr4paJEVsglohuheF9yhQmY","30x40":"price_1Rr4qdJEVsglohuhIVZKdJte"},"Veiled Whispers":{"16x20":"price_1Rr6ucJEVsglohuh26FB64EF","18x24":"price_1Rr500JEVsglohuhgAWEwdpZ","24x36":"price_1Rr51iJEVsglohuhdSIZCJZv","30x40":"price_1Rr53CJEVsglohuhe3rZiBFL"},"Walk in Faith":{"16x20":"price_1Rr562JEVsglohuhdKGQhWEU","18x24":"price_1Rr57WJEVsglohuh3OPyBdOT","24x36":"price_1Rr58qJEVsglohuhyBhacTmk","30x40":"price_1Rr5DGJEVsglohuhBc2HGVEk"}};function P6(r,e){const t=T.useRef(e);T.useEffect(()=>{t.current=e},[e]),T.useEffect(()=>{const s="paypal-sdk",o=()=>{typeof t.current=="function"&&t.current()};if(window.paypal){console.log(" PayPal already loaded"),o();return}const l=document.getElementById(s);if(l){l.addEventListener("load",o,{once:!0});return}const c=document.createElement("script");c.id=s,c.src=`https://www.paypal.com/sdk/js?client-id=${r}&currency=USD&components=buttons&enable-funding=venmo`,c.async=!0,c.addEventListener("load",()=>{console.log(" PayPal SDK loaded"),o()}),c.addEventListener("error",()=>{console.error(" Failed to load PayPal SDK")}),document.body.appendChild(c)},[r])}class gc{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const L6=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,e)=>Promise.resolve(localStorage.setItem(r,e)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},sn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:L6()},e_=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},V6=(r,e="https://api.emailjs.com")=>{if(!r)return;const t=e_(r);sn.publicKey=t.publicKey,sn.blockHeadless=t.blockHeadless,sn.storageProvider=t.storageProvider,sn.blockList=t.blockList,sn.limitRate=t.limitRate,sn.origin=t.origin||e},DA=async(r,e,t={})=>{const s=await fetch(sn.origin+r,{method:"POST",headers:t,body:e}),o=await s.text(),l=new gc(s.status,o);if(s.ok)return l;throw l},kA=(r,e,t)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},U6=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},MA=r=>r.webdriver||!r.languages||r.languages.length===0,PA=()=>new gc(451,"Unavailable For Headless Browser"),j6=(r,e)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},z6=r=>!r.list?.length||!r.watchVariable,B6=(r,e)=>r instanceof FormData?r.get(e):r[e],LA=(r,e)=>{if(z6(r))return!1;j6(r.list,r.watchVariable);const t=B6(e,r.watchVariable);return typeof t!="string"?!1:r.list.includes(t)},VA=()=>new gc(403,"Forbidden"),H6=(r,e)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},q6=async(r,e,t)=>{const s=Number(await t.get(r)||0);return e-Date.now()+s},UA=async(r,e,t)=>{if(!e.throttle||!t)return!1;H6(e.throttle,e.id);const s=e.id||r;return await q6(s,e.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},jA=()=>new gc(429,"Too Many Requests"),F6=async(r,e,t,s)=>{const o=e_(s),l=o.publicKey||sn.publicKey,c=o.blockHeadless||sn.blockHeadless,m=o.storageProvider||sn.storageProvider,p={...sn.blockList,...o.blockList},g={...sn.limitRate,...o.limitRate};return c&&MA(navigator)?Promise.reject(PA()):(kA(l,r,e),U6(t),t&&LA(p,t)?Promise.reject(VA()):await UA(location.pathname,g,m)?Promise.reject(jA()):DA("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:r,template_id:e,template_params:t}),{"Content-type":"application/json"}))},G6=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},$6=r=>typeof r=="string"?document.querySelector(r):r,K6=async(r,e,t,s)=>{const o=e_(s),l=o.publicKey||sn.publicKey,c=o.blockHeadless||sn.blockHeadless,m=sn.storageProvider||o.storageProvider,p={...sn.blockList,...o.blockList},g={...sn.limitRate,...o.limitRate};if(c&&MA(navigator))return Promise.reject(PA());const v=$6(t);kA(l,r,e),G6(v);const b=new FormData(v);return LA(p,b)?Promise.reject(VA()):await UA(location.pathname,g,m)?Promise.reject(jA()):(b.append("lib_version","4.4.1"),b.append("service_id",r),b.append("template_id",e),b.append("user_id",l),DA("/api/v1.0/email/send-form",b))},zA={init:V6,send:F6,sendForm:K6,EmailJSResponseStatus:gc};function Y6({isOpen:r,onClose:e}){const{cartItems:t,removeFromCart:s,clearCart:o,updateCartItem:l}=gd(),[c,m]=T.useState(!1),[p,g]=T.useState(!1);P6("AU5aAM3bPf_1lmA--7fuKSvlkyW5imXLRM4a2be_xgyiv4mYJU14v_KJviRqwy67-p5uNjchLtHurRg4",()=>g(!0));const b=T.useRef(!1),w=T.useMemo(()=>t.reduce((D,k)=>D+k.price*k.quantity,0),[t]),O=T.useMemo(()=>JSON.stringify(t.map(D=>({title:D.title,size:D.size,price:D.price,quantity:D.quantity,image:D.image}))),[t]);T.useEffect(()=>{if(!r||!p)return;const D="paypal-button-container",k=document.getElementById(D);if(k&&!(b.current&&k.children.length)){if(t.length===0){k.innerHTML="",b.current=!1;return}k.innerHTML="",b.current=!1;try{window.paypal.Buttons({createOrder:(P,H)=>H.order.create({purchase_units:[{amount:{currency_code:"USD",value:w.toFixed(2),breakdown:{item_total:{currency_code:"USD",value:w.toFixed(2)}}},description:"Likwit Blvd Art Order",custom_id:"AIRBRUSH_ORDER_"+Date.now(),items:t.map(F=>({name:F.title,description:`Size: ${F.size}`,unit_amount:{currency_code:"USD",value:Number(F.price).toFixed(2)},quantity:String(F.quantity),category:"PHYSICAL_GOODS"}))}]}),onApprove:async(P,H)=>{try{const F=await H.order.capture(),{name:ne,email_address:$}=F.payer,te=t.map(A=>({name:`${A.title}  ${A.size}`,units:A.quantity,price:(A.price*A.quantity).toFixed(2),image_url:A.image})),R={shipping:0 .toFixed(2),tax:0 .toFixed(2),total:w.toFixed(2)};await zA.send("service_6j3le5o","template_dxmzwa3",{name:`${ne.given_name} ${ne.surname}`,message:"New PayPal order received!",order_id:P.orderID,email:$,orders:te,cost:R},"OLAEWsvf8PTH1I8A-"),console.log(" Order email sent!"),alert("Payment successful via PayPal!"),o(),e(),b.current=!1}catch(F){console.error("PayPal error:",F),alert("Something went wrong with PayPal.")}},onError:P=>{console.error("PayPal error:",P),alert("Something went wrong with PayPal.")}}).render(`#${D}`),b.current=!0}catch(P){console.error("PayPal render failed:",P)}return()=>{const P=document.getElementById(D);P&&(P.innerHTML=""),b.current=!1}}},[r,p,O,w,o,e]);const M=async()=>{try{const D=t.map(H=>{const F=M6[H.title]?.[H.size];if(!F)throw new Error(`Missing Stripe price ID for ${H.title} - ${H.size}`);return{price:F,quantity:H.quantity}}),P=await(await fetch("https://us-central1-airbrushnink-9f735.cloudfunctions.net/createStripeCheckoutSessionLive",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:D})})).json();P.url?window.location.href=P.url:console.error("Stripe Checkout URL not returned:",P)}catch(D){console.error("Checkout failed:",D.message)}};return C.jsxs("div",{className:`fixed top-0 right-0 h-full w-80 bg-gradient-to-r from-black to-[#222] text-white shadow-lg transform transition-transform z-[1200] ${r?"translate-x-0":"translate-x-full"}`,children:[C.jsxs("div",{className:"flex items-center justify-between px-4 py-5 border-b border-gray-300",children:[C.jsx("h2",{className:"text-lg font-bold",children:"Your Cart"}),C.jsx("button",{onClick:e,children:C.jsx(SA,{size:24})})]}),C.jsx("div",{className:"p-4 overflow-y-auto h-[calc(100%-435px)]",children:t.map((D,k)=>C.jsx("div",{className:"flex flex-col gap-2 mb-4 border-b pb-3",children:C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("img",{src:D.image,alt:D.title,className:"w-16 h-16 object-cover rounded shadow"}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h3",{className:"font-semibold text-white",children:D.title}),c?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[C.jsx("label",{className:"text-sm mr-1",children:"Qty:"}),C.jsx("button",{onClick:()=>D.quantity>1&&l(k,{quantity:D.quantity-1}),className:"w-7 h-7 bg-zinc-700 text-white rounded hover:bg-zinc-600",children:""}),C.jsx("span",{className:"px-2 w-6 text-center",children:D.quantity}),C.jsx("button",{onClick:()=>l(k,{quantity:D.quantity+1}),className:"w-7 h-7 bg-zinc-700 text-white rounded hover:bg-zinc-600",children:"+"})]}),C.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[C.jsx("label",{className:"text-sm",children:"Size:"}),C.jsxs("select",{value:D.size,onChange:P=>l(k,{size:P.target.value}),className:"w-full px-2 py-1 rounded text-black",children:[C.jsx("option",{value:"16x20",children:"16x20"}),C.jsx("option",{value:"18x24",children:"18x24"}),C.jsx("option",{value:"24x36",children:"24x36"}),C.jsx("option",{value:"30x40",children:"30x40"})]})]})]}):C.jsxs(C.Fragment,{children:[C.jsxs("p",{className:"text-sm text-white/80",children:["Size: ",D.size,"  Qty: ",D.quantity]}),C.jsxs("p",{className:"text-sm text-white/90",children:["$",D.price*D.quantity]})]}),c&&C.jsx("button",{onClick:()=>s(k),className:"text-red-500 text-xs mt-2",children:"Remove"})]})]})},k))}),C.jsxs("div",{className:"p-4 border-t border-gray-300 flex flex-col gap-2",children:[C.jsxs("div",{className:"flex justify-between text-sm text-white mb-3",children:[C.jsx("span",{className:"font-semibold",children:"Total:"}),C.jsxs("span",{className:"font-semibold",children:["$",w.toLocaleString()]})]}),C.jsxs("div",{className:"flex justify-between gap-2",children:[C.jsx("button",{className:"w-1/2 bg-gradient-to-r from-black to-[#222] text-white py-2 rounded hover:bg-green-700",onClick:()=>m(D=>!D),disabled:t.length===0,children:c?"Done":"Edit Cart"}),C.jsx("button",{className:"w-1/2 bg-gradient-to-r from-black to-[#222] text-white py-2 rounded hover:bg-blue-700",onClick:M,disabled:t.length===0,children:"Checkout"})]}),t.length>0&&C.jsx("div",{className:"mt-4",id:"paypal-button-container"}),C.jsx("button",{className:"w-full text-sm text-red-500 underline",onClick:o,disabled:t.length===0,children:"Clear Cart"})]})]})}function X6(){const[r,e]=T.useState(!1),[t,s]=T.useState(void 0),[o,l]=T.useState(!1),{cartItems:c}=gd(),m=qf();if(T.useEffect(()=>{const P=ic(Ga,H=>{s(H||null)});return()=>P()},[]),t===void 0)return null;const p=jS(t),g=()=>e(!1),v=()=>{if(window.location.hash==="#/"){const H=document.getElementById("services");H&&H.scrollIntoView({behavior:"smooth"}),g()}else sessionStorage.setItem("scrollToServices","true"),m("/"),g()},b=async()=>{await UN(Ga),g(),m("/")},w=()=>{m("/admin"),g()},O=()=>{m("/"),g()},M=()=>{m("/contact"),g()},D=()=>{m("/shop"),g()},k=c.reduce((P,H)=>P+H.quantity,0);return C.jsxs(C.Fragment,{children:[C.jsx("nav",{className:"sticky top-0 z-[2000] bg-gradient-to-r from-black to-[#222] text-white shadow-md",children:C.jsxs("div",{className:"flex justify-between items-center px-6 py-2",children:[C.jsx(Ci,{to:"/",className:"font-semibold text-[1.5rem] tracking-[0.03em]",onClick:g,children:"Likwit Blvd"}),C.jsxs("ul",{className:"hidden md:flex items-center text-[0.95rem] font-medium gap-3",children:[C.jsx("li",{children:C.jsx(Ci,{to:"/",className:"text-[#ccc] hover:text-white",children:"Home"})}),C.jsx("li",{className:"flex items-center relative before:content-[''] before:inline-block before:w-px before:h-4 before:bg-white before:mx-3",children:C.jsx("button",{onClick:v,className:"text-[#ccc] hover:text-white",children:"Portfolio"})}),C.jsx("li",{className:"flex items-center relative before:content-[''] before:inline-block before:w-px before:h-4 before:bg-white before:mx-3",children:C.jsx(Ci,{to:"/contact",className:"text-[#ccc] hover:text-white",children:"Contact"})}),C.jsx("li",{className:"flex items-center relative before:content-[''] before:inline-block before:w-px before:h-4 before:bg-white before:mx-3",children:C.jsx(Ci,{to:"/shop",className:"text-[#ccc] hover:text-white",children:"Shop"})}),p&&C.jsx("li",{className:"flex items-center relative before:content-[''] before:inline-block before:w-px before:h-4 before:bg-white before:mx-3",children:C.jsx("button",{onClick:w,className:"text-[#ccc] hover:text-white",children:"Admin"})}),t&&C.jsx("li",{className:"ml-4",children:C.jsx("button",{onClick:b,className:"px-3 py-1 text-sm rounded bg-gradient-to-r from-black to-[#444]",children:"Log Out"})})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("button",{onClick:()=>l(!0),className:"relative border border-[#444] p-2 rounded-full","aria-label":"Cart",type:"button",children:[C.jsx(S6,{size:20}),k>0&&C.jsx("span",{className:"absolute -top-1 -right-1 bg-gray-600 text-xs w-5 h-5 flex items-center justify-center rounded-full",children:k})]}),C.jsx("button",{className:"md:hidden z-[6000]",onClick:()=>e(P=>!P),"aria-label":"Toggle Menu",type:"button",children:r?C.jsx(SA,{size:28}):C.jsx(T6,{size:28})})]})]})}),C.jsx("div",{className:`md:hidden fixed inset-0 flex items-center justify-center transition-all duration-300 ease-in-out
          ${r?"opacity-100 visible pointer-events-auto z-[5000] backdrop-blur-md bg-black/80":"opacity-0 invisible pointer-events-none z-[-1]"}
        `,children:C.jsxs("div",{className:"flex flex-col items-center justify-center gap-10 text-2xl font-semibold text-white tracking-wide",children:[C.jsx("button",{onClick:O,className:"hover:text-[#ccc] transition-colors",children:"Home"}),C.jsx("button",{onClick:v,className:"hover:text-[#ccc] transition-colors",children:"Portfolio"}),C.jsx("button",{onClick:M,className:"hover:text-[#ccc] transition-colors",children:"Contact"}),C.jsx("button",{onClick:D,className:"hover:text-[#ccc] transition-colors",children:"Shop"}),p&&C.jsx("button",{onClick:w,className:"hover:text-[#ccc] transition-colors",children:"Admin"}),t&&C.jsx("button",{onClick:b,className:"text-lg mt-4 px-6 py-2 rounded bg-gradient-to-r from-black to-[#444] hover:opacity-80 transition",children:"Log Out"}),C.jsxs("div",{className:"flex gap-6 mt-6 text-xl text-white",children:[C.jsx("a",{href:"https://facebook.com/yourpage",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#ccc] transition-colors","aria-label":"Facebook",children:C.jsx(xA,{})}),C.jsx("a",{href:"https://instagram.com/yourhandle",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#ccc] transition-colors","aria-label":"Instagram",children:C.jsx(CA,{})}),C.jsx("a",{href:"https://www.tiktok.com/@thatonehomieguy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#ccc] transition-colors","aria-label":"TikTok",children:C.jsx(IA,{})}),C.jsx("button",{onClick:M,className:"hover:text-[#ccc] transition-colors","aria-label":"Contact",children:C.jsx(NA,{})})]}),C.jsx("button",{onClick:g,className:"mt-6 text-sm text-gray-300 hover:text-white transition",type:"button",children:"Close"})]})}),o&&C.jsx("div",{className:"fixed inset-0 bg-black/40 z-[4000]",onClick:()=>l(!1)}),C.jsx(Y6,{isOpen:o,onClose:()=>l(!1)})]})}function Q6(){return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"min-h-screen bg-black text-white pt-24 px-4",children:[C.jsx("h1",{className:"text-4xl font-bold text-center mb-12",children:"Gallery"}),C.jsxs("section",{children:[C.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Airbrush"}),C.jsx(Gallery,{folder:"airbrush",label:"Airbrush"})]})]})})}function DT(r=""){return r.replace(/\.[^.]+$/,"")}function t_(r=""){const e=r.match(/\.([^.]+)$/);return e?e[1].toLowerCase():""}function W6(r=""){const e=t_(r);return["jpg","jpeg","png","webp"].includes(e)}function J6(r=""){const e=t_(r);return["mp4","webm","mov","m4v"].includes(e)}async function ef(r){try{return await cd(r)}catch{return null}}function Z6(){const[r,e]=T.useState([]),[t,s]=T.useState("airbrush"),[o,l]=T.useState(null),[c,m]=T.useState(!1),[p,g]=T.useState(0),[v,b]=T.useState(!1),[w,O]=T.useState(!0),M=T.useRef(null),D=["airbrush","photoshop","tattoos","portfolio-videos"],P=c&&o?.email?.toLowerCase().trim()==="airbrushnink@gmail.com".toLowerCase().trim();T.useEffect(()=>{const $=ic(Ga,te=>{l(te),m(!0)});return()=>$()},[]),T.useEffect(()=>{c&&H()},[c]),T.useEffect(()=>{H()},[t]);const H=async()=>{O(!0);try{const $=Qu(Uf,`${t}/`),te=await Gy($),R=t==="portfolio-videos",A=te.items.filter(j=>R?J6(j.name):W6(j.name));if(R){const j=await Promise.all(A.map(async N=>{const _e=await ef(N);return{kind:"video",key:N.name,title:DT(N.name),gridSrc:_e,fullSrc:_e,refsToDelete:[N]}}));e(j.filter(N=>N.gridSrc));return}const I=new Map;for(const j of A){const N=DT(j.name),_e=t_(j.name);if(N.endsWith("__thumb")){const q=N.replace(/__thumb$/,"");I.has(q)||I.set(q,{allRefs:[]});const Y=I.get(q);Y.thumbRef=j,Y.allRefs.push(j);continue}I.has(N)||I.set(N,{allRefs:[]});const pe=I.get(N);_e==="webp"&&(pe.webpRef=j),_e==="jpg"&&(pe.jpgRef=j),_e==="jpeg"&&(pe.jpegRef=j),_e==="png"&&(pe.pngRef=j),pe.allRefs.push(j)}const L=Array.from(I.keys()).sort((j,N)=>j.localeCompare(N)),V=await Promise.all(L.map(async j=>{const N=I.get(j)||{},_e=N.webpRef||N.jpgRef||N.jpegRef||N.pngRef,pe=_e?await ef(_e):null,Y=(N.thumbRef?await ef(N.thumbRef):null)||pe;return{kind:"image",key:j,title:j,gridSrc:Y,fullSrc:pe,refsToDelete:N.allRefs||(_e?[_e]:[])}}));e(V.filter(j=>j.gridSrc&&j.fullSrc))}catch($){console.error(" Admin list error:",$),e([])}finally{O(!1)}},F=async()=>{if(!P)return alert("Not authorized.");const $=M.current?.files?.[0];if(!$)return alert("Please choose a file");const te=Qu(Uf,`${t}/${$.name}`);b(!0),g(0);const R=VS(te,$);R.on("state_changed",A=>{const I=A.bytesTransferred/A.totalBytes*100;g(I)},A=>{console.error(A),alert("Upload failed"),b(!1)},async()=>{await ef(R.snapshot.ref),alert("Upload successful!"),M.current&&(M.current.value=""),b(!1),H()})},ne=async $=>{if(!P)return alert("Not authorized.");const te=$.refsToDelete?.length||1,R=te>1?`Delete this artwork and ALL ${te} file variants (jpg/webp/thumb)?`:"Delete this file?";if(window.confirm(R))try{const A=$.refsToDelete||[];await Promise.all(A.map(I=>VM(I))),alert("Deleted successfully"),H()}catch(A){console.error(A),alert("Failed to delete")}};return C.jsxs("div",{className:"flex flex-col items-center min-h-screen bg-gradient-to-r from-black via-[#111] to-[#222] text-white px-4 pb-12",children:[C.jsxs("div",{className:"w-full max-w-md p-6 rounded-2xl shadow-lg mb-12 mt-12",style:{background:"linear-gradient(to right, #000, #222)"},children:[C.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Upload Your Artwork"}),C.jsx("select",{value:t,onChange:$=>s($.target.value),className:"w-full mb-4 p-2 rounded bg-black text-white",children:D.map($=>C.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1)},$))}),C.jsx("input",{type:"file",ref:M,className:"w-full mb-4 p-2 rounded bg-black text-white file:bg-[#222] file:text-white file:border-none"}),v&&C.jsx("div",{className:"w-full bg-gray-700 rounded mb-2",children:C.jsx("div",{className:"bg-blue-500 h-2 rounded",style:{width:`${p}%`}})}),C.jsx("button",{onClick:F,className:"w-full py-3 rounded-md font-semibold transition bg-gradient-to-r from-black to-[#222] hover:opacity-80",disabled:v||!P,title:P?"":"Admin only",children:v?"Uploading...":"Upload"}),!P&&C.jsx("p",{className:"mt-3 text-xs text-gray-400 text-center",children:"Logged in users can view. Only admin can upload/delete."})]}),w?C.jsx("div",{className:"flex justify-center items-center h-40",children:C.jsxs("svg",{className:"animate-spin h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-label":"Loading",children:[C.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),C.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4z"})]})}):C.jsx(C.Fragment,{children:r.length===0?C.jsxs("p",{className:"text-gray-400",children:["No files found in ",t,"."]}):C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:r.map($=>C.jsxs("div",{className:"flex flex-col items-center justify-between w-full h-[420px]",children:[$.kind==="video"?C.jsx("video",{src:$.gridSrc,controls:!0,className:"w-[290px] h-[300px] sm:w-[400px] sm:h-[350px] rounded-md shadow-md bg-black"}):C.jsx("img",{src:$.gridSrc,alt:$.title,className:"object-contain w-[290px] h-[300px] sm:w-[400px] sm:h-[350px] rounded-md shadow-md",loading:"lazy",decoding:"async"}),C.jsx("div",{className:"mt-2 text-sm text-gray-300 text-center line-clamp-1",children:$.title}),P&&C.jsx("button",{onClick:()=>ne($),className:"mt-2 px-4 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded",children:"Delete"})]},$.key))})})]})}function eL(){const[r,e]=T.useState(""),[t,s]=T.useState(""),o=qf(),l=async c=>{c.preventDefault();try{await PN(Ga,r,t),alert("Login successful"),o("/upload")}catch(m){console.error("Login error:",m),alert("Login failed")}};return C.jsx("div",{className:"flex justify-center items-center min-h-screen bg-black text-white",children:C.jsxs("form",{onSubmit:l,className:"p-8 rounded-2xl shadow-xl w-full max-w-md",style:{background:"linear-gradient(to right, #000000, #222222)"},children:[C.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Admin Login"}),C.jsx("input",{type:"email",placeholder:"Email",className:"w-full mb-4 p-3 rounded-md bg-[#111] text-white",value:r,onChange:c=>e(c.target.value)}),C.jsx("input",{type:"password",placeholder:"Password",className:"w-full mb-6 p-3 rounded-md bg-[#111] text-white",value:t,onChange:c=>s(c.target.value)}),C.jsx("button",{type:"submit",className:"w-full py-3 rounded-md font-semibold",style:{background:"linear-gradient(to right, #000000, #222222)"},children:"Login"})]})})}function tL(){return C.jsx("footer",{className:"bg-black text-gray-400 text-sm py-8 border-t border-neutral-800",children:C.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 text-center",children:[C.jsx("p",{children:" 2025 Likwit Blvd  All rights reserved."}),C.jsxs("div",{className:"mt-4 flex justify-center gap-6 text-lg",children:[C.jsx("a",{href:"https://facebook.com/yourpage",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors","aria-label":"Facebook",children:C.jsx(xA,{})}),C.jsx("a",{href:"https://instagram.com/yourhandle",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors","aria-label":"Instagram",children:C.jsx(CA,{})}),C.jsx("a",{href:"https://www.tiktok.com/@thatonehomieguy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors","aria-label":"TikTok",children:C.jsx(IA,{})}),C.jsx(Ci,{to:"/contact",className:"hover:text-white transition-colors","aria-label":"Contact Page",children:C.jsx(NA,{})})]})]})})}function nL(){const r=T.useRef(),[e,t]=T.useState({name:"",email:"",message:""}),[s,o]=T.useState(!1),[l,c]=T.useState(!1),m=g=>{t({...e,[g.target.name]:g.target.value})},p=g=>{g.preventDefault(),o(!0),zA.send("service_6j3le5o","template_xs5pzrr",{title:"Website Contact",name:e.name,email:e.email,message:e.message,time:new Date().toLocaleString()},"OLAEWsvf8PTH1I8A-").then(v=>{console.log(" Message sent:",v.text),c(!0),t({name:"",email:"",message:""})},v=>{console.error(" Failed to send:",v.text)}).finally(()=>o(!1))};return C.jsx("div",{className:"min-h-screen text-white flex justify-center items-center p-6",children:C.jsxs("form",{ref:r,onSubmit:p,className:"w-full max-w-xl bg-[#111] p-8 rounded-lg shadow-md space-y-4",children:[C.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Contact Me"}),C.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:e.name,onChange:m,required:!0,className:"w-full p-3 rounded bg-black border border-gray-600 text-white placeholder-gray-400"}),C.jsx("input",{type:"email",name:"email",placeholder:"Your Email",value:e.email,onChange:m,required:!0,className:"w-full p-3 rounded bg-black border border-gray-600 text-white placeholder-gray-400"}),C.jsx("textarea",{name:"message",placeholder:"Your Message",value:e.message,onChange:m,required:!0,rows:"5",className:"w-full p-3 rounded bg-black border border-gray-600 text-white placeholder-gray-400"}),C.jsx("button",{type:"submit",disabled:s,className:"w-full bg-white text-black font-semibold py-3 px-6 rounded hover:bg-gray-200 transition disabled:opacity-50",children:s?"Sending...":"Send Message"}),l&&C.jsx("p",{className:"text-green-400 text-center pt-2",children:" Your message has been sent!"})]})})}function BA(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=BA(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function Ua(){for(var r,e,t=0,s="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=BA(r))&&(s&&(s+=" "),s+=e);return s}function rL(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}rL(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var yc=r=>typeof r=="number"&&!isNaN(r),$a=r=>typeof r=="string",ji=r=>typeof r=="function",iL=r=>$a(r)||yc(r),Og=r=>$a(r)||ji(r)?r:null,sL=(r,e)=>r===!1||yc(r)&&r>0?r:e,Dg=r=>T.isValidElement(r)||$a(r)||ji(r)||yc(r);function aL(r,e,t=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function oL({enter:r,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:m,done:p,nodeRef:g,isIn:v,playToast:b}){let w=t?`${r}--${c}`:r,O=t?`${e}--${c}`:e,M=T.useRef(0);return T.useLayoutEffect(()=>{let D=g.current,k=w.split(" "),P=H=>{H.target===g.current&&(b(),D.removeEventListener("animationend",P),D.removeEventListener("animationcancel",P),M.current===0&&H.type!=="animationcancel"&&D.classList.remove(...k))};D.classList.add(...k),D.addEventListener("animationend",P),D.addEventListener("animationcancel",P)},[]),T.useEffect(()=>{let D=g.current,k=()=>{D.removeEventListener("animationend",k),s?aL(D,p,o):p()};v||(m?k():(M.current=1,D.className+=` ${O}`,D.addEventListener("animationend",k)))},[v]),Fe.createElement(Fe.Fragment,null,l)}}function kT(r,e){return{content:HA(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function HA(r,e,t=!1){return T.isValidElement(r)&&!$a(r.type)?T.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):ji(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function lL({closeToast:r,theme:e,ariaLabel:t="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":t},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function uL({delay:r,isRunning:e,closeToast:t,type:s="default",hide:o,className:l,controlledProgress:c,progress:m,rtl:p,isIn:g,theme:v}){let b=o||c&&m===0,w={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};c&&(w.transform=`scaleX(${m})`);let O=Ua("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),M=ji(l)?l({rtl:p,type:s,defaultClassName:O}):Ua(O,l),D={[c&&m>=1?"onTransitionEnd":"onAnimationEnd"]:c&&m<1?null:()=>{g&&t()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${s}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:M,style:w,...D}))}var cL=1,qA=()=>`${cL++}`;function hL(r,e,t){let s=1,o=0,l=[],c=[],m=e,p=new Map,g=new Set,v=H=>(g.add(H),()=>g.delete(H)),b=()=>{c=Array.from(p.values()),g.forEach(H=>H())},w=({containerId:H,toastId:F,updateId:ne})=>{let $=H?H!==r:r!==1,te=p.has(F)&&ne==null;return $||te},O=(H,F)=>{p.forEach(ne=>{var $;(F==null||F===ne.props.toastId)&&(($=ne.toggle)==null||$.call(ne,H))})},M=H=>{var F,ne;(ne=(F=H.props)==null?void 0:F.onClose)==null||ne.call(F,H.removalReason),H.isActive=!1},D=H=>{if(H==null)p.forEach(M);else{let F=p.get(H);F&&M(F)}b()},k=()=>{o-=l.length,l=[]},P=H=>{var F,ne;let{toastId:$,updateId:te}=H.props,R=te==null;H.staleId&&p.delete(H.staleId),H.isActive=!0,p.set($,H),b(),t(kT(H,R?"added":"updated")),R&&((ne=(F=H.props).onOpen)==null||ne.call(F))};return{id:r,props:m,observe:v,toggle:O,removeToast:D,toasts:p,clearQueue:k,buildToast:(H,F)=>{if(w(F))return;let{toastId:ne,updateId:$,data:te,staleId:R,delay:A}=F,I=$==null;I&&o++;let L={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(F).filter(([j,N])=>N!=null)),toastId:ne,updateId:$,data:te,isIn:!1,className:Og(F.className||m.toastClassName),progressClassName:Og(F.progressClassName||m.progressClassName),autoClose:F.isLoading?!1:sL(F.autoClose,m.autoClose),closeToast(j){p.get(ne).removalReason=j,D(ne)},deleteToast(){let j=p.get(ne);if(j!=null){if(t(kT(j,"removed")),p.delete(ne),o--,o<0&&(o=0),l.length>0){P(l.shift());return}b()}}};L.closeButton=m.closeButton,F.closeButton===!1||Dg(F.closeButton)?L.closeButton=F.closeButton:F.closeButton===!0&&(L.closeButton=Dg(m.closeButton)?m.closeButton:!0);let V={content:H,props:L,staleId:R};m.limit&&m.limit>0&&o>m.limit&&I?l.push(V):yc(A)?setTimeout(()=>{P(V)},A):P(V)},setProps(H){m=H},setToggle:(H,F)=>{let ne=p.get(H);ne&&(ne.toggle=F)},isToastActive:H=>{var F;return(F=p.get(H))==null?void 0:F.isActive},getSnapshot:()=>c}}var Sn=new Map,Wu=[],kg=new Set,fL=r=>kg.forEach(e=>e(r)),FA=()=>Sn.size>0;function dL(){Wu.forEach(r=>$A(r.content,r.options)),Wu=[]}var mL=(r,{containerId:e})=>{var t;return(t=Sn.get(e||1))==null?void 0:t.toasts.get(r)};function GA(r,e){var t;if(e)return!!((t=Sn.get(e))!=null&&t.isToastActive(r));let s=!1;return Sn.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function pL(r){if(!FA()){Wu=Wu.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||iL(r))Sn.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=Sn.get(r.containerId);e?e.removeToast(r.id):Sn.forEach(t=>{t.removeToast(r.id)})}}var gL=(r={})=>{Sn.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function $A(r,e){Dg(r)&&(FA()||Wu.push({content:r,options:e}),Sn.forEach(t=>{t.buildToast(r,e)}))}function yL(r){var e;(e=Sn.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function KA(r,e){Sn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(r,e?.id)})}function _L(r){let e=r.containerId||1;return{subscribe(t){let s=hL(e,r,fL);Sn.set(e,s);let o=s.observe(t);return dL(),()=>{o(),Sn.delete(e)}},setProps(t){var s;(s=Sn.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=Sn.get(e))==null?void 0:t.getSnapshot()}}}function vL(r){return kg.add(r),()=>{kg.delete(r)}}function EL(r){return r&&($a(r.toastId)||yc(r.toastId))?r.toastId:qA()}function _c(r,e){return $A(r,e),e.toastId}function yd(r,e){return{...e,type:e&&e.type||r,toastId:EL(e)}}function _d(r){return(e,t)=>_c(e,yd(r,t))}function at(r,e){return _c(r,yd("default",e))}at.loading=(r,e)=>_c(r,yd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function bL(r,{pending:e,error:t,success:s},o){let l;e&&(l=$a(e)?at.loading(e,o):at.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,v,b)=>{if(v==null){at.dismiss(l);return}let w={type:g,...c,...o,data:b},O=$a(v)?{render:v}:v;return l?at.update(l,{...w,...O}):at(O.render,{...w,...O}),b},p=ji(r)?r():r;return p.then(g=>m("success",s,g)).catch(g=>m("error",t,g)),p}at.promise=bL;at.success=_d("success");at.info=_d("info");at.error=_d("error");at.warning=_d("warning");at.warn=at.warning;at.dark=(r,e)=>_c(r,yd("default",{theme:"dark",...e}));function TL(r){pL(r)}at.dismiss=TL;at.clearWaitingQueue=gL;at.isActive=GA;at.update=(r,e={})=>{let t=mL(r,e);if(t){let{props:s,content:o}=t,l={delay:100,...s,...e,toastId:e.toastId||r,updateId:qA()};l.toastId!==r&&(l.staleId=r);let c=l.render||o;delete l.render,_c(c,l)}};at.done=r=>{at.update(r,{progress:1})};at.onChange=vL;at.play=r=>KA(!0,r);at.pause=r=>KA(!1,r);function wL(r){var e;let{subscribe:t,getSnapshot:s,setProps:o}=T.useRef(_L(r)).current;o(r);let l=(e=T.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function c(m){if(!l)return[];let p=new Map;return r.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:v}=g.props;p.has(v)||p.set(v,[]),p.get(v).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:c,isToastActive:GA,count:l?.length}}function SL(r){let[e,t]=T.useState(!1),[s,o]=T.useState(!1),l=T.useRef(null),c=T.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:v,closeOnClick:b}=r;yL({id:r.toastId,containerId:r.containerId,fn:t}),T.useEffect(()=>{if(r.pauseOnFocusLoss)return w(),()=>{O()}},[r.pauseOnFocusLoss]);function w(){document.hasFocus()||P(),window.addEventListener("focus",k),window.addEventListener("blur",P)}function O(){window.removeEventListener("focus",k),window.removeEventListener("blur",P)}function M(R){if(r.draggable===!0||r.draggable===R.pointerType){H();let A=l.current;c.canCloseOnClick=!0,c.canDrag=!0,A.style.transition="none",r.draggableDirection==="x"?(c.start=R.clientX,c.removalDistance=A.offsetWidth*(r.draggablePercent/100)):(c.start=R.clientY,c.removalDistance=A.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function D(R){let{top:A,bottom:I,left:L,right:V}=l.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&r.pauseOnHover&&R.clientX>=L&&R.clientX<=V&&R.clientY>=A&&R.clientY<=I?P():k()}function k(){t(!0)}function P(){t(!1)}function H(){c.didMove=!1,document.addEventListener("pointermove",ne),document.addEventListener("pointerup",$)}function F(){document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",$)}function ne(R){let A=l.current;if(c.canDrag&&A){c.didMove=!0,e&&P(),r.draggableDirection==="x"?c.delta=R.clientX-c.start:c.delta=R.clientY-c.start,c.start!==R.clientX&&(c.canCloseOnClick=!1);let I=r.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;A.style.transform=`translate3d(${I},0)`,A.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function $(){F();let R=l.current;if(c.canDrag&&c.didMove&&R){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let te={onPointerDown:M,onPointerUp:D};return m&&p&&(te.onMouseEnter=P,r.stacked||(te.onMouseLeave=k)),b&&(te.onClick=R=>{v&&v(R),c.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:P,isRunning:e,preventExitTransition:s,toastRef:l,eventHandlers:te}}var AL=typeof window<"u"?T.useLayoutEffect:T.useEffect,vd=({theme:r,type:e,isLoading:t,...s})=>Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function RL(r){return Fe.createElement(vd,{...r},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function xL(r){return Fe.createElement(vd,{...r},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function CL(r){return Fe.createElement(vd,{...r},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function IL(r){return Fe.createElement(vd,{...r},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function NL(){return Fe.createElement("div",{className:"Toastify__spinner"})}var Mg={info:xL,warning:RL,success:CL,error:IL,spinner:NL},OL=r=>r in Mg;function DL({theme:r,type:e,isLoading:t,icon:s}){let o=null,l={theme:r,type:e};return s===!1||(ji(s)?o=s({...l,isLoading:t}):T.isValidElement(s)?o=T.cloneElement(s,l):t?o=Mg.spinner():OL(e)&&(o=Mg[e](l))),o}var kL=r=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=SL(r),{closeButton:c,children:m,autoClose:p,onClick:g,type:v,hideProgressBar:b,closeToast:w,transition:O,position:M,className:D,style:k,progressClassName:P,updateId:H,role:F,progress:ne,rtl:$,toastId:te,deleteToast:R,isIn:A,isLoading:I,closeOnClick:L,theme:V,ariaLabel:j}=r,N=Ua("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":$},{"Toastify__toast--close-on-click":L}),_e=ji(D)?D({rtl:$,position:M,type:v,defaultClassName:N}):Ua(N,D),pe=DL(r),q=!!ne||!p,Y={closeToast:w,type:v,theme:V},oe=null;return c===!1||(ji(c)?oe=c(Y):T.isValidElement(c)?oe=T.cloneElement(c,Y):oe=lL(Y)),Fe.createElement(O,{isIn:A,done:R,position:M,preventExitTransition:t,nodeRef:s,playToast:l},Fe.createElement("div",{id:te,tabIndex:0,onClick:g,"data-in":A,className:_e,...o,style:k,ref:s,...A&&{role:F,"aria-label":j}},pe!=null&&Fe.createElement("div",{className:Ua("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},pe),HA(m,r,!e),oe,!r.customProgressBar&&Fe.createElement(uL,{...H&&!q?{key:`p-${H}`}:{},rtl:$,theme:V,delay:p,isRunning:e,isIn:A,closeToast:w,hide:b,type:v,className:P,controlledProgress:q,progress:ne||0})))},ML=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),PL=oL(ML("bounce",!0)),LL={position:"top-right",transition:PL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function VL(r){let e={...LL,...r},t=r.stacked,[s,o]=T.useState(!0),l=T.useRef(null),{getToastToRender:c,isToastActive:m,count:p}=wL(e),{className:g,style:v,rtl:b,containerId:w,hotKeys:O}=e;function M(k){let P=Ua("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":b});return ji(g)?g({position:k,rtl:b,defaultClassName:P}):Ua(P,Og(g))}function D(){t&&(o(!0),at.play())}return AL(()=>{var k;if(t){let P=l.current.querySelectorAll('[data-in="true"]'),H=12,F=(k=e.position)==null?void 0:k.includes("top"),ne=0,$=0;Array.from(P).reverse().forEach((te,R)=>{let A=te;A.classList.add("Toastify__toast--stacked"),R>0&&(A.dataset.collapsed=`${s}`),A.dataset.pos||(A.dataset.pos=F?"top":"bot");let I=ne*(s?.2:1)+(s?0:H*R);A.style.setProperty("--y",`${F?I:I*-1}px`),A.style.setProperty("--g",`${H}`),A.style.setProperty("--s",`${1-(s?$:0)}`),ne+=A.offsetHeight,$+=.025})}},[s,p,t]),T.useEffect(()=>{function k(P){var H;let F=l.current;O(P)&&((H=F.querySelector('[tabIndex="0"]'))==null||H.focus(),o(!1),at.pause()),P.key==="Escape"&&(document.activeElement===F||F!=null&&F.contains(document.activeElement))&&(o(!0),at.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[O]),Fe.createElement("section",{ref:l,className:"Toastify",id:w,onMouseEnter:()=>{t&&(o(!1),at.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((k,P)=>{let H=P.length?{...v}:{...v,pointerEvents:"none"};return Fe.createElement("div",{tabIndex:-1,className:M(k),"data-stacked":t,style:H,key:`c-${k}`},P.map(({content:F,props:ne})=>Fe.createElement(kL,{...ne,stacked:t,collapseAll:D,isIn:m(ne.toastId,ne.containerId),key:`t-${ne.key}`},F)))}))}function MT({children:r}){const[e,t]=T.useState(void 0);return T.useEffect(()=>{const s=ic(Ga,o=>t(o||null));return()=>s()},[]),e===void 0?C.jsx("p",{className:"text-center mt-10",children:"Checking admin"}):e?jS(e)?r:C.jsx(xu,{to:"/",replace:!0}):C.jsx(xu,{to:"/login",replace:!0})}const UL="airbrushnink@gmail.com";function jL(r){return{heroImages:Array.isArray(r?.heroImages)?r.heroImages:[],services:Array.isArray(r?.services)?r.services:[]}}async function PT(r,e){const t=Qu(Uf,e),s=VS(t,r);return await new Promise((o,l)=>{s.on("state_changed",null,l,o)}),await cd(s.snapshot.ref)}function tf(r,e,t="Operation"){let s;const o=new Promise((l,c)=>{s=setTimeout(()=>c(new Error(`${t} timed out after ${e}ms`)),e)});return Promise.race([r,o]).finally(()=>clearTimeout(s))}function zL(){const[r,e]=T.useState(null),[t,s]=T.useState(!1),o=T.useMemo(()=>t&&r?.email?.toLowerCase().trim()===UL.toLowerCase().trim(),[t,r]),[l,c]=T.useState(!0),[m,p]=T.useState(Lu.heroImages||[]),[g,v]=T.useState(Lu.services||[]),[b,w]=T.useState(!1),[O,M]=T.useState(!1),[D,k]=T.useState(!1),[P,H]=T.useState(""),[F,ne]=T.useState(null),$=T.useRef(null),te=()=>{w(!0),k(!1),H("")};T.useEffect(()=>{const q=ic(Ga,Y=>{e(Y),s(!0)});return()=>q()},[]),T.useEffect(()=>{t&&(async()=>{c(!0),H("");try{const Y=await tf(yS(wg(Rg,"siteContent","home")),12e3,"Load home content");if(Y.exists()){const oe=jL(Y.data());oe.heroImages.length&&p(oe.heroImages),oe.services.length&&v(oe.services)}w(!1),k(!1),ne(null)}catch(Y){console.error("Load home content failed:",Y),H(Y?.message||"Failed to load.")}finally{c(!1)}})()},[t]);const R=async()=>{if(!o)return alert("Not authorized.");if(!navigator.onLine){H("You look offline. Check internet, then try again.");return}M(!0),k(!1),H("");try{await tf(y3(wg(Rg,"siteContent","home"),{heroImages:m,services:g,updatedAt:E3()},{merge:!0}),15e3,"Save home content"),w(!1),k(!0),ne(new Date),setTimeout(()=>k(!1),2500)}catch(q){console.error("Save failed:",q),H(q?.message||"Save failed. Check console.")}finally{M(!1)}console.log("Saving to Firestore:",{heroImages:m,services:g,project:"airbrushnink-9f735"})},A=async()=>{if(!o)return alert("Not authorized.");const q=$.current?.files?.[0];if(!q)return alert("Choose a hero image first.");try{M(!0),H(""),k(!1);const Y=`${Date.now()}-${q.name}`.replace(/\s+/g,"_"),oe=await tf(PT(q,`site/home/hero/${Y}`),3e4,"Hero upload");p(ge=>[...ge,oe]),$.current&&($.current.value=""),te()}catch(Y){console.error(Y),H(Y?.message||"Hero upload failed.")}finally{M(!1)}},I=q=>{p(Y=>Y.filter((oe,ge)=>ge!==q)),te()},L=(q,Y)=>{p(oe=>{const ge=[...oe],Re=q+Y;return Re<0||Re>=ge.length?oe:([ge[q],ge[Re]]=[ge[Re],ge[q]],ge)}),te()},V=(q,Y)=>{v(oe=>{const ge=[...oe];return ge[q]={...ge[q],...Y},ge}),te()},j=()=>{v(q=>[...q,{tag:"NEW",title:"New Service",description:"Type something here.",image:"",link:"/portfolio"}]),te()},N=q=>{v(Y=>Y.filter((oe,ge)=>ge!==q)),te()},_e=async(q,Y)=>{if(!o)return alert("Not authorized.");if(Y)try{M(!0),H(""),k(!1);const oe=`${Date.now()}-${Y.name}`.replace(/\s+/g,"_"),ge=await tf(PT(Y,`site/home/services/${oe}`),3e4,"Service image upload");V(q,{image:ge})}catch(oe){console.error(oe),H(oe?.message||"Service image upload failed.")}finally{M(!1)}},pe=O?"Saving...":P?"Save Failed":D?"Saved ":b?"Save Changes":"Up to date";return l?C.jsx("div",{className:"min-h-screen flex items-center justify-center text-white",children:"Loading Home editor..."}):C.jsx("div",{className:"min-h-screen bg-gradient-to-r from-black via-[#111] to-[#222] text-white px-4 pb-16",children:C.jsxs("div",{className:"max-w-5xl mx-auto pt-10",children:[C.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold",children:"Edit Home Page"}),C.jsxs("div",{className:"mt-2 flex items-center gap-3 text-sm",children:[b?C.jsx("span",{className:"text-yellow-300",children:"Unsaved changes"}):C.jsx("span",{className:"text-gray-400",children:"No unsaved changes"}),D&&C.jsxs("span",{className:"text-green-300",children:["Saved ",F?`(${F.toLocaleTimeString()})`:""]}),P&&C.jsxs("span",{className:"text-red-300",children:["Save failed  ",P]})]})]}),C.jsxs("button",{onClick:R,disabled:!o||O||!b&&!P,className:"px-4 py-2 rounded bg-white text-black font-semibold disabled:opacity-40 flex items-center gap-2",title:o?"":"Admin only",children:[O&&C.jsx("span",{className:"inline-block h-4 w-4 rounded-full border-2 border-black/30 border-t-black animate-spin","aria-label":"Saving"}),pe]})]}),!o&&C.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Youre logged in, but youre not admin  editing is locked."}),C.jsxs("div",{className:"mt-10 p-6 rounded-2xl bg-black/40 border border-white/10",children:[C.jsx("h2",{className:"text-xl font-bold mb-4",children:"Hero Images"}),C.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[C.jsx("input",{type:"file",ref:$,className:"bg-black text-white rounded p-2",accept:"image/*",disabled:!o||O}),C.jsx("button",{onClick:A,disabled:!o||O,className:"px-4 py-2 rounded bg-gradient-to-r from-black to-[#222] border border-white/10 disabled:opacity-40",children:"Upload Hero Image"})]}),C.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:m.map((q,Y)=>C.jsxs("div",{className:"rounded-xl overflow-hidden bg-black/50 border border-white/10",children:[C.jsx("img",{src:q,alt:`Hero ${Y+1}`,className:"w-full h-44 object-cover"}),C.jsxs("div",{className:"p-3 flex items-center justify-between gap-2",children:[C.jsxs("div",{className:"text-xs text-gray-300 truncate",children:["#",Y+1]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>L(Y,-1),disabled:!o||Y===0||O,className:"px-2 py-1 text-xs rounded bg-white/10 disabled:opacity-30",children:"Up"}),C.jsx("button",{onClick:()=>L(Y,1),disabled:!o||Y===m.length-1||O,className:"px-2 py-1 text-xs rounded bg-white/10 disabled:opacity-30",children:"Down"}),C.jsx("button",{onClick:()=>I(Y),disabled:!o||O,className:"px-2 py-1 text-xs rounded bg-red-600 disabled:opacity-30",children:"Remove"})]})]})]},q+Y))}),m.length===0&&C.jsx("p",{className:"mt-4 text-gray-400",children:"No hero images yet."})]}),C.jsxs("div",{className:"mt-10 p-6 rounded-2xl bg-black/40 border border-white/10",children:[C.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[C.jsx("h2",{className:"text-xl font-bold",children:"Service Cards"}),C.jsx("button",{onClick:j,disabled:!o||O,className:"px-4 py-2 rounded bg-white/10 border border-white/10 disabled:opacity-40",children:"+ Add Service"})]}),C.jsx("div",{className:"mt-6 space-y-8",children:g.map((q,Y)=>C.jsxs("div",{className:"p-5 rounded-xl bg-black/50 border border-white/10",children:[C.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[C.jsxs("div",{className:"min-w-[280px] flex-1",children:[C.jsx("label",{className:"text-sm text-gray-300",children:"Tag"}),C.jsx("input",{value:q.tag||"",onChange:oe=>V(Y,{tag:oe.target.value}),disabled:!o||O,className:"w-full mt-1 p-2 rounded bg-black border border-white/10"})]}),C.jsxs("div",{className:"min-w-[280px] flex-1",children:[C.jsx("label",{className:"text-sm text-gray-300",children:"Title"}),C.jsx("input",{value:q.title||"",onChange:oe=>V(Y,{title:oe.target.value}),disabled:!o||O,className:"w-full mt-1 p-2 rounded bg-black border border-white/10"})]}),C.jsxs("div",{className:"min-w-[280px] flex-1",children:[C.jsx("label",{className:"text-sm text-gray-300",children:"Link"}),C.jsx("input",{value:q.link||"",onChange:oe=>V(Y,{link:oe.target.value}),disabled:!o||O,className:"w-full mt-1 p-2 rounded bg-black border border-white/10"})]})]}),C.jsxs("div",{className:"mt-4",children:[C.jsx("label",{className:"text-sm text-gray-300",children:"Description"}),C.jsx("textarea",{value:q.description||"",onChange:oe=>V(Y,{description:oe.target.value}),disabled:!o||O,rows:5,className:"w-full mt-1 p-2 rounded bg-black border border-white/10",placeholder:`Use line breaks freely.

They will render.`})]}),C.jsxs("div",{className:"mt-4 flex items-center gap-4 flex-wrap",children:[C.jsxs("div",{className:"flex-1 min-w-[260px]",children:[C.jsx("label",{className:"text-sm text-gray-300",children:"Card Image"}),C.jsxs("div",{className:"mt-2 flex items-center gap-3 flex-wrap",children:[C.jsx("input",{type:"file",accept:"image/*",disabled:!o||O,onChange:oe=>_e(Y,oe.target.files?.[0]),className:"bg-black text-white rounded p-2"}),C.jsx("button",{onClick:()=>N(Y),disabled:!o||O,className:"px-3 py-2 rounded bg-red-600 disabled:opacity-40",children:"Delete Card"})]})]}),C.jsx("div",{className:"w-full sm:w-[360px]",children:q.image?C.jsx("img",{src:q.image,alt:q.title||"Service image",className:"w-full h-40 object-cover rounded-lg border border-white/10"}):C.jsx("div",{className:"w-full h-40 rounded-lg border border-white/10 flex items-center justify-center text-gray-400",children:"No image yet"})})]})]},Y))}),g.length===0&&C.jsx("p",{className:"mt-4 text-gray-400",children:"No service cards yet."})]}),C.jsx("div",{className:"mt-10 text-xs text-gray-400",children:"Uploading images updates the URL immediately, but you still need to click Save to write everything to Firestore."})]})})}function BL({initialFolder:r="airbrush",onAddToCart:e}){const[t,s]=T.useState(r),[o,l]=T.useState([]),[c,m]=T.useState({}),[p,g]=T.useState(!0),[v,b]=T.useState(!1),[w,O]=T.useState(0),{addToCart:M}=gd(),D=US(),k=["airbrush"],P=Object.keys(gf),H=5;T.useEffect(()=>{let $=!0;const te=(L="")=>L.replace(/\.[^.]+$/,""),R=(L="")=>{const V=L.match(/\.([^.]+)$/);return V?V[1].toLowerCase():""},A=(L="")=>{const V=R(L);return["jpg","jpeg","png","webp"].includes(V)};return(async()=>{g(!0);try{const L=Qu(D,`${t}`),j=(await Gy(L)).items.filter(Y=>A(Y.name)),N=new Map;for(const Y of j){const oe=Y.name;if(oe.toLowerCase().endsWith("__thumb.webp"))continue;const ge=te(oe),Re=R(oe);N.has(ge)||N.set(ge,{});const z=N.get(ge);Re==="webp"&&(z.webpRef=Y),(Re==="jpg"||Re==="jpeg")&&(z.jpgRef=Y),Re==="png"&&(z.pngRef=Y)}const _e=Array.from(N.keys()).sort((Y,oe)=>Y.localeCompare(oe)),q=(await Promise.all(_e.map(async Y=>{const oe=N.get(Y)||{},ge=oe.webpRef||oe.jpgRef||oe.pngRef;if(!ge)return null;const Re=await cd(ge),[z,W]=Y.split("__");return{title:z||"Untitled",quantity:W||H,sizes:P,url:Re}}))).filter(Boolean);$&&l(q)}catch(L){console.error(" Storage error:",L?.message||L),$&&l([])}finally{$&&g(!1)}})(),()=>{$=!1}},[t]);const F=($,te)=>{m(R=>({...R,[$]:{...R[$],size:te}}))},ne=($,te)=>{m(R=>({...R,[$]:{...R[$],quantity:te}}))};return C.jsxs("div",{className:"text-white px-4",children:[C.jsx("div",{className:"flex justify-center mb-8",children:C.jsx("select",{value:t,onChange:$=>s($.target.value),className:"bg-zinc-800 text-white border border-zinc-600 px-4 py-2 rounded",children:k.map($=>C.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1)},$))})}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 mb-20",children:o.map(($,te)=>C.jsxs("div",{className:"bg-zinc-800 p-4 rounded-lg shadow-md flex flex-col",children:[C.jsx("img",{src:$.url,alt:$.title,className:"w-full max-h-64 object-contain mb-4 rounded cursor-pointer",onClick:()=>{O(te),b(!0)}}),C.jsx("h2",{className:"text-xl font-semibold mb-1",children:$.title}),C.jsx("label",{className:"block mb-1 text-sm",children:"Size:"}),C.jsxs("select",{className:"w-full p-2 mb-3 rounded bg-zinc-700 text-white",onChange:R=>F(te,R.target.value),value:c[te]?.size||"",children:[C.jsx("option",{value:"",children:"Select size"}),$.sizes?.map((R,A)=>C.jsxs("option",{value:R,children:[R,"  $",gf[R]||"?"]},A))]}),C.jsx("label",{className:"block mb-1 text-sm",children:"Quantity:"}),C.jsx("select",{className:"w-full p-2 mb-3 rounded bg-zinc-700 text-white",onChange:R=>ne(te,R.target.value),value:c[te]?.quantity||1,children:Array.from({length:Number($.quantity)},(R,A)=>A+1).map(R=>C.jsx("option",{value:R,children:R},R))}),C.jsx("button",{className:"w-full bg-gradient-to-r from-[#111] to-[#333] hover:from-[#222] hover:to-[#444] text-white border border-[#444] py-2 rounded mt-auto transition-colors duration-300",onClick:()=>{const R=c[te]?.size,A=parseInt(c[te]?.quantity||1),I=gf[R]||0;M({title:$.title,size:R,quantity:A,price:I,image:$.url}),e&&e(),sessionStorage.setItem("openCartOnReturn","true"),toast.success(`${A} of "${$.title}" added to cart!`)},disabled:!c[te]?.size,children:"Add to Cart"})]},te))}),p&&C.jsxs("div",{className:"col-span-full text-center mt-12",children:[C.jsxs("svg",{className:"animate-spin h-8 w-8 text-white mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[C.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),C.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4z"})]}),C.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Loading products..."})]}),!p&&o.length===0&&C.jsxs("p",{className:"text-white col-span-full text-center mt-12",children:["No products found in ",C.jsx("span",{className:"font-semibold",children:t}),"."]}),C.jsx(EA,{open:v,close:()=>b(!1),index:w,slides:o.map($=>({src:$.url})),animation:{fade:250},styles:{container:{backdropFilter:"blur(10px)",backgroundColor:"rgba(0, 0, 0, 0.3)",WebkitBackdropFilter:"blur(10px)"},slide:{display:"flex",alignItems:"center",justifyContent:"center"}},render:{slide:({slide:$})=>C.jsx("img",{src:$.src,alt:$.caption,style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain"}})}})]})}let HL={data:""},qL=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||HL,FL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,GL=/\/\*[^]*?\*\/|  +/g,LT=/\n+/g,Us=(r,e)=>{let t="",s="",o="";for(let l in r){let c=r[l];l[0]=="@"?l[1]=="i"?t=l+" "+c+";":s+=l[1]=="f"?Us(c,l):l+"{"+Us(c,l[1]=="k"?"":e)+"}":typeof c=="object"?s+=Us(c,e?e.replace(/([^,])+/g,m=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Us.p?Us.p(l,c):l+":"+c+";")}return t+(e&&o?e+"{"+o+"}":o)+s},xi={},YA=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+YA(r[t]);return e}return r},$L=(r,e,t,s,o)=>{let l=YA(r),c=xi[l]||(xi[l]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(l));if(!xi[c]){let p=l!==r?r:(g=>{let v,b,w=[{}];for(;v=FL.exec(g.replace(GL,""));)v[4]?w.shift():v[3]?(b=v[3].replace(LT," ").trim(),w.unshift(w[0][b]=w[0][b]||{})):w[0][v[1]]=v[2].replace(LT," ").trim();return w[0]})(r);xi[c]=Us(o?{["@keyframes "+c]:p}:p,t?"":"."+c)}let m=t&&xi.g?xi.g:null;return t&&(xi.g=xi[c]),((p,g,v,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(xi[c],e,s,m),c},KL=(r,e,t)=>r.reduce((s,o,l)=>{let c=e[l];if(c&&c.call){let m=c(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;c=p?"."+p:m&&typeof m=="object"?m.props?"":Us(m,""):m===!1?"":m}return s+o+(c??"")},"");function Ed(r){let e=this||{},t=r.call?r(e.p):r;return $L(t.unshift?t.raw?KL(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,qL(e.target),e.g,e.o,e.k)}let XA,Pg,Lg;Ed.bind({g:1});let zi=Ed.bind({k:1});function YL(r,e,t,s){Us.p=e,XA=r,Pg=t,Lg=s}function na(r,e){let t=this||{};return function(){let s=arguments;function o(l,c){let m=Object.assign({},l),p=m.className||o.className;t.p=Object.assign({theme:Pg&&Pg()},m),t.o=/ *go\d+/.test(p),m.className=Ed.apply(t,s)+(p?" "+p:"");let g=r;return r[0]&&(g=m.as||r,delete m.as),Lg&&g[0]&&Lg(m),XA(g,m)}return o}}var XL=r=>typeof r=="function",Vg=(r,e)=>XL(r)?r(e):r,QL=(()=>{let r=0;return()=>(++r).toString()})(),WL=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),JL=20,QA=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,JL)};case 1:return{...r,toasts:r.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return QA(r,{type:r.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...r,toasts:r.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},ZL=[],Qp={toasts:[],pausedAt:void 0},n_=r=>{Qp=QA(Qp,r),ZL.forEach(e=>{e(Qp)})},eV=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:t?.id||QL()}),vc=r=>(e,t)=>{let s=eV(e,r,t);return n_({type:2,toast:s}),s.id},Vn=(r,e)=>vc("blank")(r,e);Vn.error=vc("error");Vn.success=vc("success");Vn.loading=vc("loading");Vn.custom=vc("custom");Vn.dismiss=r=>{n_({type:3,toastId:r})};Vn.remove=r=>n_({type:4,toastId:r});Vn.promise=(r,e,t)=>{let s=Vn.loading(e.loading,{...t,...t?.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let l=e.success?Vg(e.success,o):void 0;return l?Vn.success(l,{id:s,...t,...t?.success}):Vn.dismiss(s),o}).catch(o=>{let l=e.error?Vg(e.error,o):void 0;l?Vn.error(l,{id:s,...t,...t?.error}):Vn.dismiss(s)}),r};var tV=zi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,nV=zi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rV=zi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,iV=na("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${nV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,sV=zi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,aV=na("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${sV} 1s linear infinite;
`,oV=zi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lV=zi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,uV=na("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cV=na("div")`
  position: absolute;
`,hV=na("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fV=zi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dV=na("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,mV=({toast:r})=>{let{icon:e,type:t,iconTheme:s}=r;return e!==void 0?typeof e=="string"?T.createElement(dV,null,e):e:t==="blank"?null:T.createElement(hV,null,T.createElement(aV,{...s}),t!=="loading"&&T.createElement(cV,null,t==="error"?T.createElement(iV,{...s}):T.createElement(uV,{...s})))},pV=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gV=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,yV="0%{opacity:0;} 100%{opacity:1;}",_V="0%{opacity:1;} 100%{opacity:0;}",vV=na("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,EV=na("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bV=(r,e)=>{let t=r.includes("top")?1:-1,[s,o]=WL()?[yV,_V]:[pV(t),gV(t)];return{animation:e?`${zi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zi(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};T.memo(({toast:r,position:e,style:t,children:s})=>{let o=r.height?bV(r.position||e||"top-center",r.visible):{opacity:0},l=T.createElement(mV,{toast:r}),c=T.createElement(EV,{...r.ariaProps},Vg(r.message,r));return T.createElement(vV,{className:r.className,style:{...o,...t,...r.style}},typeof s=="function"?s({icon:l,message:c}):T.createElement(T.Fragment,null,l,c))});YL(T.createElement);Ed`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;function TV(){const r=Bi(),{setIsCartOpen:e}=gd();return T.useEffect(()=>{const s=new URLSearchParams(r.search).get("status");s==="success"?Vn.success("Payment successful!"):s==="cancel"&&Vn.error("Checkout canceled."),r.state?.openCart&&(e(!0),window.history.replaceState({},document.title))},[r,e]),C.jsxs("div",{className:"relative min-h-screen pt-24 px-4 text-white",children:[C.jsx("h1",{className:`absolute \r
    top-[-1rem] sm:top-[0rem] md:top-[-3rem] lg:top-[-5rem] \r
    left-1/2 transform -translate-x-1/2 \r
    text-[15vw] sm:text-[15vw] md:text-[15vw] lg:text-[15vw] \r
    max-w-[100vw] overflow-hidden whitespace-nowrap\r
    font-extrabold text-white opacity-5 tracking-widest \r
    pointer-events-none select-none z-0`,children:"AIRBRUSH"}),C.jsxs("div",{className:"relative z-10 text-center",children:[C.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Shop"}),C.jsx(BL,{onAddToCart:()=>e(!0)})]})]})}function wV(){const[r,e]=T.useState(null);return T.useEffect(()=>{const t=ic(Ga,s=>{e(s)});return()=>t()},[]),C.jsxs($x,{children:[C.jsxs("div",{className:"flex flex-col min-h-screen",children:[C.jsx(X6,{}),C.jsx("main",{className:"flex-grow",children:C.jsxs(wx,{children:[C.jsx(Qn,{path:"/",element:C.jsx(JM,{})}),C.jsx(Qn,{path:"/gallery",element:C.jsx(Q6,{})}),C.jsx(Qn,{path:"/portfolio/airbrush",element:C.jsx(m6,{})}),C.jsx(Qn,{path:"/portfolio/photoshop",element:C.jsx(p6,{})}),C.jsx(Qn,{path:"/shop",element:C.jsx(TV,{})}),C.jsx(Qn,{path:"/contact",element:C.jsx(nL,{})}),C.jsx(Qn,{path:"/success",element:C.jsx(xu,{to:"/shop"})}),C.jsx(Qn,{path:"/cancel",element:C.jsx(xu,{to:"/shop"})}),C.jsx(Qn,{path:"/admin",element:C.jsx(MT,{children:C.jsx(Z6,{})})}),C.jsx(Qn,{path:"/admin/home",element:C.jsx(MT,{children:C.jsx(zL,{})})}),C.jsx(Qn,{path:"/upload",element:C.jsx(xu,{to:"/admin",replace:!0})}),C.jsx(Qn,{path:"/login",element:C.jsx(eL,{})})]})}),C.jsx(tL,{})]}),C.jsx(VL,{position:"top-right",autoClose:2e3})]})}k2.createRoot(document.getElementById("root")).render(C.jsx(Fe.StrictMode,{children:C.jsx(k6,{children:C.jsx(wV,{})})}));
