(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Nb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var yp={exports:{}},_u={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function v2(){if(gE)return _u;gE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:l}}return _u.Fragment=e,_u.jsx=t,_u.jsxs=t,_u}var yE;function E2(){return yE||(yE=1,yp.exports=v2()),yp.exports}var C=E2(),_p={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function T2(){if(_E)return Ie;_E=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function O(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,k={};function V(j,Q,ue){this.props=j,this.context=Q,this.refs=k,this.updater=ue||P}V.prototype.isReactComponent={},V.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},V.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function H(){}H.prototype=V.prototype;function F(j,Q,ue){this.props=j,this.context=Q,this.refs=k,this.updater=ue||P}var te=F.prototype=new H;te.constructor=F,D(te,V.prototype),te.isPureReactComponent=!0;var J=Array.isArray;function ie(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(j,Q,ue){var fe=ue.ref;return{$$typeof:i,type:j,key:Q,ref:fe!==void 0?fe:null,props:ue}}function M(j,Q){return I(j.type,Q,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function B(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return Q[ue]})}var N=/\/+/g;function Ae(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?B(""+j.key):Q.toString(36)}function _e(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ie,ie):(j.status="pending",j.then(function(Q){j.status==="pending"&&(j.status="fulfilled",j.value=Q)},function(Q){j.status==="pending"&&(j.status="rejected",j.reason=Q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function q(j,Q,ue,fe,Ee){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var Oe=!1;if(j===null)Oe=!0;else switch(Ce){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(j.$$typeof){case i:case e:Oe=!0;break;case v:return Oe=j._init,q(Oe(j._payload),Q,ue,fe,Ee)}}if(Oe)return Ee=Ee(j),Oe=fe===""?"."+Ae(j,0):fe,J(Ee)?(ue="",Oe!=null&&(ue=Oe.replace(N,"$&/")+"/"),q(Ee,Q,ue,"",function(An){return An})):Ee!=null&&(L(Ee)&&(Ee=M(Ee,ue+(Ee.key==null||j&&j.key===Ee.key?"":(""+Ee.key).replace(N,"$&/")+"/")+Oe)),Q.push(Ee)),1;Oe=0;var St=fe===""?".":fe+":";if(J(j))for(var ot=0;ot<j.length;ot++)fe=j[ot],Ce=St+Ae(fe,ot),Oe+=q(fe,Q,ue,Ce,Ee);else if(ot=O(j),typeof ot=="function")for(j=ot.call(j),ot=0;!(fe=j.next()).done;)fe=fe.value,Ce=St+Ae(fe,ot++),Oe+=q(fe,Q,ue,Ce,Ee);else if(Ce==="object"){if(typeof j.then=="function")return q(_e(j),Q,ue,fe,Ee);throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function X(j,Q,ue){if(j==null)return j;var fe=[],Ee=0;return q(j,fe,"","",function(Ce){return Q.call(ue,Ce,Ee++)}),fe}function oe(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var pe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Re={map:X,forEach:function(j,Q,ue){X(j,function(){Q.apply(this,arguments)},ue)},count:function(j){var Q=0;return X(j,function(){Q++}),Q},toArray:function(j){return X(j,function(Q){return Q})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ie.Activity=T,Ie.Children=Re,Ie.Component=V,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=F,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},Ie.cache=function(j){return function(){return j.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(j,Q,ue){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var fe=D({},j.props),Ee=j.key;if(Q!=null)for(Ce in Q.key!==void 0&&(Ee=""+Q.key),Q)!A.call(Q,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Q.ref===void 0||(fe[Ce]=Q[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=ue;else if(1<Ce){for(var Oe=Array(Ce),St=0;St<Ce;St++)Oe[St]=arguments[St+2];fe.children=Oe}return I(j.type,Ee,fe)},Ie.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Ie.createElement=function(j,Q,ue){var fe,Ee={},Ce=null;if(Q!=null)for(fe in Q.key!==void 0&&(Ce=""+Q.key),Q)A.call(Q,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ee[fe]=Q[fe]);var Oe=arguments.length-2;if(Oe===1)Ee.children=ue;else if(1<Oe){for(var St=Array(Oe),ot=0;ot<Oe;ot++)St[ot]=arguments[ot+2];Ee.children=St}if(j&&j.defaultProps)for(fe in Oe=j.defaultProps,Oe)Ee[fe]===void 0&&(Ee[fe]=Oe[fe]);return I(j,Ce,Ee)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(j){return{$$typeof:m,render:j}},Ie.isValidElement=L,Ie.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:oe}},Ie.memo=function(j,Q){return{$$typeof:g,type:j,compare:Q===void 0?null:Q}},Ie.startTransition=function(j){var Q=R.T,ue={};R.T=ue;try{var fe=j(),Ee=R.S;Ee!==null&&Ee(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ie,pe)}catch(Ce){pe(Ce)}finally{Q!==null&&ue.types!==null&&(Q.types=ue.types),R.T=Q}},Ie.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ie.use=function(j){return R.H.use(j)},Ie.useActionState=function(j,Q,ue){return R.H.useActionState(j,Q,ue)},Ie.useCallback=function(j,Q){return R.H.useCallback(j,Q)},Ie.useContext=function(j){return R.H.useContext(j)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(j,Q){return R.H.useDeferredValue(j,Q)},Ie.useEffect=function(j,Q){return R.H.useEffect(j,Q)},Ie.useEffectEvent=function(j){return R.H.useEffectEvent(j)},Ie.useId=function(){return R.H.useId()},Ie.useImperativeHandle=function(j,Q,ue){return R.H.useImperativeHandle(j,Q,ue)},Ie.useInsertionEffect=function(j,Q){return R.H.useInsertionEffect(j,Q)},Ie.useLayoutEffect=function(j,Q){return R.H.useLayoutEffect(j,Q)},Ie.useMemo=function(j,Q){return R.H.useMemo(j,Q)},Ie.useOptimistic=function(j,Q){return R.H.useOptimistic(j,Q)},Ie.useReducer=function(j,Q,ue){return R.H.useReducer(j,Q,ue)},Ie.useRef=function(j){return R.H.useRef(j)},Ie.useState=function(j){return R.H.useState(j)},Ie.useSyncExternalStore=function(j,Q,ue){return R.H.useSyncExternalStore(j,Q,ue)},Ie.useTransition=function(){return R.H.useTransition()},Ie.version="19.2.4",Ie}var vE;function Mg(){return vE||(vE=1,_p.exports=T2()),_p.exports}var b=Mg();const Fe=Nb(b);var vp={exports:{}},vu={},Ep={exports:{}},Tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function b2(){return EE||(EE=1,function(i){function e(q,X){var oe=q.length;q.push(X);e:for(;0<oe;){var pe=oe-1>>>1,Re=q[pe];if(0<o(Re,X))q[pe]=X,q[oe]=Re,oe=pe;else break e}}function t(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var X=q[0],oe=q.pop();if(oe!==X){q[0]=oe;e:for(var pe=0,Re=q.length,j=Re>>>1;pe<j;){var Q=2*(pe+1)-1,ue=q[Q],fe=Q+1,Ee=q[fe];if(0>o(ue,oe))fe<Re&&0>o(Ee,ue)?(q[pe]=Ee,q[fe]=oe,pe=fe):(q[pe]=ue,q[Q]=oe,pe=Q);else if(fe<Re&&0>o(Ee,oe))q[pe]=Ee,q[fe]=oe,pe=fe;else break e}}return X}function o(q,X){var oe=q.sortIndex-X.sortIndex;return oe!==0?oe:q.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,T=null,w=3,O=!1,P=!1,D=!1,k=!1,V=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function te(q){for(var X=t(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=q)s(g),X.sortIndex=X.expirationTime,e(p,X);else break;X=t(g)}}function J(q){if(D=!1,te(q),!P)if(t(p)!==null)P=!0,ie||(ie=!0,B());else{var X=t(g);X!==null&&_e(J,X.startTime-q)}}var ie=!1,R=-1,A=5,I=-1;function M(){return k?!0:!(i.unstable_now()-I<A)}function L(){if(k=!1,ie){var q=i.unstable_now();I=q;var X=!0;try{e:{P=!1,D&&(D=!1,H(R),R=-1),O=!0;var oe=w;try{t:{for(te(q),T=t(p);T!==null&&!(T.expirationTime>q&&M());){var pe=T.callback;if(typeof pe=="function"){T.callback=null,w=T.priorityLevel;var Re=pe(T.expirationTime<=q);if(q=i.unstable_now(),typeof Re=="function"){T.callback=Re,te(q),X=!0;break t}T===t(p)&&s(p),te(q)}else s(p);T=t(p)}if(T!==null)X=!0;else{var j=t(g);j!==null&&_e(J,j.startTime-q),X=!1}}break e}finally{T=null,w=oe,O=!1}X=void 0}}finally{X?B():ie=!1}}}var B;if(typeof F=="function")B=function(){F(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ae=N.port2;N.port1.onmessage=L,B=function(){Ae.postMessage(null)}}else B=function(){V(L,0)};function _e(q,X){R=V(function(){q(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(q){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var oe=w;w=X;try{return q()}finally{w=oe}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=w;w=q;try{return X()}finally{w=oe}},i.unstable_scheduleCallback=function(q,X,oe){var pe=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?pe+oe:pe):oe=pe,q){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=oe+Re,q={id:v++,callback:X,priorityLevel:q,startTime:oe,expirationTime:Re,sortIndex:-1},oe>pe?(q.sortIndex=oe,e(g,q),t(p)===null&&q===t(g)&&(D?(H(R),R=-1):D=!0,_e(J,oe-pe))):(q.sortIndex=Re,e(p,q),P||O||(P=!0,ie||(ie=!0,B()))),q},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(q){var X=w;return function(){var oe=w;w=X;try{return q.apply(this,arguments)}finally{w=oe}}}}(Tp)),Tp}var TE;function w2(){return TE||(TE=1,Ep.exports=b2()),Ep.exports}var bp={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function S2(){if(bE)return cn;bE=1;var i=Mg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,cn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},cn.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},cn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},cn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},cn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:O}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},cn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},cn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},cn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},cn.requestFormReset=function(p){s.d.r(p)},cn.unstable_batchedUpdates=function(p,g){return p(g)},cn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var wE;function Ob(){if(wE)return bp.exports;wE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bp.exports=S2(),bp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function A2(){if(SE)return vu;SE=1;var i=w2(),e=Mg(),t=Ob();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===u)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,u=d;break}if(S===u){_=!0,u=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,u=f;break}if(S===u){_=!0,u=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function v(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=v(n),r!==null)return r;n=n.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function Ae(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case V:return"Profiler";case k:return"StrictMode";case J:return"Suspense";case ie:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case P:return"Portal";case F:return n.displayName||"Context";case H:return(n._context.displayName||"Context")+".Consumer";case te:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return r=n.displayName||null,r!==null?r:Ae(n.type)||"Memo";case A:r=n._payload,n=n._init;try{return Ae(n(r))}catch{}}return null}var _e=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},pe=[],Re=-1;function j(n){return{current:n}}function Q(n){0>Re||(n.current=pe[Re],pe[Re]=null,Re--)}function ue(n,r){Re++,pe[Re]=n.current,n.current=r}var fe=j(null),Ee=j(null),Ce=j(null),Oe=j(null);function St(n,r){switch(ue(Ce,r),ue(Ee,n),ue(fe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?j0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=j0(r),n=z0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(fe),ue(fe,n)}function ot(){Q(fe),Q(Ee),Q(Ce)}function An(n){n.memoizedState!==null&&ue(Oe,n);var r=fe.current,a=z0(r,n.type);r!==a&&(ue(Ee,n),ue(fe,a))}function di(n){Ee.current===n&&(Q(fe),Q(Ee)),Oe.current===n&&(Q(Oe),mu._currentValue=oe)}var Ri,Hr;function jn(n){if(Ri===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ri=r&&r[1]||"",Hr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ri+n+Hr}var zn=!1;function Zi(n,r){if(!n||zn)return"";zn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var W=Z}Reflect.construct(n,[],se)}else{try{se.call()}catch(Z){W=Z}n.call(se.prototype)}}else{try{throw Error()}catch(Z){W=Z}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var U=_.split(`
`),Y=S.split(`
`);for(f=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===U.length||f===Y.length)for(u=U.length-1,f=Y.length-1;1<=u&&0<=f&&U[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(U[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||U[u]!==Y[f]){var ne=`
`+U[u].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=u&&0<=f);break}}}finally{zn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?jn(a):""}function _l(n,r){switch(n.tag){case 26:case 27:case 5:return jn(n.type);case 16:return jn("Lazy");case 13:return n.child!==r&&r!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return Zi(n.type,!1);case 11:return Zi(n.type.render,!1);case 1:return Zi(n.type,!0);case 31:return jn("Activity");default:return""}}function ta(n){try{var r="",a=null;do r+=_l(n,a),a=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var er=Object.prototype.hasOwnProperty,tr=i.unstable_scheduleCallback,he=i.unstable_cancelCallback,et=i.unstable_shouldYield,At=i.unstable_requestPaint,tt=i.unstable_now,Qt=i.unstable_getCurrentPriorityLevel,lt=i.unstable_ImmediatePriority,gt=i.unstable_UserBlockingPriority,Rn=i.unstable_NormalPriority,qr=i.unstable_LowPriority,ln=i.unstable_IdlePriority,na=i.log,Bn=i.unstable_setDisableYieldValue,mi=null,Nt=null;function Wn(n){if(typeof na=="function"&&Bn(n),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(mi,n)}catch{}}var gn=Math.clz32?Math.clz32:_c,yd=Math.log,vl=Math.LN2;function _c(n){return n>>>=0,n===0?32:31-(yd(n)/vl|0)|0}var ia=256,xi=262144,Fr=4194304;function pi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Jn(n,r,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~d,u!==0?f=pi(u):(_&=S,_!==0?f=pi(_):a||(a=S&~n,a!==0&&(f=pi(a))))):(S=u&~d,S!==0?f=pi(S):_!==0?f=pi(_):a||(a=u&~n,a!==0&&(f=pi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Gr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function to(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function El(){var n=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),n}function nr(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function $r(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Wt(n,r,a,u,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,U=n.expirationTimes,Y=n.hiddenUpdates;for(a=_&~a;0<a;){var ne=31-gn(a),se=1<<ne;S[ne]=0,U[ne]=-1;var W=Y[ne];if(W!==null)for(Y[ne]=null,ne=0;ne<W.length;ne++){var Z=W[ne];Z!==null&&(Z.lane&=-536870913)}a&=~se}u!==0&&Tl(n,u,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~r))}function Tl(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-gn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Kr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-gn(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function Yr(n,r){var a=r&-r;return a=(a&42)!==0?1:bl(a),(a&(n.suspendedLanes|r))!==0?0:a}function bl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function wl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ir(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:uE(n.type))}function vc(n,r){var a=X.p;try{return X.p=n,r()}finally{X.p=a}}var Ci=Math.random().toString(36).slice(2),Et="__reactFiber$"+Ci,Jt="__reactProps$"+Ci,Ii="__reactContainer$"+Ci,Xr="__reactEvents$"+Ci,Ni="__reactListeners$"+Ci,Ec="__reactHandles$"+Ci,Sl="__reactResources$"+Ci,rr="__reactMarker$"+Ci;function ra(n){delete n[Et],delete n[Jt],delete n[Xr],delete n[Ni],delete n[Ec]}function sr(n){var r=n[Et];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ii]||a[Et]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=K0(n);n!==null;){if(a=n[Et])return a;n=K0(n)}return r}n=a,a=n.parentNode}return null}function ar(n){if(n=n[Et]||n[Ii]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function sa(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function gi(n){var r=n[Sl];return r||(r=n[Sl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Rt(n){n[rr]=!0}var no=new Set,Qr={};function yn(n,r){Oi(n,r),Oi(n+"Capture",r)}function Oi(n,r){for(Qr[n]=r,n=0;n<r.length;n++)no.add(r[n])}var _d=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},Rl={};function Tc(n){return er.call(Rl,n)?!0:er.call(Al,n)?!1:_d.test(n)?Rl[n]=!0:(Al[n]=!0,!1)}function Wr(n,r,a){if(Tc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Jr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Zn(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function _n(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function bc(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vd(n,r,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,d=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function io(n){if(!n._valueTracker){var r=bc(n)?"checked":"value";n._valueTracker=vd(n,r,""+n[r])}}function xl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=bc(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function ro(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var or=/[\n"\\]/g;function Tt(n){return n.replace(or,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Zr(n,r,a,u,f,d,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+_n(r)):n.value!==""+_n(r)&&(n.value=""+_n(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?so(n,_,_n(r)):a!=null?so(n,_,_n(a)):u!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+_n(S):n.removeAttribute("name")}function aa(n,r,a,u,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){io(n);return}a=a!=null?""+_n(a):"",r=r!=null?""+_n(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),io(n)}function so(n,r,a){r==="number"&&ro(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ge(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+_n(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function oa(n,r,a){if(r!=null&&(r=""+_n(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+_n(a):""}function es(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(_e(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=_n(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),io(n)}function ei(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||Ed.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function wc(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&Cl(n,f,u)}else for(var d in r)r.hasOwnProperty(d)&&Cl(n,d,r[d])}function Il(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Di(n){return bd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ht(){}var ao=null;function oo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var lr=null,Hn=null;function Sc(n){var r=ar(n);if(r&&(n=r.stateNode)){var a=n[Jt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Zr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[Jt]||null;if(!f)throw Error(s(90));Zr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&xl(u)}break e;case"textarea":oa(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ge(n,!!a.multiple,r,!1)}}}var Nl=!1;function Ac(n,r,a){if(Nl)return n(r,a);Nl=!0;try{var u=n(r);return u}finally{if(Nl=!1,(lr!==null||Hn!==null)&&(Th(),lr&&(r=lr,n=Hn,Hn=lr=null,Sc(r),n)))for(r=0;r<n.length;r++)Sc(n[r])}}function xn(n,r){var a=n.stateNode;if(a===null)return null;var u=a[Jt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ol=!1;if(yi)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){Ol=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{Ol=!1}var qn=null,lo=null,Mi=null;function ts(){if(Mi)return Mi;var n,r=lo,a=r.length,u,f="value"in qn?qn.value:qn.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(u=1;u<=_&&r[a-u]===f[d-u];u++);return Mi=f.slice(n,1<u?1-u:void 0)}function la(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ns(){return!0}function ut(){return!1}function un(n){function r(a,u,f,d,_){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ns:ut,this.isPropagationStopped=ut,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),r}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=un(ur),is=T({},ur,{view:0,detail:0}),Rc=un(is),rs,uo,vn,ca=T({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vn&&(vn&&n.type==="mousemove"?(rs=n.screenX-vn.screenX,uo=n.screenY-vn.screenY):uo=rs=0,vn=n),rs)},movementY:function(n){return"movementY"in n?n.movementY:uo}}),xc=un(ca),ha=T({},ca,{dataTransfer:0}),Cc=un(ha),Dl=T({},is,{relatedTarget:0}),ss=un(Dl),Ic=T({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),co=un(Ic),wd=T({},ur,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Nc=un(wd),fa=T({},ur,{data:0}),kl=un(fa),Oc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ml={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Pl[n])?!!r[n]:!1}function as(){return Dc}var kc=T({},is,{key:function(n){if(n.key){var r=Oc[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=la(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ml[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(n){return n.type==="keypress"?la(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?la(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Mc=un(kc),cr=T({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=un(cr),Pc=T({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),Lc=un(Pc),Vc=T({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),ho=un(Vc),En=T({},ca,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Uc=un(En),jc=T({},ur,{newState:0,oldState:0}),os=un(jc),h=[9,13,27,32],y=yi&&"CompositionEvent"in window,E=null;yi&&"documentMode"in document&&(E=document.documentMode);var x=yi&&"TextEvent"in window&&!E,$=yi&&(!y||E&&8<E&&11>=E),ee=" ",ce=!1;function Xe(n,r){switch(n){case"keyup":return h.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ot(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function qt(n,r){switch(n){case"compositionend":return Ot(r);case"keypress":return r.which!==32?null:(ce=!0,ee);case"textInput":return n=r.data,n===ee&&ce?null:n;default:return null}}function Ft(n,r){if(Me)return n==="compositionend"||!y&&Xe(n,r)?(n=ts(),Mi=lo=qn=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return $&&r.locale!=="ko"?null:r.data;default:return null}}var ls={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cn(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!ls[n.type]:r==="textarea"}function da(n,r,a,u){lr?Hn?Hn.push(u):Hn=[u]:lr=u,r=Ch(r,"onChange"),0<r.length&&(a=new ua("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var hr=null,Vl=null;function $A(n){k0(n,0)}function zc(n){var r=sa(n);if(xl(r))return n}function Jy(n,r){if(n==="change")return r}var Zy=!1;if(yi){var Sd;if(yi){var Ad="oninput"in document;if(!Ad){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),Ad=typeof e_.oninput=="function"}Sd=Ad}else Sd=!1;Zy=Sd&&(!document.documentMode||9<document.documentMode)}function t_(){hr&&(hr.detachEvent("onpropertychange",n_),Vl=hr=null)}function n_(n){if(n.propertyName==="value"&&zc(Vl)){var r=[];da(r,Vl,n,oo(n)),Ac($A,r)}}function KA(n,r,a){n==="focusin"?(t_(),hr=r,Vl=a,hr.attachEvent("onpropertychange",n_)):n==="focusout"&&t_()}function YA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return zc(Vl)}function XA(n,r){if(n==="click")return zc(r)}function QA(n,r){if(n==="input"||n==="change")return zc(r)}function WA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Fn=typeof Object.is=="function"?Object.is:WA;function Ul(n,r){if(Fn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!er.call(r,f)||!Fn(n[f],r[f]))return!1}return!0}function i_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function r_(n,r){var a=i_(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=i_(a)}}function s_(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?s_(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function a_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ro(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ro(n.document)}return r}function Rd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var JA=yi&&"documentMode"in document&&11>=document.documentMode,fo=null,xd=null,jl=null,Cd=!1;function o_(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cd||fo==null||fo!==ro(u)||(u=fo,"selectionStart"in u&&Rd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Ul(jl,u)||(jl=u,u=Ch(xd,"onSelect"),0<u.length&&(r=new ua("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=fo)))}function ma(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var mo={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Id={},l_={};yi&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function pa(n){if(Id[n])return Id[n];if(!mo[n])return n;var r=mo[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in l_)return Id[n]=r[a];return n}var u_=pa("animationend"),c_=pa("animationiteration"),h_=pa("animationstart"),ZA=pa("transitionrun"),eR=pa("transitionstart"),tR=pa("transitioncancel"),f_=pa("transitionend"),d_=new Map,Nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nd.push("scrollEnd");function _i(n,r){d_.set(n,r),yn(r,[n])}var Bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ti=[],po=0,Od=0;function Hc(){for(var n=po,r=Od=po=0;r<n;){var a=ti[r];ti[r++]=null;var u=ti[r];ti[r++]=null;var f=ti[r];ti[r++]=null;var d=ti[r];if(ti[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}d!==0&&m_(a,f,d)}}function qc(n,r,a,u){ti[po++]=n,ti[po++]=r,ti[po++]=a,ti[po++]=u,Od|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Dd(n,r,a,u){return qc(n,r,a,u),Fc(n)}function ga(n,r){return qc(n,null,null,r),Fc(n)}function m_(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-gn(a),n=d.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=a|536870912),d):null}function Fc(n){if(50<ou)throw ou=0,Bm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var go={};function nR(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(n,r,a,u){return new nR(n,r,a,u)}function kd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fr(n,r){var a=n.alternate;return a===null?(a=Gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function p_(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Gc(n,r,a,u,f,d){var _=0;if(u=n,typeof n=="function")kd(n)&&(_=1);else if(typeof n=="string")_=o2(n,a,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Gn(31,a,r,f),n.elementType=I,n.lanes=d,n;case D:return ya(a.children,f,d,r);case k:_=8,f|=24;break;case V:return n=Gn(12,a,r,f|2),n.elementType=V,n.lanes=d,n;case J:return n=Gn(13,a,r,f),n.elementType=J,n.lanes=d,n;case ie:return n=Gn(19,a,r,f),n.elementType=ie,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:_=10;break e;case H:_=9;break e;case te:_=11;break e;case R:_=14;break e;case A:_=16,u=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Gn(_,a,r,f),r.elementType=n,r.type=u,r.lanes=d,r}function ya(n,r,a,u){return n=Gn(7,n,u,r),n.lanes=a,n}function Md(n,r,a){return n=Gn(6,n,null,r),n.lanes=a,n}function g_(n){var r=Gn(18,null,null,0);return r.stateNode=n,r}function Pd(n,r,a){return r=Gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var y_=new WeakMap;function ni(n,r){if(typeof n=="object"&&n!==null){var a=y_.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ta(r)},y_.set(n,r),r)}return{value:n,source:r,stack:ta(r)}}var yo=[],_o=0,$c=null,zl=0,ii=[],ri=0,us=null,Pi=1,Li="";function dr(n,r){yo[_o++]=zl,yo[_o++]=$c,$c=n,zl=r}function __(n,r,a){ii[ri++]=Pi,ii[ri++]=Li,ii[ri++]=us,us=n;var u=Pi;n=Li;var f=32-gn(u)-1;u&=~(1<<f),a+=1;var d=32-gn(r)+f;if(30<d){var _=f-f%5;d=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Pi=1<<32-gn(r)+f|a<<f|u,Li=d+n}else Pi=1<<d|a<<f|u,Li=n}function Ld(n){n.return!==null&&(dr(n,1),__(n,1,0))}function Vd(n){for(;n===$c;)$c=yo[--_o],yo[_o]=null,zl=yo[--_o],yo[_o]=null;for(;n===us;)us=ii[--ri],ii[ri]=null,Li=ii[--ri],ii[ri]=null,Pi=ii[--ri],ii[ri]=null}function v_(n,r){ii[ri++]=Pi,ii[ri++]=Li,ii[ri++]=us,Pi=r.id,Li=r.overflow,us=n}var Zt=null,ct=null,He=!1,cs=null,si=!1,Ud=Error(s(519));function hs(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(ni(r,n)),Ud}function E_(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Et]=n,r[Jt]=u,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<uu.length;a++)Le(uu[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),aa(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),es(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||V0(r.textContent,a)?(u.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),u.onScroll!=null&&Le("scroll",r),u.onScrollEnd!=null&&Le("scrollend",r),u.onClick!=null&&(r.onclick=Ht),r=!0):r=!1,r||hs(n,!0)}function T_(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:Zt=Zt.return}}function vo(n){if(n!==Zt)return!1;if(!He)return T_(n),He=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||np(n.type,n.memoizedProps)),a=!a),a&&ct&&hs(n),T_(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ct=$0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));ct=$0(n)}else r===27?(r=ct,As(n.type)?(n=op,op=null,ct=n):ct=r):ct=Zt?oi(n.stateNode.nextSibling):null;return!0}function _a(){ct=Zt=null,He=!1}function jd(){var n=cs;return n!==null&&(Dn===null?Dn=n:Dn.push.apply(Dn,n),cs=null),n}function Bl(n){cs===null?cs=[n]:cs.push(n)}var zd=j(null),va=null,mr=null;function fs(n,r,a){ue(zd,r._currentValue),r._currentValue=a}function pr(n){n._currentValue=zd.current,Q(zd)}function Bd(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Hd(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var U=0;U<r.length;U++)if(S.context===r[U]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Bd(d.return,a,n),u||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Bd(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Eo(n,r,a,u){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;Fn(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===Oe.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(mu):n=[mu])}f=f.return}n!==null&&Hd(r,n,a,u),r.flags|=262144}function Kc(n){for(n=n.firstContext;n!==null;){if(!Fn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ea(n){va=n,mr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return b_(va,n)}function Yc(n,r){return va===null&&Ea(n),b_(n,r)}function b_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},mr===null){if(n===null)throw Error(s(308));mr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else mr=mr.next=r;return a}var iR=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},rR=i.unstable_scheduleCallback,sR=i.unstable_NormalPriority,Dt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new iR,data:new Map,refCount:0}}function Hl(n){n.refCount--,n.refCount===0&&rR(sR,function(){n.controller.abort()})}var ql=null,Fd=0,To=0,bo=null;function aR(n,r){if(ql===null){var a=ql=[];Fd=0,To=Km(),bo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Fd++,r.then(w_,w_),r}function w_(){if(--Fd===0&&ql!==null){bo!==null&&(bo.status="fulfilled");var n=ql;ql=null,To=0,bo=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function oR(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var S_=q.S;q.S=function(n,r){o0=tt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&aR(n,r),S_!==null&&S_(n,r)};var Ta=j(null);function Gd(){var n=Ta.current;return n!==null?n:st.pooledCache}function Xc(n,r){r===null?ue(Ta,Ta.current):ue(Ta,r.pool)}function A_(){var n=Gd();return n===null?null:{parent:Dt._currentValue,pool:n}}var wo=Error(s(460)),$d=Error(s(474)),Qc=Error(s(542)),Wc={then:function(){}};function R_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function x_(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Ht,Ht),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,I_(n),n;default:if(typeof r.status=="string")r.then(Ht,Ht);else{if(n=st,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,I_(n),n}throw wa=r,wo}}function ba(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(wa=a,wo):a}}var wa=null;function C_(){if(wa===null)throw Error(s(459));var n=wa;return wa=null,n}function I_(n){if(n===wo||n===Qc)throw Error(s(483))}var So=null,Fl=0;function Jc(n){var r=Fl;return Fl+=1,So===null&&(So=[]),x_(So,n,r)}function Gl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Zc(n,r){throw r.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function N_(n){function r(G,z){if(n){var K=G.deletions;K===null?(G.deletions=[z],G.flags|=16):K.push(z)}}function a(G,z){if(!n)return null;for(;z!==null;)r(G,z),z=z.sibling;return null}function u(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function f(G,z){return G=fr(G,z),G.index=0,G.sibling=null,G}function d(G,z,K){return G.index=K,n?(K=G.alternate,K!==null?(K=K.index,K<z?(G.flags|=67108866,z):K):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function _(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function S(G,z,K,re){return z===null||z.tag!==6?(z=Md(K,G.mode,re),z.return=G,z):(z=f(z,K),z.return=G,z)}function U(G,z,K,re){var ve=K.type;return ve===D?ne(G,z,K.props.children,re,K.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&ba(ve)===z.type)?(z=f(z,K.props),Gl(z,K),z.return=G,z):(z=Gc(K.type,K.key,K.props,null,G.mode,re),Gl(z,K),z.return=G,z)}function Y(G,z,K,re){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Pd(K,G.mode,re),z.return=G,z):(z=f(z,K.children||[]),z.return=G,z)}function ne(G,z,K,re,ve){return z===null||z.tag!==7?(z=ya(K,G.mode,re,ve),z.return=G,z):(z=f(z,K),z.return=G,z)}function se(G,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Md(""+z,G.mode,K),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case O:return K=Gc(z.type,z.key,z.props,null,G.mode,K),Gl(K,z),K.return=G,K;case P:return z=Pd(z,G.mode,K),z.return=G,z;case A:return z=ba(z),se(G,z,K)}if(_e(z)||B(z))return z=ya(z,G.mode,K,null),z.return=G,z;if(typeof z.then=="function")return se(G,Jc(z),K);if(z.$$typeof===F)return se(G,Yc(G,z),K);Zc(G,z)}return null}function W(G,z,K,re){var ve=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ve!==null?null:S(G,z,""+K,re);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case O:return K.key===ve?U(G,z,K,re):null;case P:return K.key===ve?Y(G,z,K,re):null;case A:return K=ba(K),W(G,z,K,re)}if(_e(K)||B(K))return ve!==null?null:ne(G,z,K,re,null);if(typeof K.then=="function")return W(G,z,Jc(K),re);if(K.$$typeof===F)return W(G,z,Yc(G,K),re);Zc(G,K)}return null}function Z(G,z,K,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return G=G.get(K)||null,S(z,G,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case O:return G=G.get(re.key===null?K:re.key)||null,U(z,G,re,ve);case P:return G=G.get(re.key===null?K:re.key)||null,Y(z,G,re,ve);case A:return re=ba(re),Z(G,z,K,re,ve)}if(_e(re)||B(re))return G=G.get(K)||null,ne(z,G,re,ve,null);if(typeof re.then=="function")return Z(G,z,K,Jc(re),ve);if(re.$$typeof===F)return Z(G,z,K,Yc(z,re),ve);Zc(z,re)}return null}function me(G,z,K,re){for(var ve=null,$e=null,ge=z,ke=z=0,Ue=null;ge!==null&&ke<K.length;ke++){ge.index>ke?(Ue=ge,ge=null):Ue=ge.sibling;var Ke=W(G,ge,K[ke],re);if(Ke===null){ge===null&&(ge=Ue);break}n&&ge&&Ke.alternate===null&&r(G,ge),z=d(Ke,z,ke),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke,ge=Ue}if(ke===K.length)return a(G,ge),He&&dr(G,ke),ve;if(ge===null){for(;ke<K.length;ke++)ge=se(G,K[ke],re),ge!==null&&(z=d(ge,z,ke),$e===null?ve=ge:$e.sibling=ge,$e=ge);return He&&dr(G,ke),ve}for(ge=u(ge);ke<K.length;ke++)Ue=Z(ge,G,ke,K[ke],re),Ue!==null&&(n&&Ue.alternate!==null&&ge.delete(Ue.key===null?ke:Ue.key),z=d(Ue,z,ke),$e===null?ve=Ue:$e.sibling=Ue,$e=Ue);return n&&ge.forEach(function(Ns){return r(G,Ns)}),He&&dr(G,ke),ve}function be(G,z,K,re){if(K==null)throw Error(s(151));for(var ve=null,$e=null,ge=z,ke=z=0,Ue=null,Ke=K.next();ge!==null&&!Ke.done;ke++,Ke=K.next()){ge.index>ke?(Ue=ge,ge=null):Ue=ge.sibling;var Ns=W(G,ge,Ke.value,re);if(Ns===null){ge===null&&(ge=Ue);break}n&&ge&&Ns.alternate===null&&r(G,ge),z=d(Ns,z,ke),$e===null?ve=Ns:$e.sibling=Ns,$e=Ns,ge=Ue}if(Ke.done)return a(G,ge),He&&dr(G,ke),ve;if(ge===null){for(;!Ke.done;ke++,Ke=K.next())Ke=se(G,Ke.value,re),Ke!==null&&(z=d(Ke,z,ke),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke);return He&&dr(G,ke),ve}for(ge=u(ge);!Ke.done;ke++,Ke=K.next())Ke=Z(ge,G,ke,Ke.value,re),Ke!==null&&(n&&Ke.alternate!==null&&ge.delete(Ke.key===null?ke:Ke.key),z=d(Ke,z,ke),$e===null?ve=Ke:$e.sibling=Ke,$e=Ke);return n&&ge.forEach(function(_2){return r(G,_2)}),He&&dr(G,ke),ve}function rt(G,z,K,re){if(typeof K=="object"&&K!==null&&K.type===D&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case O:e:{for(var ve=K.key;z!==null;){if(z.key===ve){if(ve=K.type,ve===D){if(z.tag===7){a(G,z.sibling),re=f(z,K.props.children),re.return=G,G=re;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&ba(ve)===z.type){a(G,z.sibling),re=f(z,K.props),Gl(re,K),re.return=G,G=re;break e}a(G,z);break}else r(G,z);z=z.sibling}K.type===D?(re=ya(K.props.children,G.mode,re,K.key),re.return=G,G=re):(re=Gc(K.type,K.key,K.props,null,G.mode,re),Gl(re,K),re.return=G,G=re)}return _(G);case P:e:{for(ve=K.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){a(G,z.sibling),re=f(z,K.children||[]),re.return=G,G=re;break e}else{a(G,z);break}else r(G,z);z=z.sibling}re=Pd(K,G.mode,re),re.return=G,G=re}return _(G);case A:return K=ba(K),rt(G,z,K,re)}if(_e(K))return me(G,z,K,re);if(B(K)){if(ve=B(K),typeof ve!="function")throw Error(s(150));return K=ve.call(K),be(G,z,K,re)}if(typeof K.then=="function")return rt(G,z,Jc(K),re);if(K.$$typeof===F)return rt(G,z,Yc(G,K),re);Zc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(a(G,z.sibling),re=f(z,K),re.return=G,G=re):(a(G,z),re=Md(K,G.mode,re),re.return=G,G=re),_(G)):a(G,z)}return function(G,z,K,re){try{Fl=0;var ve=rt(G,z,K,re);return So=null,ve}catch(ge){if(ge===wo||ge===Qc)throw ge;var $e=Gn(29,ge,null,G.mode);return $e.lanes=re,$e.return=G,$e}finally{}}}var Sa=N_(!0),O_=N_(!1),ds=!1;function Kd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ms(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ps(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Fc(n),m_(n,null,a),r}return qc(n,u,r,a),Fc(n)}function $l(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Kr(n,a)}}function Xd(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Qd=!1;function Kl(){if(Qd){var n=bo;if(n!==null)throw n}}function Yl(n,r,a,u){Qd=!1;var f=n.updateQueue;ds=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var U=S,Y=U.next;U.next=null,_===null?d=Y:_.next=Y,_=U;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==_&&(S===null?ne.firstBaseUpdate=Y:S.next=Y,ne.lastBaseUpdate=U))}if(d!==null){var se=f.baseState;_=0,ne=Y=U=null,S=d;do{var W=S.lane&-536870913,Z=W!==S.lane;if(Z?(Ve&W)===W:(u&W)===W){W!==0&&W===To&&(Qd=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=n,be=S;W=r;var rt=a;switch(be.tag){case 1:if(me=be.payload,typeof me=="function"){se=me.call(rt,se,W);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=be.payload,W=typeof me=="function"?me.call(rt,se,W):me,W==null)break e;se=T({},se,W);break e;case 2:ds=!0}}W=S.callback,W!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(Y=ne=Z,U=se):ne=ne.next=Z,_|=W;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);ne===null&&(U=se),f.baseState=U,f.firstBaseUpdate=Y,f.lastBaseUpdate=ne,d===null&&(f.shared.lanes=0),Es|=_,n.lanes=_,n.memoizedState=se}}function D_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function k_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)D_(a[n],r)}var Ao=j(null),eh=j(0);function M_(n,r){n=Sr,ue(eh,n),ue(Ao,r),Sr=n|r.baseLanes}function Wd(){ue(eh,Sr),ue(Ao,Ao.current)}function Jd(){Sr=eh.current,Q(Ao),Q(eh)}var $n=j(null),ai=null;function gs(n){var r=n.alternate;ue(xt,xt.current&1),ue($n,n),ai===null&&(r===null||Ao.current!==null||r.memoizedState!==null)&&(ai=n)}function Zd(n){ue(xt,xt.current),ue($n,n),ai===null&&(ai=n)}function P_(n){n.tag===22?(ue(xt,xt.current),ue($n,n),ai===null&&(ai=n)):ys()}function ys(){ue(xt,xt.current),ue($n,$n.current)}function Kn(n){Q($n),ai===n&&(ai=null),Q(xt)}var xt=j(0);function th(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||sp(a)||ap(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gr=0,De=null,nt=null,kt=null,nh=!1,Ro=!1,Aa=!1,ih=0,Xl=0,xo=null,lR=0;function bt(){throw Error(s(321))}function em(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Fn(n[a],r[a]))return!1;return!0}function tm(n,r,a,u,f,d){return gr=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,q.H=n===null||n.memoizedState===null?_v:gm,Aa=!1,d=a(u,f),Aa=!1,Ro&&(d=V_(r,a,u,f)),L_(n),d}function L_(n){q.H=Jl;var r=nt!==null&&nt.next!==null;if(gr=0,kt=nt=De=null,nh=!1,Xl=0,xo=null,r)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&Kc(n)&&(Mt=!0))}function V_(n,r,a,u){De=n;var f=0;do{if(Ro&&(xo=null),Xl=0,Ro=!1,25<=f)throw Error(s(301));if(f+=1,kt=nt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=vv,d=r(a,u)}while(Ro);return d}function uR(){var n=q.H,r=n.useState()[0];return r=typeof r.then=="function"?Ql(r):r,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(De.flags|=1024),r}function nm(){var n=ih!==0;return ih=0,n}function im(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function rm(n){if(nh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}nh=!1}gr=0,kt=nt=De=null,Ro=!1,Xl=ih=0,xo=null}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?De.memoizedState=kt=n:kt=kt.next=n,kt}function Ct(){if(nt===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var r=kt===null?De.memoizedState:kt.next;if(r!==null)kt=r,nt=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},kt===null?De.memoizedState=kt=n:kt=kt.next=n}return kt}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(n){var r=Xl;return Xl+=1,xo===null&&(xo=[]),n=x_(xo,n,r),r=De,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,q.H=r===null||r.memoizedState===null?_v:gm),n}function sh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ql(n);if(n.$$typeof===F)return en(n)}throw Error(s(438,String(n)))}function sm(n){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=rh(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=M;return r.index++,a}function yr(n,r){return typeof r=="function"?r(n):r}function ah(n){var r=Ct();return am(r,nt,n)}function am(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,d=u.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,u.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var S=_=null,U=null,Y=r,ne=!1;do{var se=Y.lane&-536870913;if(se!==Y.lane?(Ve&se)===se:(gr&se)===se){var W=Y.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),se===To&&(ne=!0);else if((gr&W)===W){Y=Y.next,W===To&&(ne=!0);continue}else se={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(S=U=se,_=d):U=U.next=se,De.lanes|=W,Es|=W;se=Y.action,Aa&&a(d,se),d=Y.hasEagerState?Y.eagerState:a(d,se)}else W={lane:se,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(S=U=W,_=d):U=U.next=W,De.lanes|=se,Es|=se;Y=Y.next}while(Y!==null&&Y!==r);if(U===null?_=d:U.next=S,!Fn(d,n.memoizedState)&&(Mt=!0,ne&&(a=bo,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=U,u.lastRenderedState=d}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function om(n){var r=Ct(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);Fn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function U_(n,r,a){var u=De,f=Ct(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Fn((nt||f).memoizedState,a);if(_&&(f.memoizedState=a,Mt=!0),f=f.queue,cm(B_.bind(null,u,f,n),[n]),f.getSnapshot!==r||_||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Co(9,{destroy:void 0},z_.bind(null,u,f,a,r),null),st===null)throw Error(s(349));d||(gr&127)!==0||j_(u,r,a)}return a}function j_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=rh(),De.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function z_(n,r,a,u){r.value=a,r.getSnapshot=u,H_(r)&&q_(n)}function B_(n,r,a){return a(function(){H_(r)&&q_(n)})}function H_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Fn(n,a)}catch{return!0}}function q_(n){var r=ga(n,2);r!==null&&kn(r,n,2)}function lm(n){var r=Tn();if(typeof n=="function"){var a=n;if(n=a(),Aa){Wn(!0);try{a()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:n},r}function F_(n,r,a,u){return n.baseState=a,am(n,nt,typeof u=="function"?u:yr)}function cR(n,r,a,u,f){if(uh(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};q.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,G_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function G_(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var d=q.T,_={};q.T=_;try{var S=a(f,u),U=q.S;U!==null&&U(_,S),$_(n,r,S)}catch(Y){um(n,r,Y)}finally{d!==null&&_.types!==null&&(d.types=_.types),q.T=d}}else try{d=a(f,u),$_(n,r,d)}catch(Y){um(n,r,Y)}}function $_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){K_(n,r,u)},function(u){return um(n,r,u)}):K_(n,r,a)}function K_(n,r,a){r.status="fulfilled",r.value=a,Y_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,G_(n,a)))}function um(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Y_(r),r=r.next;while(r!==u)}n.action=null}function Y_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function X_(n,r){return r}function Q_(n,r){if(He){var a=st.formState;if(a!==null){e:{var u=De;if(He){if(ct){t:{for(var f=ct,d=si;f.nodeType!==8;){if(!d){f=null;break t}if(f=oi(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ct=oi(f.nextSibling),u=f.data==="F!";break e}}hs(u)}u=!1}u&&(r=a[0])}}return a=Tn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X_,lastRenderedState:r},a.queue=u,a=pv.bind(null,De,u),u.dispatch=a,u=lm(!1),d=pm.bind(null,De,!1,u.queue),u=Tn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=cR.bind(null,De,f,d,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function W_(n){var r=Ct();return J_(r,nt,n)}function J_(n,r,a){if(r=am(n,r,X_)[0],n=ah(yr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Ql(r)}catch(_){throw _===wo?Qc:_}else u=r;r=Ct();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Co(9,{destroy:void 0},hR.bind(null,f,a),null)),[u,d,n]}function hR(n,r){n.action=r}function Z_(n){var r=Ct(),a=nt;if(a!==null)return J_(r,a,n);Ct(),r=r.memoizedState,a=Ct();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Co(n,r,a,u){return n={tag:n,create:a,deps:u,inst:r,next:null},r=De.updateQueue,r===null&&(r=rh(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function ev(){return Ct().memoizedState}function oh(n,r,a,u){var f=Tn();De.flags|=n,f.memoizedState=Co(1|r,{destroy:void 0},a,u===void 0?null:u)}function lh(n,r,a,u){var f=Ct();u=u===void 0?null:u;var d=f.memoizedState.inst;nt!==null&&u!==null&&em(u,nt.memoizedState.deps)?f.memoizedState=Co(r,d,a,u):(De.flags|=n,f.memoizedState=Co(1|r,d,a,u))}function tv(n,r){oh(8390656,8,n,r)}function cm(n,r){lh(2048,8,n,r)}function fR(n){De.flags|=4;var r=De.updateQueue;if(r===null)r=rh(),De.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function nv(n){var r=Ct().memoizedState;return fR({ref:r,nextImpl:n}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function iv(n,r){return lh(4,2,n,r)}function rv(n,r){return lh(4,4,n,r)}function sv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function av(n,r,a){a=a!=null?a.concat([n]):null,lh(4,4,sv.bind(null,r,n),a)}function hm(){}function ov(n,r){var a=Ct();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&em(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function lv(n,r){var a=Ct();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&em(r,u[1]))return u[0];if(u=n(),Aa){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[u,r],u}function fm(n,r,a){return a===void 0||(gr&1073741824)!==0&&(Ve&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=u0(),De.lanes|=n,Es|=n,a)}function uv(n,r,a,u){return Fn(a,r)?a:Ao.current!==null?(n=fm(n,a,u),Fn(n,r)||(Mt=!0),n):(gr&42)===0||(gr&1073741824)!==0&&(Ve&261930)===0?(Mt=!0,n.memoizedState=a):(n=u0(),De.lanes|=n,Es|=n,r)}function cv(n,r,a,u,f){var d=X.p;X.p=d!==0&&8>d?d:8;var _=q.T,S={};q.T=S,pm(n,!1,r,a);try{var U=f(),Y=q.S;if(Y!==null&&Y(S,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ne=oR(U,u);Wl(n,r,ne,Qn(n))}else Wl(n,r,u,Qn(n))}catch(se){Wl(n,r,{then:function(){},status:"rejected",reason:se},Qn())}finally{X.p=d,_!==null&&S.types!==null&&(_.types=S.types),q.T=_}}function dR(){}function dm(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=hv(n).queue;cv(n,f,r,oe,a===null?dR:function(){return fv(n),a(u)})}function hv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:oe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function fv(n){var r=hv(n);r.next===null&&(r=n.alternate.memoizedState),Wl(n,r.next.queue,{},Qn())}function mm(){return en(mu)}function dv(){return Ct().memoizedState}function mv(){return Ct().memoizedState}function mR(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Qn();n=ms(a);var u=ps(r,n,a);u!==null&&(kn(u,r,a),$l(u,r,a)),r={cache:qd()},n.payload=r;return}r=r.return}}function pR(n,r,a){var u=Qn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uh(n)?gv(r,a):(a=Dd(n,r,a,u),a!==null&&(kn(a,n,u),yv(a,r,u)))}function pv(n,r,a){var u=Qn();Wl(n,r,a,u)}function Wl(n,r,a,u){var f={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uh(n))gv(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,Fn(S,_))return qc(n,r,f,0),st===null&&Hc(),!1}catch{}finally{}if(a=Dd(n,r,f,u),a!==null)return kn(a,n,u),yv(a,r,u),!0}return!1}function pm(n,r,a,u){if(u={lane:2,revertLane:Km(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},uh(n)){if(r)throw Error(s(479))}else r=Dd(n,a,u,2),r!==null&&kn(r,n,2)}function uh(n){var r=n.alternate;return n===De||r!==null&&r===De}function gv(n,r){Ro=nh=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function yv(n,r,a){if((a&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Kr(n,a)}}var Jl={readContext:en,use:sh,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};Jl.useEffectEvent=bt;var _v={readContext:en,use:sh,useCallback:function(n,r){return Tn().memoizedState=[n,r===void 0?null:r],n},useContext:en,useEffect:tv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,oh(4194308,4,sv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return oh(4194308,4,n,r)},useInsertionEffect:function(n,r){oh(4,2,n,r)},useMemo:function(n,r){var a=Tn();r=r===void 0?null:r;var u=n();if(Aa){Wn(!0);try{n()}finally{Wn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=Tn();if(a!==void 0){var f=a(r);if(Aa){Wn(!0);try{a(r)}finally{Wn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=pR.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var r=Tn();return n={current:n},r.memoizedState=n},useState:function(n){n=lm(n);var r=n.queue,a=pv.bind(null,De,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:hm,useDeferredValue:function(n,r){var a=Tn();return fm(a,n,r)},useTransition:function(){var n=lm(!1);return n=cv.bind(null,De,n.queue,!0,!1),Tn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=De,f=Tn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),st===null)throw Error(s(349));(Ve&127)!==0||j_(u,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,tv(B_.bind(null,u,d,n),[n]),u.flags|=2048,Co(9,{destroy:void 0},z_.bind(null,u,d,a,r),null),a},useId:function(){var n=Tn(),r=st.identifierPrefix;if(He){var a=Li,u=Pi;a=(u&~(1<<32-gn(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=ih++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=lR++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:mm,useFormState:Q_,useActionState:Q_,useOptimistic:function(n){var r=Tn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=pm.bind(null,De,!0,a),a.dispatch=r,[n,r]},useMemoCache:sm,useCacheRefresh:function(){return Tn().memoizedState=mR.bind(null,De)},useEffectEvent:function(n){var r=Tn(),a={impl:n};return r.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},gm={readContext:en,use:sh,useCallback:ov,useContext:en,useEffect:cm,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:ah,useRef:ev,useState:function(){return ah(yr)},useDebugValue:hm,useDeferredValue:function(n,r){var a=Ct();return uv(a,nt.memoizedState,n,r)},useTransition:function(){var n=ah(yr)[0],r=Ct().memoizedState;return[typeof n=="boolean"?n:Ql(n),r]},useSyncExternalStore:U_,useId:dv,useHostTransitionStatus:mm,useFormState:W_,useActionState:W_,useOptimistic:function(n,r){var a=Ct();return F_(a,nt,n,r)},useMemoCache:sm,useCacheRefresh:mv};gm.useEffectEvent=nv;var vv={readContext:en,use:sh,useCallback:ov,useContext:en,useEffect:cm,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:om,useRef:ev,useState:function(){return om(yr)},useDebugValue:hm,useDeferredValue:function(n,r){var a=Ct();return nt===null?fm(a,n,r):uv(a,nt.memoizedState,n,r)},useTransition:function(){var n=om(yr)[0],r=Ct().memoizedState;return[typeof n=="boolean"?n:Ql(n),r]},useSyncExternalStore:U_,useId:dv,useHostTransitionStatus:mm,useFormState:Z_,useActionState:Z_,useOptimistic:function(n,r){var a=Ct();return nt!==null?F_(a,nt,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:sm,useCacheRefresh:mv};vv.useEffectEvent=nv;function ym(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:T({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var _m={enqueueSetState:function(n,r,a){n=n._reactInternals;var u=Qn(),f=ms(u);f.payload=r,a!=null&&(f.callback=a),r=ps(n,f,u),r!==null&&(kn(r,n,u),$l(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=Qn(),f=ms(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ps(n,f,u),r!==null&&(kn(r,n,u),$l(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Qn(),u=ms(a);u.tag=2,r!=null&&(u.callback=r),r=ps(n,u,a),r!==null&&(kn(r,n,a),$l(r,n,a))}};function Ev(n,r,a,u,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,_):r.prototype&&r.prototype.isPureReactComponent?!Ul(a,u)||!Ul(f,d):!0}function Tv(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&_m.enqueueReplaceState(r,r.state,null)}function Ra(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=T({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function bv(n){Bc(n)}function wv(n){console.error(n)}function Sv(n){Bc(n)}function ch(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Av(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vm(n,r,a){return a=ms(a),a.tag=3,a.payload={element:null},a.callback=function(){ch(n,r)},a}function Rv(n){return n=ms(n),n.tag=3,n}function xv(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;n.payload=function(){return f(d)},n.callback=function(){Av(r,a,u)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Av(r,a,u),typeof f!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function gR(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Eo(r,a,f,!0),a=$n.current,a!==null){switch(a.tag){case 31:case 13:return ai===null?bh():a.alternate===null&&wt===0&&(wt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Wc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Fm(n,u,f)),!1;case 22:return a.flags|=65536,u===Wc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Fm(n,u,f)),!1}throw Error(s(435,a.tag))}return Fm(n,u,f),bh(),!1}if(He)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Ud&&(n=Error(s(422),{cause:u}),Bl(ni(n,a)))):(u!==Ud&&(r=Error(s(423),{cause:u}),Bl(ni(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=ni(u,a),f=vm(n.stateNode,u,f),Xd(n,f),wt!==4&&(wt=2)),!1;var d=Error(s(520),{cause:u});if(d=ni(d,a),au===null?au=[d]:au.push(d),wt!==4&&(wt=2),r===null)return!0;u=ni(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=vm(a.stateNode,u,n),Xd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ts===null||!Ts.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Rv(f),xv(f,n,a,u),Xd(a,f),!1}a=a.return}while(a!==null);return!1}var Em=Error(s(461)),Mt=!1;function tn(n,r,a,u){r.child=n===null?O_(r,null,a,u):Sa(r,n.child,a,u)}function Cv(n,r,a,u,f){a=a.render;var d=r.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return Ea(r),u=tm(n,r,a,_,d,f),S=nm(),n!==null&&!Mt?(im(n,r,f),_r(n,r,f)):(He&&S&&Ld(r),r.flags|=1,tn(n,r,u,f),r.child)}function Iv(n,r,a,u,f){if(n===null){var d=a.type;return typeof d=="function"&&!kd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Nv(n,r,d,u,f)):(n=Gc(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Cm(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ul,a(_,u)&&n.ref===r.ref)return _r(n,r,f)}return r.flags|=1,n=fr(d,u),n.ref=r.ref,n.return=r,r.child=n}function Nv(n,r,a,u,f){if(n!==null){var d=n.memoizedProps;if(Ul(d,u)&&n.ref===r.ref)if(Mt=!1,r.pendingProps=u=d,Cm(n,f))(n.flags&131072)!==0&&(Mt=!0);else return r.lanes=n.lanes,_r(n,r,f)}return Tm(n,r,a,u,f)}function Ov(n,r,a,u){var f=u.children,d=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(u=r.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~d}else u=0,r.child=null;return Dv(n,r,d,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Xc(r,d!==null?d.cachePool:null),d!==null?M_(r,d):Wd(),P_(r);else return u=r.lanes=536870912,Dv(n,r,d!==null?d.baseLanes|a:a,a,u)}else d!==null?(Xc(r,d.cachePool),M_(r,d),ys(),r.memoizedState=null):(n!==null&&Xc(r,null),Wd(),ys());return tn(n,r,f,a),r.child}function Zl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Dv(n,r,a,u,f){var d=Gd();return d=d===null?null:{parent:Dt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&Xc(r,null),Wd(),P_(r),n!==null&&Eo(n,r,u,!0),r.childLanes=f,null}function hh(n,r){return r=dh({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function kv(n,r,a){return Sa(r,n.child,null,a),n=hh(r,r.pendingProps),n.flags|=2,Kn(r),r.memoizedState=null,n}function yR(n,r,a){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(He){if(u.mode==="hidden")return n=hh(r,u),r.lanes=536870912,Zl(null,n);if(Zd(r),(n=ct)?(n=G0(n,si),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:us!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=g_(n),a.return=r,r.child=a,Zt=r,ct=null)):n=null,n===null)throw hs(r);return r.lanes=536870912,null}return hh(r,u)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(Zd(r),f)if(r.flags&256)r.flags&=-257,r=kv(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(Mt||Eo(n,r,a,!1),f=(a&n.childLanes)!==0,Mt||f){if(u=st,u!==null&&(_=Yr(u,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ga(n,_),kn(u,n,_),Em;bh(),r=kv(n,r,a)}else n=d.treeContext,ct=oi(_.nextSibling),Zt=r,He=!0,cs=null,si=!1,n!==null&&v_(r,n),r=hh(r,u),r.flags|=4096;return r}return n=fr(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function fh(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Tm(n,r,a,u,f){return Ea(r),a=tm(n,r,a,u,void 0,f),u=nm(),n!==null&&!Mt?(im(n,r,f),_r(n,r,f)):(He&&u&&Ld(r),r.flags|=1,tn(n,r,a,f),r.child)}function Mv(n,r,a,u,f,d){return Ea(r),r.updateQueue=null,a=V_(r,u,a,f),L_(n),u=nm(),n!==null&&!Mt?(im(n,r,d),_r(n,r,d)):(He&&u&&Ld(r),r.flags|=1,tn(n,r,a,d),r.child)}function Pv(n,r,a,u,f){if(Ea(r),r.stateNode===null){var d=go,_=a.contextType;typeof _=="object"&&_!==null&&(d=en(_)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_m,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},Kd(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?en(_):go,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ym(r,a,_,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&_m.enqueueReplaceState(d,d.state,null),Yl(r,u,d,f),Kl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){d=r.stateNode;var S=r.memoizedProps,U=Ra(a,S);d.props=U;var Y=d.context,ne=a.contextType;_=go,typeof ne=="object"&&ne!==null&&(_=en(ne));var se=a.getDerivedStateFromProps;ne=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||Y!==_)&&Tv(r,d,u,_),ds=!1;var W=r.memoizedState;d.state=W,Yl(r,u,d,f),Kl(),Y=r.memoizedState,S||W!==Y||ds?(typeof se=="function"&&(ym(r,a,se,u),Y=r.memoizedState),(U=ds||Ev(r,a,U,u,W,Y,_))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),d.props=u,d.state=Y,d.context=_,u=U):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,Yd(n,r),_=r.memoizedProps,ne=Ra(a,_),d.props=ne,se=r.pendingProps,W=d.context,Y=a.contextType,U=go,typeof Y=="object"&&Y!==null&&(U=en(Y)),S=a.getDerivedStateFromProps,(Y=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==se||W!==U)&&Tv(r,d,u,U),ds=!1,W=r.memoizedState,d.state=W,Yl(r,u,d,f),Kl();var Z=r.memoizedState;_!==se||W!==Z||ds||n!==null&&n.dependencies!==null&&Kc(n.dependencies)?(typeof S=="function"&&(ym(r,a,S,u),Z=r.memoizedState),(ne=ds||Ev(r,a,ne,u,W,Z,U)||n!==null&&n.dependencies!==null&&Kc(n.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,Z,U),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,Z,U)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Z),d.props=u,d.state=Z,d.context=U,u=ne):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&W===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&W===n.memoizedState||(r.flags|=1024),u=!1)}return d=u,fh(n,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&u?(r.child=Sa(r,n.child,null,f),r.child=Sa(r,null,a,f)):tn(n,r,a,f),r.memoizedState=d.state,n=r.child):n=_r(n,r,f),n}function Lv(n,r,a,u){return _a(),r.flags|=256,tn(n,r,a,u),r.child}var bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wm(n){return{baseLanes:n,cachePool:A_()}}function Sm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Xn),n}function Vv(n,r,a){var u=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(xt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(He){if(f?gs(r):ys(),(n=ct)?(n=G0(n,si),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:us!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=g_(n),a.return=r,r.child=a,Zt=r,ct=null)):n=null,n===null)throw hs(r);return ap(n)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(ys(),f=r.mode,S=dh({mode:"hidden",children:S},f),u=ya(u,f,a,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=wm(a),u.childLanes=Sm(n,_,a),r.memoizedState=bm,Zl(null,u)):(gs(r),Am(r,S))}var U=n.memoizedState;if(U!==null&&(S=U.dehydrated,S!==null)){if(d)r.flags&256?(gs(r),r.flags&=-257,r=Rm(n,r,a)):r.memoizedState!==null?(ys(),r.child=n.child,r.flags|=128,r=null):(ys(),S=u.fallback,f=r.mode,u=dh({mode:"visible",children:u.children},f),S=ya(S,f,a,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Sa(r,n.child,null,a),u=r.child,u.memoizedState=wm(a),u.childLanes=Sm(n,_,a),r.memoizedState=bm,r=Zl(null,u));else if(gs(r),ap(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var Y=_.dgst;_=Y,u=Error(s(419)),u.stack="",u.digest=_,Bl({value:u,source:null,stack:null}),r=Rm(n,r,a)}else if(Mt||Eo(n,r,a,!1),_=(a&n.childLanes)!==0,Mt||_){if(_=st,_!==null&&(u=Yr(_,a),u!==0&&u!==U.retryLane))throw U.retryLane=u,ga(n,u),kn(_,n,u),Em;sp(S)||bh(),r=Rm(n,r,a)}else sp(S)?(r.flags|=192,r.child=n.child,r=null):(n=U.treeContext,ct=oi(S.nextSibling),Zt=r,He=!0,cs=null,si=!1,n!==null&&v_(r,n),r=Am(r,u.children),r.flags|=4096);return r}return f?(ys(),S=u.fallback,f=r.mode,U=n.child,Y=U.sibling,u=fr(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Y!==null?S=fr(Y,S):(S=ya(S,f,a,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Zl(null,u),u=r.child,S=n.child.memoizedState,S===null?S=wm(a):(f=S.cachePool,f!==null?(U=Dt._currentValue,f=f.parent!==U?{parent:U,pool:U}:f):f=A_(),S={baseLanes:S.baseLanes|a,cachePool:f}),u.memoizedState=S,u.childLanes=Sm(n,_,a),r.memoizedState=bm,Zl(n.child,u)):(gs(r),a=n.child,n=a.sibling,a=fr(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function Am(n,r){return r=dh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function dh(n,r){return n=Gn(22,n,null,r),n.lanes=0,n}function Rm(n,r,a){return Sa(r,n.child,null,a),n=Am(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Uv(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Bd(n.return,r,a)}function xm(n,r,a,u,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function jv(n,r,a){var u=r.pendingProps,f=u.revealOrder,d=u.tail;u=u.children;var _=xt.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,ue(xt,_),tn(n,r,u,a),u=He?zl:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Uv(n,a,r);else if(n.tag===19)Uv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&th(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),xm(r,!1,f,a,d,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&th(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}xm(r,!0,a,null,d,u);break;case"together":xm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function _r(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Es|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Eo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=fr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=fr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Cm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Kc(n)))}function _R(n,r,a){switch(r.tag){case 3:St(r,r.stateNode.containerInfo),fs(r,Dt,n.memoizedState.cache),_a();break;case 27:case 5:An(r);break;case 4:St(r,r.stateNode.containerInfo);break;case 10:fs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Zd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(gs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Vv(n,r,a):(gs(r),n=_r(n,r,a),n!==null?n.sibling:null);gs(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Eo(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return jv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(xt,xt.current),u)break;return null;case 22:return r.lanes=0,Ov(n,r,a,r.pendingProps);case 24:fs(r,Dt,n.memoizedState.cache)}return _r(n,r,a)}function zv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Mt=!0;else{if(!Cm(n,a)&&(r.flags&128)===0)return Mt=!1,_R(n,r,a);Mt=(n.flags&131072)!==0}else Mt=!1,He&&(r.flags&1048576)!==0&&__(r,zl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=ba(r.elementType),r.type=n,typeof n=="function")kd(n)?(u=Ra(n,u),r.tag=1,r=Pv(null,r,n,u,a)):(r.tag=0,r=Tm(null,r,n,u,a));else{if(n!=null){var f=n.$$typeof;if(f===te){r.tag=11,r=Cv(null,r,n,u,a);break e}else if(f===R){r.tag=14,r=Iv(null,r,n,u,a);break e}}throw r=Ae(n)||n,Error(s(306,r,""))}}return r;case 0:return Tm(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Ra(u,r.pendingProps),Pv(n,r,u,f,a);case 3:e:{if(St(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var d=r.memoizedState;f=d.element,Yd(n,r),Yl(r,u,null,a);var _=r.memoizedState;if(u=_.cache,fs(r,Dt,u),u!==d.cache&&Hd(r,[Dt],a,!0),Kl(),u=_.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Lv(n,r,u,a);break e}else if(u!==f){f=ni(Error(s(424)),r),Bl(f),r=Lv(n,r,u,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=oi(n.firstChild),Zt=r,He=!0,cs=null,si=!0,a=O_(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_a(),u===f){r=_r(n,r,a);break e}tn(n,r,u,a)}r=r.child}return r;case 26:return fh(n,r),n===null?(a=W0(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,n=r.pendingProps,u=Ih(Ce.current).createElement(a),u[Et]=r,u[Jt]=n,nn(u,a,n),Rt(u),r.stateNode=u):r.memoizedState=W0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return An(r),n===null&&He&&(u=r.stateNode=Y0(r.type,r.pendingProps,Ce.current),Zt=r,si=!0,f=ct,As(r.type)?(op=f,ct=oi(u.firstChild)):ct=f),tn(n,r,r.pendingProps.children,a),fh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&He&&((f=u=ct)&&(u=YR(u,r.type,r.pendingProps,si),u!==null?(r.stateNode=u,Zt=r,ct=oi(u.firstChild),si=!1,f=!0):f=!1),f||hs(r)),An(r),f=r.type,d=r.pendingProps,_=n!==null?n.memoizedProps:null,u=d.children,np(f,d)?u=null:_!==null&&np(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=tm(n,r,uR,null,null,a),mu._currentValue=f),fh(n,r),tn(n,r,u,a),r.child;case 6:return n===null&&He&&((n=a=ct)&&(a=XR(a,r.pendingProps,si),a!==null?(r.stateNode=a,Zt=r,ct=null,n=!0):n=!1),n||hs(r)),null;case 13:return Vv(n,r,a);case 4:return St(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Sa(r,null,u,a):tn(n,r,u,a),r.child;case 11:return Cv(n,r,r.type,r.pendingProps,a);case 7:return tn(n,r,r.pendingProps,a),r.child;case 8:return tn(n,r,r.pendingProps.children,a),r.child;case 12:return tn(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,fs(r,r.type,u.value),tn(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Ea(r),f=en(f),u=u(f),r.flags|=1,tn(n,r,u,a),r.child;case 14:return Iv(n,r,r.type,r.pendingProps,a);case 15:return Nv(n,r,r.type,r.pendingProps,a);case 19:return jv(n,r,a);case 31:return yR(n,r,a);case 22:return Ov(n,r,a,r.pendingProps);case 24:return Ea(r),u=en(Dt),n===null?(f=Gd(),f===null&&(f=st,d=qd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:u,cache:f},Kd(r),fs(r,Dt,f)):((n.lanes&a)!==0&&(Yd(n,r),Yl(r,null,null,a),Kl()),f=n.memoizedState,d=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),fs(r,Dt,u)):(u=d.cache,fs(r,Dt,u),u!==f.cache&&Hd(r,[Dt],a,!0))),tn(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function vr(n){n.flags|=4}function Im(n,r,a,u,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(d0())n.flags|=8192;else throw wa=Wc,$d}else n.flags&=-16777217}function Bv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!nE(r))if(d0())n.flags|=8192;else throw wa=Wc,$d}function mh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?El():536870912,n.lanes|=r,Do|=r)}function eu(n,r){if(!He)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function vR(n,r,a){var u=r.pendingProps;switch(Vd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),pr(Dt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(vo(r)?vr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jd())),ht(r),null;case 26:var f=r.type,d=r.memoizedState;return n===null?(vr(r),d!==null?(ht(r),Bv(r,d)):(ht(r),Im(r,f,null,u,a))):d?d!==n.memoizedState?(vr(r),ht(r),Bv(r,d)):(ht(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&vr(r),ht(r),Im(r,f,n,u,a)),null;case 27:if(di(r),a=Ce.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&vr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ht(r),null}n=fe.current,vo(r)?E_(r):(n=Y0(f,u,a),r.stateNode=n,vr(r))}return ht(r),null;case 5:if(di(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&vr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(d=fe.current,vo(r))E_(r);else{var _=Ih(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}d[Et]=r,d[Jt]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(nn(d,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&vr(r)}}return ht(r),Im(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&vr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ce.current,vo(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Et]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||V0(n.nodeValue,a)),n||hs(r,!0)}else n=Ih(n).createTextNode(u),n[Et]=r,r.stateNode=n}return ht(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(u=vo(r),a!==null){if(n===null){if(!u)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Et]=r}else _a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),n=!1}else a=jd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(Kn(r),r):(Kn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ht(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=vo(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Et]=r}else _a(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),f=!1}else f=jd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Kn(r),r):(Kn(r),null)}return Kn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),mh(r,r.updateQueue),ht(r),null);case 4:return ot(),n===null&&Wm(r.stateNode.containerInfo),ht(r),null;case 10:return pr(r.type),ht(r),null;case 19:if(Q(xt),u=r.memoizedState,u===null)return ht(r),null;if(f=(r.flags&128)!==0,d=u.rendering,d===null)if(f)eu(u,!1);else{if(wt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=th(n),d!==null){for(r.flags|=128,eu(u,!1),n=d.updateQueue,r.updateQueue=n,mh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)p_(a,n),a=a.sibling;return ue(xt,xt.current&1|2),He&&dr(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&tt()>vh&&(r.flags|=128,f=!0,eu(u,!1),r.lanes=4194304)}else{if(!f)if(n=th(d),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,mh(r,n),eu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!He)return ht(r),null}else 2*tt()-u.renderingStartTime>vh&&a!==536870912&&(r.flags|=128,f=!0,eu(u,!1),r.lanes=4194304);u.isBackwards?(d.sibling=r.child,r.child=d):(n=u.last,n!==null?n.sibling=d:r.child=d,u.last=d)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=tt(),n.sibling=null,a=xt.current,ue(xt,f?a&1|2:a&1),He&&dr(r,u.treeForkCount),n):(ht(r),null);case 22:case 23:return Kn(r),Jd(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&mh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&Q(Ta),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),pr(Dt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ER(n,r){switch(Vd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return pr(Dt),ot(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return di(r),null;case 31:if(r.memoizedState!==null){if(Kn(r),r.alternate===null)throw Error(s(340));_a()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Kn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));_a()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Q(xt),null;case 4:return ot(),null;case 10:return pr(r.type),null;case 22:case 23:return Kn(r),Jd(),n!==null&&Q(Ta),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return pr(Dt),null;case 25:return null;default:return null}}function Hv(n,r){switch(Vd(r),r.tag){case 3:pr(Dt),ot();break;case 26:case 27:case 5:di(r);break;case 4:ot();break;case 31:r.memoizedState!==null&&Kn(r);break;case 13:Kn(r);break;case 19:Q(xt);break;case 10:pr(r.type);break;case 22:case 23:Kn(r),Jd(),n!==null&&Q(Ta);break;case 24:pr(Dt)}}function tu(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var d=a.create,_=a.inst;u=d(),_.destroy=u}a=a.next}while(a!==f)}}catch(S){Ze(r,r.return,S)}}function _s(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&n)===n){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var U=a,Y=S;try{Y()}catch(ne){Ze(f,U,ne)}}}u=u.next}while(u!==d)}}catch(ne){Ze(r,r.return,ne)}}function qv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{k_(r,a)}catch(u){Ze(n,n.return,u)}}}function Fv(n,r,a){a.props=Ra(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){Ze(n,r,u)}}function nu(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){Ze(n,r,f)}}function Vi(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){Ze(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,r,f)}else a.current=null}function Gv(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function Nm(n,r,a){try{var u=n.stateNode;HR(u,n.type,a,r),u[Jt]=r}catch(f){Ze(n,n.return,f)}}function $v(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&As(n.type)||n.tag===4}function Om(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$v(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&As(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dm(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ht));else if(u!==4&&(u===27&&As(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Dm(n,r,a),n=n.sibling;n!==null;)Dm(n,r,a),n=n.sibling}function ph(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&(u===27&&As(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(ph(n,r,a),n=n.sibling;n!==null;)ph(n,r,a),n=n.sibling}function Kv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);nn(r,u,a),r[Et]=n,r[Jt]=a}catch(d){Ze(n,n.return,d)}}var Er=!1,Pt=!1,km=!1,Yv=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function TR(n,r){if(n=n.containerInfo,ep=Lh,n=a_(n),Rd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,U=-1,Y=0,ne=0,se=n,W=null;t:for(;;){for(var Z;se!==a||f!==0&&se.nodeType!==3||(S=_+f),se!==d||u!==0&&se.nodeType!==3||(U=_+u),se.nodeType===3&&(_+=se.nodeValue.length),(Z=se.firstChild)!==null;)W=se,se=Z;for(;;){if(se===n)break t;if(W===a&&++Y===f&&(S=_),W===d&&++ne===u&&(U=_),(Z=se.nextSibling)!==null)break;se=W,W=se.parentNode}se=Z}a=S===-1||U===-1?null:{start:S,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(tp={focusedElem:n,selectionRange:a},Lh=!1,Gt=r;Gt!==null;)if(r=Gt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Gt=n;else for(;Gt!==null;){switch(r=Gt,d=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var me=Ra(a.type,f);n=u.getSnapshotBeforeUpdate(me,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(be){Ze(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)rp(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":rp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Gt=n;break}Gt=r.return}}function Xv(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:br(n,a),u&4&&tu(5,a);break;case 1:if(br(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var f=Ra(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}u&64&&qv(a),u&512&&nu(a,a.return);break;case 3:if(br(n,a),u&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{k_(n,r)}catch(_){Ze(a,a.return,_)}}break;case 27:r===null&&u&4&&Kv(a);case 26:case 5:br(n,a),r===null&&u&4&&Gv(a),u&512&&nu(a,a.return);break;case 12:br(n,a);break;case 31:br(n,a),u&4&&Jv(n,a);break;case 13:br(n,a),u&4&&Zv(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=NR.bind(null,a),QR(n,a))));break;case 22:if(u=a.memoizedState!==null||Er,!u){r=r!==null&&r.memoizedState!==null||Pt,f=Er;var d=Pt;Er=u,(Pt=r)&&!d?wr(n,a,(a.subtreeFlags&8772)!==0):br(n,a),Er=f,Pt=d}break;case 30:break;default:br(n,a)}}function Qv(n){var r=n.alternate;r!==null&&(n.alternate=null,Qv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ra(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,In=!1;function Tr(n,r,a){for(a=a.child;a!==null;)Wv(n,r,a),a=a.sibling}function Wv(n,r,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(mi,a)}catch{}switch(a.tag){case 26:Pt||Vi(a,r),Tr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pt||Vi(a,r);var u=mt,f=In;As(a.type)&&(mt=a.stateNode,In=!1),Tr(n,r,a),hu(a.stateNode),mt=u,In=f;break;case 5:Pt||Vi(a,r);case 6:if(u=mt,f=In,mt=null,Tr(n,r,a),mt=u,In=f,mt!==null)if(In)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{mt.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:mt!==null&&(In?(n=mt,q0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),zo(n)):q0(mt,a.stateNode));break;case 4:u=mt,f=In,mt=a.stateNode.containerInfo,In=!0,Tr(n,r,a),mt=u,In=f;break;case 0:case 11:case 14:case 15:_s(2,a,r),Pt||_s(4,a,r),Tr(n,r,a);break;case 1:Pt||(Vi(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Fv(a,r,u)),Tr(n,r,a);break;case 21:Tr(n,r,a);break;case 22:Pt=(u=Pt)||a.memoizedState!==null,Tr(n,r,a),Pt=u;break;default:Tr(n,r,a)}}function Jv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{zo(n)}catch(a){Ze(r,r.return,a)}}}function Zv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{zo(n)}catch(a){Ze(r,r.return,a)}}function bR(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Yv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Yv),r;default:throw Error(s(435,n.tag))}}function gh(n,r){var a=bR(n);r.forEach(function(u){if(!a.has(u)){a.add(u);var f=OR.bind(null,n,u);u.then(f,f)}})}function Nn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=n,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(As(S.type)){mt=S.stateNode,In=!1;break e}break;case 5:mt=S.stateNode,In=!1;break e;case 3:case 4:mt=S.stateNode.containerInfo,In=!0;break e}S=S.return}if(mt===null)throw Error(s(160));Wv(d,_,f),mt=null,In=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)e0(r,n),r=r.sibling}var vi=null;function e0(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(r,n),On(n),u&4&&(_s(3,n,n.return),tu(3,n),_s(5,n,n.return));break;case 1:Nn(r,n),On(n),u&512&&(Pt||a===null||Vi(a,a.return)),u&64&&Er&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=vi;if(Nn(r,n),On(n),u&512&&(Pt||a===null||Vi(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[rr]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),nn(d,u,a),d[Et]=n,Rt(d),u=d;break e;case"link":var _=eE("link","href",f).get(u+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(u),nn(d,u,a),f.head.appendChild(d);break;case"meta":if(_=eE("meta","content",f).get(u+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(u),nn(d,u,a),f.head.appendChild(d);break;default:throw Error(s(468,u))}d[Et]=n,Rt(d),u=d}n.stateNode=u}else tE(f,n.type,n.stateNode);else n.stateNode=Z0(f,u,n.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?tE(f,n.type,n.stateNode):Z0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Nm(n,n.memoizedProps,a.memoizedProps)}break;case 27:Nn(r,n),On(n),u&512&&(Pt||a===null||Vi(a,a.return)),a!==null&&u&4&&Nm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Nn(r,n),On(n),u&512&&(Pt||a===null||Vi(a,a.return)),n.flags&32){f=n.stateNode;try{ei(f,"")}catch(me){Ze(n,n.return,me)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Nm(n,f,a!==null?a.memoizedProps:f)),u&1024&&(km=!0);break;case 6:if(Nn(r,n),On(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(me){Ze(n,n.return,me)}}break;case 3:if(Dh=null,f=vi,vi=Nh(r.containerInfo),Nn(r,n),vi=f,On(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{zo(r.containerInfo)}catch(me){Ze(n,n.return,me)}km&&(km=!1,t0(n));break;case 4:u=vi,vi=Nh(n.stateNode.containerInfo),Nn(r,n),On(n),vi=u;break;case 12:Nn(r,n),On(n);break;case 31:Nn(r,n),On(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gh(n,u)));break;case 13:Nn(r,n),On(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_h=tt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gh(n,u)));break;case 22:f=n.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,Y=Er,ne=Pt;if(Er=Y||f,Pt=ne||U,Nn(r,n),Pt=ne,Er=Y,On(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||U||Er||Pt||xa(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){U=a=r;try{if(d=U.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=U.stateNode;var se=U.memoizedProps.style,W=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(me){Ze(U,U.return,me)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(me){Ze(U,U.return,me)}}}else if(r.tag===18){if(a===null){U=r;try{var Z=U.stateNode;f?F0(Z,!0):F0(U.stateNode,!1)}catch(me){Ze(U,U.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,gh(n,a))));break;case 19:Nn(r,n),On(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,gh(n,u)));break;case 30:break;case 21:break;default:Nn(r,n),On(n)}}function On(n){var r=n.flags;if(r&2){try{for(var a,u=n.return;u!==null;){if($v(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Om(n);ph(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(ei(_,""),a.flags&=-33);var S=Om(n);ph(n,S,_);break;case 3:case 4:var U=a.stateNode.containerInfo,Y=Om(n);Dm(n,Y,U);break;default:throw Error(s(161))}}catch(ne){Ze(n,n.return,ne)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function t0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;t0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function br(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xv(n,r.alternate,r),r=r.sibling}function xa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:_s(4,r,r.return),xa(r);break;case 1:Vi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Fv(r,r.return,a),xa(r);break;case 27:hu(r.stateNode);case 26:case 5:Vi(r,r.return),xa(r);break;case 22:r.memoizedState===null&&xa(r);break;case 30:xa(r);break;default:xa(r)}n=n.sibling}}function wr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:wr(f,d,a),tu(4,d);break;case 1:if(wr(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){Ze(u,u.return,Y)}if(u=d,f=u.updateQueue,f!==null){var S=u.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)D_(U[f],S)}catch(Y){Ze(u,u.return,Y)}}a&&_&64&&qv(d),nu(d,d.return);break;case 27:Kv(d);case 26:case 5:wr(f,d,a),a&&u===null&&_&4&&Gv(d),nu(d,d.return);break;case 12:wr(f,d,a);break;case 31:wr(f,d,a),a&&_&4&&Jv(f,d);break;case 13:wr(f,d,a),a&&_&4&&Zv(f,d);break;case 22:d.memoizedState===null&&wr(f,d,a),nu(d,d.return);break;case 30:break;default:wr(f,d,a)}r=r.sibling}}function Mm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Hl(a))}function Pm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Hl(n))}function Ei(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n0(n,r,a,u),r=r.sibling}function n0(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(n,r,a,u),f&2048&&tu(9,r);break;case 1:Ei(n,r,a,u);break;case 3:Ei(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Hl(n)));break;case 12:if(f&2048){Ei(n,r,a,u),n=r.stateNode;try{var d=r.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){Ze(r,r.return,U)}}else Ei(n,r,a,u);break;case 31:Ei(n,r,a,u);break;case 13:Ei(n,r,a,u);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Ei(n,r,a,u):iu(n,r):d._visibility&2?Ei(n,r,a,u):(d._visibility|=2,Io(n,r,a,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Mm(_,r);break;case 24:Ei(n,r,a,u),f&2048&&Pm(r.alternate,r);break;default:Ei(n,r,a,u)}}function Io(n,r,a,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=n,_=r,S=a,U=u,Y=_.flags;switch(_.tag){case 0:case 11:case 15:Io(d,_,S,U,f),tu(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?Io(d,_,S,U,f):iu(d,_):(ne._visibility|=2,Io(d,_,S,U,f)),f&&Y&2048&&Mm(_.alternate,_);break;case 24:Io(d,_,S,U,f),f&&Y&2048&&Pm(_.alternate,_);break;default:Io(d,_,S,U,f)}r=r.sibling}}function iu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:iu(a,u),f&2048&&Mm(u.alternate,u);break;case 24:iu(a,u),f&2048&&Pm(u.alternate,u);break;default:iu(a,u)}r=r.sibling}}var ru=8192;function No(n,r,a){if(n.subtreeFlags&ru)for(n=n.child;n!==null;)i0(n,r,a),n=n.sibling}function i0(n,r,a){switch(n.tag){case 26:No(n,r,a),n.flags&ru&&n.memoizedState!==null&&l2(a,vi,n.memoizedState,n.memoizedProps);break;case 5:No(n,r,a);break;case 3:case 4:var u=vi;vi=Nh(n.stateNode.containerInfo),No(n,r,a),vi=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=ru,ru=16777216,No(n,r,a),ru=u):No(n,r,a));break;default:No(n,r,a)}}function r0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function su(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Gt=u,a0(u,n)}r0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)s0(n),n=n.sibling}function s0(n){switch(n.tag){case 0:case 11:case 15:su(n),n.flags&2048&&_s(9,n,n.return);break;case 3:su(n);break;case 12:su(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,yh(n)):su(n);break;default:su(n)}}function yh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Gt=u,a0(u,n)}r0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:_s(8,r,r.return),yh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,yh(r));break;default:yh(r)}n=n.sibling}}function a0(n,r){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:_s(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Gt=u;else e:for(a=n;Gt!==null;){u=Gt;var f=u.sibling,d=u.return;if(Qv(u),u===a){Gt=null;break e}if(f!==null){f.return=d,Gt=f;break e}Gt=d}}}var wR={getCacheForType:function(n){var r=en(Dt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return en(Dt).controller.signal}},SR=typeof WeakMap=="function"?WeakMap:Map,Ye=0,st=null,Pe=null,Ve=0,Je=0,Yn=null,vs=!1,Oo=!1,Lm=!1,Sr=0,wt=0,Es=0,Ca=0,Vm=0,Xn=0,Do=0,au=null,Dn=null,Um=!1,_h=0,o0=0,vh=1/0,Eh=null,Ts=null,jt=0,bs=null,ko=null,Ar=0,jm=0,zm=null,l0=null,ou=0,Bm=null;function Qn(){return(Ye&2)!==0&&Ve!==0?Ve&-Ve:q.T!==null?Km():ir()}function u0(){if(Xn===0)if((Ve&536870912)===0||He){var n=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),Xn=n}else Xn=536870912;return n=$n.current,n!==null&&(n.flags|=32),Xn}function kn(n,r,a){(n===st&&(Je===2||Je===9)||n.cancelPendingCommit!==null)&&(Mo(n,0),ws(n,Ve,Xn,!1)),$r(n,a),((Ye&2)===0||n!==st)&&(n===st&&((Ye&2)===0&&(Ca|=a),wt===4&&ws(n,Ve,Xn,!1)),Ui(n))}function c0(n,r,a){if((Ye&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&n.expiredLanes)===0||Gr(n,r),f=u?xR(n,r):qm(n,r,!0),d=u;do{if(f===0){Oo&&!u&&ws(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!AR(a)){f=qm(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=n;f=au;var U=S.current.memoizedState.isDehydrated;if(U&&(Mo(S,_).flags|=256),_=qm(S,_,!1),_!==2){if(Lm&&!U){S.errorRecoveryDisabledLanes|=d,Ca|=d,f=4;break e}d=Dn,Dn=f,d!==null&&(Dn===null?Dn=d:Dn.push.apply(Dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Mo(n,0),ws(n,r,0,!0);break}e:{switch(u=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ws(u,r,Xn,!vs);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=_h+300-tt(),10<f)){if(ws(u,r,Xn,!vs),Jn(u,0,!0)!==0)break e;Ar=r,u.timeoutHandle=B0(h0.bind(null,u,a,Dn,Eh,Um,r,Xn,Ca,Do,vs,d,"Throttled",-0,0),f);break e}h0(u,a,Dn,Eh,Um,r,Xn,Ca,Do,vs,d,null,-0,0)}}break}while(!0);Ui(n)}function h0(n,r,a,u,f,d,_,S,U,Y,ne,se,W,Z){if(n.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ht},i0(r,d,se);var me=(d&62914560)===d?_h-tt():(d&4194048)===d?o0-tt():0;if(me=u2(se,me),me!==null){Ar=d,n.cancelPendingCommit=me(v0.bind(null,n,r,d,a,u,f,_,S,U,ne,se,null,W,Z)),ws(n,d,_,!Y);return}}v0(n,r,d,a,u,f,_,S,U)}function AR(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!Fn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ws(n,r,a,u){r&=~Vm,r&=~Ca,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var d=31-gn(f),_=1<<d;u[d]=-1,f&=~_}a!==0&&Tl(n,a,r)}function Th(){return(Ye&6)===0?(lu(0),!1):!0}function Hm(){if(Pe!==null){if(Je===0)var n=Pe.return;else n=Pe,mr=va=null,rm(n),So=null,Fl=0,n=Pe;for(;n!==null;)Hv(n.alternate,n),n=n.return;Pe=null}}function Mo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,GR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Ar=0,Hm(),st=n,Pe=a=fr(n.current,null),Ve=r,Je=0,Yn=null,vs=!1,Oo=Gr(n,r),Lm=!1,Do=Xn=Vm=Ca=Es=wt=0,Dn=au=null,Um=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-gn(u),d=1<<f;r|=n[f],u&=~d}return Sr=r,Hc(),a}function f0(n,r){De=null,q.H=Jl,r===wo||r===Qc?(r=C_(),Je=3):r===$d?(r=C_(),Je=4):Je=r===Em?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Yn=r,Pe===null&&(wt=1,ch(n,ni(r,n.current)))}function d0(){var n=$n.current;return n===null?!0:(Ve&4194048)===Ve?ai===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?n===ai:!1}function m0(){var n=q.H;return q.H=Jl,n===null?Jl:n}function p0(){var n=q.A;return q.A=wR,n}function bh(){wt=4,vs||(Ve&4194048)!==Ve&&$n.current!==null||(Oo=!0),(Es&134217727)===0&&(Ca&134217727)===0||st===null||ws(st,Ve,Xn,!1)}function qm(n,r,a){var u=Ye;Ye|=2;var f=m0(),d=p0();(st!==n||Ve!==r)&&(Eh=null,Mo(n,r)),r=!1;var _=wt;e:do try{if(Je!==0&&Pe!==null){var S=Pe,U=Yn;switch(Je){case 8:Hm(),_=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var Y=Je;if(Je=0,Yn=null,Po(n,S,U,Y),a&&Oo){_=0;break e}break;default:Y=Je,Je=0,Yn=null,Po(n,S,U,Y)}}RR(),_=wt;break}catch(ne){f0(n,ne)}while(!0);return r&&n.shellSuspendCounter++,mr=va=null,Ye=u,q.H=f,q.A=d,Pe===null&&(st=null,Ve=0,Hc()),_}function RR(){for(;Pe!==null;)g0(Pe)}function xR(n,r){var a=Ye;Ye|=2;var u=m0(),f=p0();st!==n||Ve!==r?(Eh=null,vh=tt()+500,Mo(n,r)):Oo=Gr(n,r);e:do try{if(Je!==0&&Pe!==null){r=Pe;var d=Yn;t:switch(Je){case 1:Je=0,Yn=null,Po(n,r,d,1);break;case 2:case 9:if(R_(d)){Je=0,Yn=null,y0(r);break}r=function(){Je!==2&&Je!==9||st!==n||(Je=7),Ui(n)},d.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:R_(d)?(Je=0,Yn=null,y0(r)):(Je=0,Yn=null,Po(n,r,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var S=Pe;if(_?nE(_):S.stateNode.complete){Je=0,Yn=null;var U=S.sibling;if(U!==null)Pe=U;else{var Y=S.return;Y!==null?(Pe=Y,wh(Y)):Pe=null}break t}}Je=0,Yn=null,Po(n,r,d,5);break;case 6:Je=0,Yn=null,Po(n,r,d,6);break;case 8:Hm(),wt=6;break e;default:throw Error(s(462))}}CR();break}catch(ne){f0(n,ne)}while(!0);return mr=va=null,q.H=u,q.A=f,Ye=a,Pe!==null?0:(st=null,Ve=0,Hc(),wt)}function CR(){for(;Pe!==null&&!et();)g0(Pe)}function g0(n){var r=zv(n.alternate,n,Sr);n.memoizedProps=n.pendingProps,r===null?wh(n):Pe=r}function y0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Mv(a,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=Mv(a,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:rm(r);default:Hv(a,r),r=Pe=p_(r,Sr),r=zv(a,r,Sr)}n.memoizedProps=n.pendingProps,r===null?wh(n):Pe=r}function Po(n,r,a,u){mr=va=null,rm(r),So=null,Fl=0;var f=r.return;try{if(gR(n,f,r,a,Ve)){wt=1,ch(n,ni(a,n.current)),Pe=null;return}}catch(d){if(f!==null)throw Pe=f,d;wt=1,ch(n,ni(a,n.current)),Pe=null;return}r.flags&32768?(He||u===1?n=!0:Oo||(Ve&536870912)!==0?n=!1:(vs=n=!0,(u===2||u===9||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),_0(r,n)):wh(r)}function wh(n){var r=n;do{if((r.flags&32768)!==0){_0(r,vs);return}n=r.return;var a=vR(r.alternate,r,Sr);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=n}while(r!==null);wt===0&&(wt=5)}function _0(n,r){do{var a=ER(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);wt=6,Pe=null}function v0(n,r,a,u,f,d,_,S,U){n.cancelPendingCommit=null;do Sh();while(jt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Od,Wt(n,a,d,_,S,U),n===st&&(Pe=st=null,Ve=0),ko=r,bs=n,Ar=a,jm=d,zm=f,l0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,DR(Rn,function(){return S0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,f=X.p,X.p=2,_=Ye,Ye|=4;try{TR(n,r,a)}finally{Ye=_,X.p=f,q.T=u}}jt=1,E0(),T0(),b0()}}function E0(){if(jt===1){jt=0;var n=bs,r=ko,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var u=X.p;X.p=2;var f=Ye;Ye|=4;try{e0(r,n);var d=tp,_=a_(n.containerInfo),S=d.focusedElem,U=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&s_(S.ownerDocument.documentElement,S)){if(U!==null&&Rd(S)){var Y=U.start,ne=U.end;if(ne===void 0&&(ne=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(ne,S.value.length);else{var se=S.ownerDocument||document,W=se&&se.defaultView||window;if(W.getSelection){var Z=W.getSelection(),me=S.textContent.length,be=Math.min(U.start,me),rt=U.end===void 0?be:Math.min(U.end,me);!Z.extend&&be>rt&&(_=rt,rt=be,be=_);var G=r_(S,be),z=r_(S,rt);if(G&&z&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var K=se.createRange();K.setStart(G.node,G.offset),Z.removeAllRanges(),be>rt?(Z.addRange(K),Z.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),Z.addRange(K))}}}}for(se=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var re=se[S];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Lh=!!ep,tp=ep=null}finally{Ye=f,X.p=u,q.T=a}}n.current=r,jt=2}}function T0(){if(jt===2){jt=0;var n=bs,r=ko,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var u=X.p;X.p=2;var f=Ye;Ye|=4;try{Xv(n,r.alternate,r)}finally{Ye=f,X.p=u,q.T=a}}jt=3}}function b0(){if(jt===4||jt===3){jt=0,At();var n=bs,r=ko,a=Ar,u=l0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,ko=bs=null,w0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ts=null),wl(a),r=r.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(mi,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=q.T,f=X.p,X.p=2,q.T=null;try{for(var d=n.onRecoverableError,_=0;_<u.length;_++){var S=u[_];d(S.value,{componentStack:S.stack})}}finally{q.T=r,X.p=f}}(Ar&3)!==0&&Sh(),Ui(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Bm?ou++:(ou=0,Bm=n):ou=0,lu(0)}}function w0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Hl(r)))}function Sh(){return E0(),T0(),b0(),S0()}function S0(){if(jt!==5)return!1;var n=bs,r=jm;jm=0;var a=wl(Ar),u=q.T,f=X.p;try{X.p=32>a?32:a,q.T=null,a=zm,zm=null;var d=bs,_=Ar;if(jt=0,ko=bs=null,Ar=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,s0(d.current),n0(d,d.current,_,a),Ye=S,lu(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(mi,d)}catch{}return!0}finally{X.p=f,q.T=u,w0(n,r)}}function A0(n,r,a){r=ni(a,r),r=vm(n.stateNode,r,2),n=ps(n,r,2),n!==null&&($r(n,2),Ui(n))}function Ze(n,r,a){if(n.tag===3)A0(n,n,a);else for(;r!==null;){if(r.tag===3){A0(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ts===null||!Ts.has(u))){n=ni(a,n),a=Rv(2),u=ps(r,a,2),u!==null&&(xv(a,u,r,n),$r(u,2),Ui(u));break}}r=r.return}}function Fm(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new SR;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Lm=!0,f.add(a),n=IR.bind(null,n,r,a),r.then(n,n))}function IR(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,st===n&&(Ve&a)===a&&(wt===4||wt===3&&(Ve&62914560)===Ve&&300>tt()-_h?(Ye&2)===0&&Mo(n,0):Vm|=a,Do===Ve&&(Do=0)),Ui(n)}function R0(n,r){r===0&&(r=El()),n=ga(n,r),n!==null&&($r(n,r),Ui(n))}function NR(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),R0(n,a)}function OR(n,r){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),R0(n,a)}function DR(n,r){return tr(n,r)}var Ah=null,Lo=null,Gm=!1,Rh=!1,$m=!1,Ss=0;function Ui(n){n!==Lo&&n.next===null&&(Lo===null?Ah=Lo=n:Lo=Lo.next=n),Rh=!0,Gm||(Gm=!0,MR())}function lu(n,r){if(!$m&&Rh){$m=!0;do for(var a=!1,u=Ah;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var _=u.suspendedLanes,S=u.pingedLanes;d=(1<<31-gn(42|n)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,N0(u,d))}else d=Ve,d=Jn(u,u===st?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||Gr(u,d)||(a=!0,N0(u,d));u=u.next}while(a);$m=!1}}function kR(){x0()}function x0(){Rh=Gm=!1;var n=0;Ss!==0&&FR()&&(n=Ss);for(var r=tt(),a=null,u=Ah;u!==null;){var f=u.next,d=C0(u,r);d===0?(u.next=null,a===null?Ah=f:a.next=f,f===null&&(Lo=a)):(a=u,(n!==0||(d&3)!==0)&&(Rh=!0)),u=f}jt!==0&&jt!==5||lu(n),Ss!==0&&(Ss=0)}function C0(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-gn(d),S=1<<_,U=f[_];U===-1?((S&a)===0||(S&u)!==0)&&(f[_]=to(S,r)):U<=r&&(n.expiredLanes|=S),d&=~S}if(r=st,a=Ve,a=Jn(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===r&&(Je===2||Je===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&he(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Gr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&he(u),wl(a)){case 2:case 8:a=gt;break;case 32:a=Rn;break;case 268435456:a=ln;break;default:a=Rn}return u=I0.bind(null,n),a=tr(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&he(u),n.callbackPriority=2,n.callbackNode=null,2}function I0(n,r){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Sh()&&n.callbackNode!==a)return null;var u=Ve;return u=Jn(n,n===st?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(c0(n,u,r),C0(n,tt()),n.callbackNode!=null&&n.callbackNode===a?I0.bind(null,n):null)}function N0(n,r){if(Sh())return null;c0(n,r,!0)}function MR(){$R(function(){(Ye&6)!==0?tr(lt,kR):x0()})}function Km(){if(Ss===0){var n=To;n===0&&(n=ia,ia<<=1,(ia&261888)===0&&(ia=256)),Ss=n}return Ss}function O0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Di(""+n)}function D0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function PR(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var d=O0((f[Jt]||null).action),_=u.submitter;_&&(r=(r=_[Jt]||null)?O0(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var S=new ua("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ss!==0){var U=_?D0(f,_):new FormData(f);dm(a,{pending:!0,data:U,method:f.method,action:d},null,U)}}else typeof d=="function"&&(S.preventDefault(),U=_?D0(f,_):new FormData(f),dm(a,{pending:!0,data:U,method:f.method,action:d},d,U))},currentTarget:f}]})}}for(var Ym=0;Ym<Nd.length;Ym++){var Xm=Nd[Ym],LR=Xm.toLowerCase(),VR=Xm[0].toUpperCase()+Xm.slice(1);_i(LR,"on"+VR)}_i(u_,"onAnimationEnd"),_i(c_,"onAnimationIteration"),_i(h_,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(ZA,"onTransitionRun"),_i(eR,"onTransitionStart"),_i(tR,"onTransitionCancel"),_i(f_,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function k0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],U=S.instance,Y=S.currentTarget;if(S=S.listener,U!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=Y;try{d(f)}catch(ne){Bc(ne)}f.currentTarget=null,d=U}else for(_=0;_<u.length;_++){if(S=u[_],U=S.instance,Y=S.currentTarget,S=S.listener,U!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=Y;try{d(f)}catch(ne){Bc(ne)}f.currentTarget=null,d=U}}}}function Le(n,r){var a=r[Xr];a===void 0&&(a=r[Xr]=new Set);var u=n+"__bubble";a.has(u)||(M0(r,n,2,!1),a.add(u))}function Qm(n,r,a){var u=0;r&&(u|=4),M0(a,n,u,r)}var xh="_reactListening"+Math.random().toString(36).slice(2);function Wm(n){if(!n[xh]){n[xh]=!0,no.forEach(function(a){a!=="selectionchange"&&(UR.has(a)||Qm(a,!1,n),Qm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[xh]||(r[xh]=!0,Qm("selectionchange",!1,r))}}function M0(n,r,a,u){switch(uE(r)){case 2:var f=f2;break;case 8:f=d2;break;default:f=fp}a=f.bind(null,r,a,n),f=void 0,!Ol||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Jm(n,r,a,u,f){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=u.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=sr(S),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){u=d=_;continue e}S=S.parentNode}}u=u.return}Ac(function(){var Y=d,ne=oo(a),se=[];e:{var W=d_.get(n);if(W!==void 0){var Z=ua,me=n;switch(n){case"keypress":if(la(a)===0)break e;case"keydown":case"keyup":Z=Mc;break;case"focusin":me="focus",Z=ss;break;case"focusout":me="blur",Z=ss;break;case"beforeblur":case"afterblur":Z=ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Lc;break;case u_:case c_:case h_:Z=co;break;case f_:Z=ho;break;case"scroll":case"scrollend":Z=Rc;break;case"wheel":Z=Uc;break;case"copy":case"cut":case"paste":Z=Nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ll;break;case"toggle":case"beforetoggle":Z=os}var be=(r&4)!==0,rt=!be&&(n==="scroll"||n==="scrollend"),G=be?W!==null?W+"Capture":null:W;be=[];for(var z=Y,K;z!==null;){var re=z;if(K=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||K===null||G===null||(re=xn(z,G),re!=null&&be.push(cu(z,re,K))),rt)break;z=z.return}0<be.length&&(W=new Z(W,me,null,a,ne),se.push({event:W,listeners:be}))}}if((r&7)===0){e:{if(W=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",W&&a!==ao&&(me=a.relatedTarget||a.fromElement)&&(sr(me)||me[Ii]))break e;if((Z||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(me=a.relatedTarget||a.toElement,Z=Y,me=me?sr(me):null,me!==null&&(rt=l(me),be=me.tag,me!==rt||be!==5&&be!==27&&be!==6)&&(me=null)):(Z=null,me=Y),Z!==me)){if(be=xc,re="onMouseLeave",G="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(be=Ll,re="onPointerLeave",G="onPointerEnter",z="pointer"),rt=Z==null?W:sa(Z),K=me==null?W:sa(me),W=new be(re,z+"leave",Z,a,ne),W.target=rt,W.relatedTarget=K,re=null,sr(ne)===Y&&(be=new be(G,z+"enter",me,a,ne),be.target=K,be.relatedTarget=rt,re=be),rt=re,Z&&me)t:{for(be=jR,G=Z,z=me,K=0,re=G;re;re=be(re))K++;re=0;for(var ve=z;ve;ve=be(ve))re++;for(;0<K-re;)G=be(G),K--;for(;0<re-K;)z=be(z),re--;for(;K--;){if(G===z||z!==null&&G===z.alternate){be=G;break t}G=be(G),z=be(z)}be=null}else be=null;Z!==null&&P0(se,W,Z,be,!1),me!==null&&rt!==null&&P0(se,rt,me,be,!0)}}e:{if(W=Y?sa(Y):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var $e=Jy;else if(Cn(W))if(Zy)$e=QA;else{$e=YA;var ge=KA}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&Il(Y.elementType)&&($e=Jy):$e=XA;if($e&&($e=$e(n,Y))){da(se,$e,a,ne);break e}ge&&ge(n,W,Y),n==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&so(W,"number",W.value)}switch(ge=Y?sa(Y):window,n){case"focusin":(Cn(ge)||ge.contentEditable==="true")&&(fo=ge,xd=Y,jl=null);break;case"focusout":jl=xd=fo=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,o_(se,a,ne);break;case"selectionchange":if(JA)break;case"keydown":case"keyup":o_(se,a,ne)}var ke;if(y)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Me?Xe(n,a)&&(Ue="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&($&&a.locale!=="ko"&&(Me||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Me&&(ke=ts()):(qn=ne,lo="value"in qn?qn.value:qn.textContent,Me=!0)),ge=Ch(Y,Ue),0<ge.length&&(Ue=new kl(Ue,n,null,a,ne),se.push({event:Ue,listeners:ge}),ke?Ue.data=ke:(ke=Ot(a),ke!==null&&(Ue.data=ke)))),(ke=x?qt(n,a):Ft(n,a))&&(Ue=Ch(Y,"onBeforeInput"),0<Ue.length&&(ge=new kl("onBeforeInput","beforeinput",null,a,ne),se.push({event:ge,listeners:Ue}),ge.data=ke)),PR(se,n,Y,a,ne)}k0(se,r)})}function cu(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Ch(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=xn(n,a),f!=null&&u.unshift(cu(n,f,d)),f=xn(n,r),f!=null&&u.push(cu(n,f,d))),n.tag===3)return u;n=n.return}return[]}function jR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function P0(n,r,a,u,f){for(var d=r._reactName,_=[];a!==null&&a!==u;){var S=a,U=S.alternate,Y=S.stateNode;if(S=S.tag,U!==null&&U===u)break;S!==5&&S!==26&&S!==27||Y===null||(U=Y,f?(Y=xn(a,d),Y!=null&&_.unshift(cu(a,Y,U))):f||(Y=xn(a,d),Y!=null&&_.push(cu(a,Y,U)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var zR=/\r\n?/g,BR=/\u0000|\uFFFD/g;function L0(n){return(typeof n=="string"?n:""+n).replace(zR,`
`).replace(BR,"")}function V0(n,r){return r=L0(r),L0(n)===r}function it(n,r,a,u,f,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ei(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ei(n,""+u);break;case"className":Jr(n,"class",u);break;case"tabIndex":Jr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(n,a,u);break;case"style":wc(n,u,d);break;case"data":if(r!=="object"){Jr(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Di(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&it(n,r,"name",f.name,f,null),it(n,r,"formEncType",f.formEncType,f,null),it(n,r,"formMethod",f.formMethod,f,null),it(n,r,"formTarget",f.formTarget,f,null)):(it(n,r,"encType",f.encType,f,null),it(n,r,"method",f.method,f,null),it(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Di(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Ht);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Di(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Wr(n,"popover",u);break;case"xlinkActuate":Zn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Zn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Zn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Zn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Zn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Zn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Zn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Zn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Zn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Td.get(a)||a,Wr(n,a,u))}}function Zm(n,r,a,u,f,d){switch(a){case"style":wc(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?ei(n,u):(typeof u=="number"||typeof u=="bigint")&&ei(n,""+u);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ht);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[Jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Wr(n,a,u)}}}function nn(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(n,r,d,_,a,null)}}f&&it(n,r,"srcSet",a.srcSet,a,null),u&&it(n,r,"src",a.src,a,null);return;case"input":Le("invalid",n);var S=d=_=f=null,U=null,Y=null;for(u in a)if(a.hasOwnProperty(u)){var ne=a[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":_=ne;break;case"checked":U=ne;break;case"defaultChecked":Y=ne;break;case"value":d=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,r));break;default:it(n,r,u,ne,a,null)}}aa(n,d,S,U,Y,_,f,!1);return;case"select":Le("invalid",n),u=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:it(n,r,f,S,a,null)}r=d,a=_,n.multiple=!!u,r!=null?Ge(n,!!u,r,!1):a!=null&&Ge(n,!!u,a,!0);return;case"textarea":Le("invalid",n),d=f=u=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:it(n,r,_,S,a,null)}es(n,u,f,d);return;case"option":for(U in a)if(a.hasOwnProperty(U)&&(u=a[U],u!=null))switch(U){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(n,r,U,u,a,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(u=0;u<uu.length;u++)Le(uu[u],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(u=a[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:it(n,r,Y,u,a,null)}return;default:if(Il(r)){for(ne in a)a.hasOwnProperty(ne)&&(u=a[ne],u!==void 0&&Zm(n,r,ne,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&it(n,r,S,u,a,null))}function HR(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,U=null,Y=null,ne=null;for(Z in a){var se=a[Z];if(a.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":U=se;default:u.hasOwnProperty(Z)||it(n,r,Z,null,u,se)}}for(var W in u){var Z=u[W];if(se=a[W],u.hasOwnProperty(W)&&(Z!=null||se!=null))switch(W){case"type":d=Z;break;case"name":f=Z;break;case"checked":Y=Z;break;case"defaultChecked":ne=Z;break;case"value":_=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Z!==se&&it(n,r,W,Z,u,se)}}Zr(n,_,S,U,Y,ne,d,f);return;case"select":Z=_=S=W=null;for(d in a)if(U=a[d],a.hasOwnProperty(d)&&U!=null)switch(d){case"value":break;case"multiple":Z=U;default:u.hasOwnProperty(d)||it(n,r,d,null,u,U)}for(f in u)if(d=u[f],U=a[f],u.hasOwnProperty(f)&&(d!=null||U!=null))switch(f){case"value":W=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==U&&it(n,r,f,d,u,U)}r=S,a=_,u=Z,W!=null?Ge(n,!!a,W,!1):!!u!=!!a&&(r!=null?Ge(n,!!a,r,!0):Ge(n,!!a,a?[]:"",!1));return;case"textarea":Z=W=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:it(n,r,S,null,u,f)}for(_ in u)if(f=u[_],d=a[_],u.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":W=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&it(n,r,_,f,u,d)}oa(n,W,Z);return;case"option":for(var me in a)if(W=a[me],a.hasOwnProperty(me)&&W!=null&&!u.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:it(n,r,me,null,u,W)}for(U in u)if(W=u[U],Z=a[U],u.hasOwnProperty(U)&&W!==Z&&(W!=null||Z!=null))switch(U){case"selected":n.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:it(n,r,U,W,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)W=a[be],a.hasOwnProperty(be)&&W!=null&&!u.hasOwnProperty(be)&&it(n,r,be,null,u,W);for(Y in u)if(W=u[Y],Z=a[Y],u.hasOwnProperty(Y)&&W!==Z&&(W!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:it(n,r,Y,W,u,Z)}return;default:if(Il(r)){for(var rt in a)W=a[rt],a.hasOwnProperty(rt)&&W!==void 0&&!u.hasOwnProperty(rt)&&Zm(n,r,rt,void 0,u,W);for(ne in u)W=u[ne],Z=a[ne],!u.hasOwnProperty(ne)||W===Z||W===void 0&&Z===void 0||Zm(n,r,ne,W,u,Z);return}}for(var G in a)W=a[G],a.hasOwnProperty(G)&&W!=null&&!u.hasOwnProperty(G)&&it(n,r,G,null,u,W);for(se in u)W=u[se],Z=a[se],!u.hasOwnProperty(se)||W===Z||W==null&&Z==null||it(n,r,se,W,u,Z)}function U0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var f=a[u],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&U0(_)){for(_=0,S=f.responseEnd,u+=1;u<a.length;u++){var U=a[u],Y=U.startTime;if(Y>S)break;var ne=U.transferSize,se=U.initiatorType;ne&&U0(se)&&(U=U.responseEnd,_+=ne*(U<S?1:(S-Y)/(U-Y)))}if(--u,r+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var ep=null,tp=null;function Ih(n){return n.nodeType===9?n:n.ownerDocument}function j0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function np(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ip=null;function FR(){var n=window.event;return n&&n.type==="popstate"?n===ip?!1:(ip=n,!0):(ip=null,!1)}var B0=typeof setTimeout=="function"?setTimeout:void 0,GR=typeof clearTimeout=="function"?clearTimeout:void 0,H0=typeof Promise=="function"?Promise:void 0,$R=typeof queueMicrotask=="function"?queueMicrotask:typeof H0<"u"?function(n){return H0.resolve(null).then(n).catch(KR)}:B0;function KR(n){setTimeout(function(){throw n})}function As(n){return n==="head"}function q0(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(f),zo(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")hu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,hu(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[rr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&hu(n.ownerDocument.body);a=f}while(a);zo(r)}function F0(n,r){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function rp(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rp(a),ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function YR(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[rr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=oi(n.nextSibling),n===null)break}return null}function XR(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=oi(n.nextSibling),n===null))return null;return n}function G0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=oi(n.nextSibling),n===null))return null;return n}function sp(n){return n.data==="$?"||n.data==="$~"}function ap(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function QR(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function oi(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var op=null;function $0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return oi(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function K0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function Y0(n,r,a){switch(r=Ih(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function hu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);ra(n)}var li=new Map,X0=new Set;function Nh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Rr=X.d;X.d={f:WR,r:JR,D:ZR,C:e2,L:t2,m:n2,X:r2,S:i2,M:s2};function WR(){var n=Rr.f(),r=Th();return n||r}function JR(n){var r=ar(n);r!==null&&r.tag===5&&r.type==="form"?fv(r):Rr.r(n)}var Vo=typeof document>"u"?null:document;function Q0(n,r,a){var u=Vo;if(u&&typeof r=="string"&&r){var f=Tt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),X0.has(f)||(X0.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),nn(r,"link",n),Rt(r),u.head.appendChild(r)))}}function ZR(n){Rr.D(n),Q0("dns-prefetch",n,null)}function e2(n,r){Rr.C(n,r),Q0("preconnect",n,r)}function t2(n,r,a){Rr.L(n,r,a);var u=Vo;if(u&&n&&r){var f='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Tt(a.imageSizes)+'"]')):f+='[href="'+Tt(n)+'"]';var d=f;switch(r){case"style":d=Uo(n);break;case"script":d=jo(n)}li.has(d)||(n=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),li.set(d,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(fu(d))||r==="script"&&u.querySelector(du(d))||(r=u.createElement("link"),nn(r,"link",n),Rt(r),u.head.appendChild(r)))}}function n2(n,r){Rr.m(n,r);var a=Vo;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Tt(u)+'"][href="'+Tt(n)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=jo(n)}if(!li.has(d)&&(n=T({rel:"modulepreload",href:n},r),li.set(d,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(du(d)))return}u=a.createElement("link"),nn(u,"link",n),Rt(u),a.head.appendChild(u)}}}function i2(n,r,a){Rr.S(n,r,a);var u=Vo;if(u&&n){var f=gi(u).hoistableStyles,d=Uo(n);r=r||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(fu(d)))S.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":r},a),(a=li.get(d))&&lp(n,a);var U=_=u.createElement("link");Rt(U),nn(U,"link",n),U._p=new Promise(function(Y,ne){U.onload=Y,U.onerror=ne}),U.addEventListener("load",function(){S.loading|=1}),U.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Oh(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function r2(n,r){Rr.X(n,r);var a=Vo;if(a&&n){var u=gi(a).hoistableScripts,f=jo(n),d=u.get(f);d||(d=a.querySelector(du(f)),d||(n=T({src:n,async:!0},r),(r=li.get(f))&&up(n,r),d=a.createElement("script"),Rt(d),nn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function s2(n,r){Rr.M(n,r);var a=Vo;if(a&&n){var u=gi(a).hoistableScripts,f=jo(n),d=u.get(f);d||(d=a.querySelector(du(f)),d||(n=T({src:n,async:!0,type:"module"},r),(r=li.get(f))&&up(n,r),d=a.createElement("script"),Rt(d),nn(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function W0(n,r,a,u){var f=(f=Ce.current)?Nh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Uo(a.href),a=gi(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Uo(a.href);var d=gi(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(fu(n)))&&!d._p&&(_.instance=d,_.state.loading=5),li.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},li.set(n,a),d||a2(f,n,a,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=jo(a),a=gi(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Uo(n){return'href="'+Tt(n)+'"'}function fu(n){return'link[rel="stylesheet"]['+n+"]"}function J0(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function a2(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),nn(r,"link",a),Rt(r),n.head.appendChild(r))}function jo(n){return'[src="'+Tt(n)+'"]'}function du(n){return"script[async]"+n}function Z0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(u)return r.instance=u,Rt(u),u;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Rt(u),nn(u,"style",f),Oh(u,a.precedence,n),r.instance=u;case"stylesheet":f=Uo(a.href);var d=n.querySelector(fu(f));if(d)return r.state.loading|=4,r.instance=d,Rt(d),d;u=J0(a),(f=li.get(f))&&lp(u,f),d=(n.ownerDocument||n).createElement("link"),Rt(d);var _=d;return _._p=new Promise(function(S,U){_.onload=S,_.onerror=U}),nn(d,"link",u),r.state.loading|=4,Oh(d,a.precedence,n),r.instance=d;case"script":return d=jo(a.src),(f=n.querySelector(du(d)))?(r.instance=f,Rt(f),f):(u=a,(f=li.get(d))&&(u=T({},a),up(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Rt(f),nn(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Oh(u,a.precedence,n));return r.instance}function Oh(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function lp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function up(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Dh=null;function eE(n,r,a){if(Dh===null){var u=new Map,f=Dh=new Map;f.set(a,u)}else f=Dh,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[rr]||d[Et]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=n+_;var S=u.get(_);S?S.push(d):u.set(_,[d])}}return u}function tE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function o2(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function l2(n,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Uo(u.href),d=r.querySelector(fu(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=kh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=d,Rt(d);return}d=r.ownerDocument||r,u=J0(u),(f=li.get(f))&&lp(u,f),d=d.createElement("link"),Rt(d);var _=d;_._p=new Promise(function(S,U){_.onload=S,_.onerror=U}),nn(d,"link",u),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=kh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var cp=0;function u2(n,r){return n.stylesheets&&n.count===0&&Ph(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&Ph(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+r);0<n.imgBytes&&cp===0&&(cp=62500*qR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ph(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>cp?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Mh=null;function Ph(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Mh=new Map,r.forEach(c2,n),Mh=null,kh.call(n))}function c2(n,r){if(!(r.state.loading&4)){var a=Mh.get(n);if(a)var u=a.get(null);else{a=new Map,Mh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),u=_)}u&&a.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||u,d===u&&a.set(null,f),a.set(_,f),this.count++,u=kh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var mu={$$typeof:F,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function h2(n,r,a,u,f,d,_,S,U){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function iE(n,r,a,u,f,d,_,S,U,Y,ne,se){return n=new h2(n,r,a,_,U,Y,ne,se,S),r=1,d===!0&&(r|=24),d=Gn(3,null,null,r),n.current=d,d.stateNode=n,r=qd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},Kd(d),n}function rE(n){return n?(n=go,n):go}function sE(n,r,a,u,f,d){f=rE(f),u.context===null?u.context=f:u.pendingContext=f,u=ms(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=ps(n,u,r),a!==null&&(kn(a,n,r),$l(a,n,r))}function aE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function hp(n,r){aE(n,r),(n=n.alternate)&&aE(n,r)}function oE(n){if(n.tag===13||n.tag===31){var r=ga(n,67108864);r!==null&&kn(r,n,67108864),hp(n,67108864)}}function lE(n){if(n.tag===13||n.tag===31){var r=Qn();r=bl(r);var a=ga(n,r);a!==null&&kn(a,n,r),hp(n,r)}}var Lh=!0;function f2(n,r,a,u){var f=q.T;q.T=null;var d=X.p;try{X.p=2,fp(n,r,a,u)}finally{X.p=d,q.T=f}}function d2(n,r,a,u){var f=q.T;q.T=null;var d=X.p;try{X.p=8,fp(n,r,a,u)}finally{X.p=d,q.T=f}}function fp(n,r,a,u){if(Lh){var f=dp(u);if(f===null)Jm(n,r,u,Vh,a),cE(n,u);else if(p2(f,n,r,a,u))u.stopPropagation();else if(cE(n,u),r&4&&-1<m2.indexOf(n)){for(;f!==null;){var d=ar(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var U=1<<31-gn(_);S.entanglements[1]|=U,_&=~U}Ui(d),(Ye&6)===0&&(vh=tt()+500,lu(0))}}break;case 31:case 13:S=ga(d,2),S!==null&&kn(S,d,2),Th(),hp(d,2)}if(d=dp(u),d===null&&Jm(n,r,u,Vh,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else Jm(n,r,u,null,a)}}function dp(n){return n=oo(n),mp(n)}var Vh=null;function mp(n){if(Vh=null,n=sr(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Vh=n,null}function uE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case lt:return 2;case gt:return 8;case Rn:case qr:return 32;case ln:return 268435456;default:return 32}default:return 32}}var pp=!1,Rs=null,xs=null,Cs=null,pu=new Map,gu=new Map,Is=[],m2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cE(n,r){switch(n){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":pu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":gu.delete(r.pointerId)}}function yu(n,r,a,u,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ar(r),r!==null&&oE(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function p2(n,r,a,u,f){switch(r){case"focusin":return Rs=yu(Rs,n,r,a,u,f),!0;case"dragenter":return xs=yu(xs,n,r,a,u,f),!0;case"mouseover":return Cs=yu(Cs,n,r,a,u,f),!0;case"pointerover":var d=f.pointerId;return pu.set(d,yu(pu.get(d)||null,n,r,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,gu.set(d,yu(gu.get(d)||null,n,r,a,u,f)),!0}return!1}function hE(n){var r=sr(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,vc(n.priority,function(){lE(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,vc(n.priority,function(){lE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Uh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=dp(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);ao=u,a.target.dispatchEvent(u),ao=null}else return r=ar(a),r!==null&&oE(r),n.blockedOn=a,!1;r.shift()}return!0}function fE(n,r,a){Uh(n)&&a.delete(r)}function g2(){pp=!1,Rs!==null&&Uh(Rs)&&(Rs=null),xs!==null&&Uh(xs)&&(xs=null),Cs!==null&&Uh(Cs)&&(Cs=null),pu.forEach(fE),gu.forEach(fE)}function jh(n,r){n.blockedOn===r&&(n.blockedOn=null,pp||(pp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,g2)))}var zh=null;function dE(n){zh!==n&&(zh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){zh===n&&(zh=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(mp(u||a)===null)continue;break}var d=ar(a);d!==null&&(n.splice(r,3),r-=3,dm(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function zo(n){function r(U){return jh(U,n)}Rs!==null&&jh(Rs,n),xs!==null&&jh(xs,n),Cs!==null&&jh(Cs,n),pu.forEach(r),gu.forEach(r);for(var a=0;a<Is.length;a++){var u=Is[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Is.length&&(a=Is[0],a.blockedOn===null);)hE(a),a.blockedOn===null&&Is.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],_=f[Jt]||null;if(typeof d=="function")_||dE(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Jt]||null)S=_.formAction;else if(mp(f)!==null)continue}else S=_.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),dE(a)}}}function mE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function gp(n){this._internalRoot=n}Bh.prototype.render=gp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Qn();sE(a,u,n,r,null,null)},Bh.prototype.unmount=gp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;sE(n.current,2,null,n,null,null),Th(),r[Ii]=null}};function Bh(n){this._internalRoot=n}Bh.prototype.unstable_scheduleHydration=function(n){if(n){var r=ir();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Is.length&&r!==0&&r<Is[a].priority;a++);Is.splice(a,0,n),a===0&&hE(n)}};var pE=e.version;if(pE!=="19.2.4")throw Error(s(527,pE,"19.2.4"));X.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var y2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{mi=Hh.inject(y2),Nt=Hh}catch{}}return vu.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=bv,d=wv,_=Sv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=iE(n,1,!1,null,null,a,u,null,f,d,_,mE),n[Ii]=r.current,Wm(n),new gp(r)},vu.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",d=bv,_=wv,S=Sv,U=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(U=a.formState)),r=iE(n,1,!0,r,a??null,u,f,U,d,_,S,mE),r.context=rE(null),a=r.current,u=Qn(),u=bl(u),f=ms(u),f.callback=null,ps(a,f,u),a=u,r.current.lanes=a,$r(r,a),Ui(r),n[Ii]=r.current,Wm(n),new Bh(r)},vu.version="19.2.4",vu}var AE;function R2(){if(AE)return vp.exports;AE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vp.exports=A2(),vp.exports}var x2=R2();const C2=Nb(x2);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var RE="popstate";function I2(i={}){function e(o,l){let{pathname:c="/",search:m="",hash:p=""}=$a(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Kp("",{pathname:c,search:m,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof l=="string"?l:Vu(l))}function s(o,l){fi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return O2(e,t,s,i)}function pt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function fi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N2(){return Math.random().toString(36).substring(2,10)}function xE(i,e){return{usr:i.state,key:i.key,idx:e}}function Kp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?$a(e):e,state:t,key:e&&e.key||s||N2()}}function Vu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function $a(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function O2(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,m="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){m="POP";let k=v(),V=k==null?null:k-g;g=k,p&&p({action:m,location:D.location,delta:V})}function w(k,V){m="PUSH";let H=Kp(D.location,k,V);t&&t(H,k),g=v()+1;let F=xE(H,g),te=D.createHref(H);try{c.pushState(F,"",te)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(te)}l&&p&&p({action:m,location:D.location,delta:1})}function O(k,V){m="REPLACE";let H=Kp(D.location,k,V);t&&t(H,k),g=v();let F=xE(H,g),te=D.createHref(H);c.replaceState(F,"",te),l&&p&&p({action:m,location:D.location,delta:0})}function P(k){return D2(k)}let D={get action(){return m},get location(){return i(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(RE,T),p=k,()=>{o.removeEventListener(RE,T),p=null}},createHref(k){return e(o,k)},createURL:P,encodeLocation(k){let V=P(k);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:w,replace:O,go(k){return c.go(k)}};return D}function D2(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Vu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Db(i,e,t="/"){return k2(i,e,t,!1)}function k2(i,e,t,s){let o=typeof e=="string"?$a(e):e,l=Mr(o.pathname||"/",t);if(l==null)return null;let c=kb(i);M2(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=G2(l);m=q2(c[p],g,s)}return m}function kb(i,e=[],t=[],s=""){let o=(l,c,m)=>{let p={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(pt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Or([s,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(pt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),kb(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:B2(g,l.index),routesMeta:v})};return i.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))o(l,c);else for(let m of Mb(l.path))o(l,c,m)}),e}function Mb(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=Mb(s.join("/")),m=[];return m.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function M2(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:H2(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var P2=/^:[\w-]+$/,L2=3,V2=2,U2=1,j2=10,z2=-2,CE=i=>i==="*";function B2(i,e){let t=i.split("/"),s=t.length;return t.some(CE)&&(s+=z2),e&&(s+=V2),t.filter(o=>!CE(o)).reduce((o,l)=>o+(P2.test(l)?L2:l===""?U2:j2),s)}function H2(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function q2(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=mf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=mf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Or([l,T.pathname]),pathnameBase:X2(Or([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=Or([l,T.pathnameBase]))}return c}function mf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=F2(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},w)=>{if(v==="*"){let P=m[w]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const O=m[w];return T&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function F2(i,e=!1,t=!0){fi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function G2(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Mr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function $2(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?$a(i):i;return{pathname:t?t.startsWith("/")?t:K2(t,e):e,search:Q2(s),hash:W2(o)}}function K2(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function wp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y2(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pg(i){let e=Y2(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Lg(i,e,t,s=!1){let o;typeof i=="string"?o=$a(i):(o={...i},pt(!o.pathname||!o.pathname.includes("?"),wp("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),wp("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),wp("#","search","hash",o)));let l=i===""||o.pathname==="",c=l?"/":o.pathname,m;if(c==null)m=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=$2(o,m),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Or=i=>i.join("/").replace(/\/\/+/g,"/"),X2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Q2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,W2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function J2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Pb=["POST","PUT","PATCH","DELETE"];new Set(Pb);var Z2=["GET",...Pb];new Set(Z2);var ll=b.createContext(null);ll.displayName="DataRouter";var Uf=b.createContext(null);Uf.displayName="DataRouterState";b.createContext(!1);var Lb=b.createContext({isTransitioning:!1});Lb.displayName="ViewTransition";var ex=b.createContext(new Map);ex.displayName="Fetchers";var tx=b.createContext(null);tx.displayName="Await";var Ai=b.createContext(null);Ai.displayName="Navigation";var Wu=b.createContext(null);Wu.displayName="Location";var Wi=b.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var Vg=b.createContext(null);Vg.displayName="RouteError";function nx(i,{relative:e}={}){pt(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=b.useContext(Ai),{hash:o,pathname:l,search:c}=Ju(i,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:Or([t,l])),s.createHref({pathname:m,search:c,hash:o})}function ul(){return b.useContext(Wu)!=null}function Br(){return pt(ul(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Wu).location}var Vb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ub(i){b.useContext(Ai).static||b.useLayoutEffect(i)}function jf(){let{isDataRoute:i}=b.useContext(Wi);return i?px():ix()}function ix(){pt(ul(),"useNavigate() may be used only in the context of a <Router> component.");let i=b.useContext(ll),{basename:e,navigator:t}=b.useContext(Ai),{matches:s}=b.useContext(Wi),{pathname:o}=Br(),l=JSON.stringify(Pg(s)),c=b.useRef(!1);return Ub(()=>{c.current=!0}),b.useCallback((p,g={})=>{if(fi(c.current,Vb),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Lg(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Or([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,o,i])}b.createContext(null);function Ju(i,{relative:e}={}){let{matches:t}=b.useContext(Wi),{pathname:s}=Br(),o=JSON.stringify(Pg(t));return b.useMemo(()=>Lg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function rx(i,e){return jb(i,e)}function jb(i,e,t,s){pt(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(Ai),{matches:l}=b.useContext(Wi),c=l[l.length-1],m=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let V=v&&v.path||"";zb(p,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let T=Br(),w;if(e){let V=typeof e=="string"?$a(e):e;pt(g==="/"||V.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),w=V}else w=T;let O=w.pathname||"/",P=O;if(g!=="/"){let V=g.replace(/^\//,"").split("/");P="/"+O.replace(/^\//,"").split("/").slice(V.length).join("/")}let D=Db(i,{pathname:P});fi(v||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),fi(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=ux(D&&D.map(V=>Object.assign({},V,{params:Object.assign({},m,V.params),pathname:Or([g,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:Or([g,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),l,t,s);return e&&k?b.createElement(Wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function sx(){let i=mx(),e=J2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:o},t):null,c)}var ax=b.createElement(sx,null),ox=class extends b.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?b.createElement(Wi.Provider,{value:this.props.routeContext},b.createElement(Vg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lx({routeContext:i,match:e,children:t}){let s=b.useContext(ll);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Wi.Provider,{value:i},t)}function ux(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t?.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);pt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:T}=t,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){c=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let T,w=!1,O=null,P=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||ax,c&&(m<0&&v===0?(zb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):m===v&&(w=!0,P=g.route.hydrateFallbackElement||null)));let D=e.concat(o.slice(0,v+1)),k=()=>{let V;return T?V=O:w?V=P:g.route.Component?V=b.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=p,b.createElement(lx,{match:g,routeContext:{outlet:p,matches:D,isDataRoute:t!=null},children:V})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?b.createElement(ox,{location:t.location,revalidation:t.revalidation,component:O,error:T,children:k(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):k()},null)}function Ug(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cx(i){let e=b.useContext(ll);return pt(e,Ug(i)),e}function hx(i){let e=b.useContext(Uf);return pt(e,Ug(i)),e}function fx(i){let e=b.useContext(Wi);return pt(e,Ug(i)),e}function jg(i){let e=fx(i),t=e.matches[e.matches.length-1];return pt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function dx(){return jg("useRouteId")}function mx(){let i=b.useContext(Vg),e=hx("useRouteError"),t=jg("useRouteError");return i!==void 0?i:e.errors?.[t]}function px(){let{router:i}=cx("useNavigate"),e=jg("useNavigate"),t=b.useRef(!1);return Ub(()=>{t.current=!0}),b.useCallback(async(o,l={})=>{fi(t.current,Vb),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var IE={};function zb(i,e,t){!e&&!IE[i]&&(IE[i]=!0,fi(!1,t))}b.memo(gx);function gx({routes:i,future:e,state:t}){return jb(i,void 0,t,e)}function Oa({to:i,replace:e,state:t,relative:s}){pt(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(Ai);fi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=b.useContext(Wi),{pathname:c}=Br(),m=jf(),p=Lg(i,Pg(l),c,s==="path"),g=JSON.stringify(p);return b.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Mn(i){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yx({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){pt(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof t=="string"&&(t=$a(t));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:w="default"}=t,O=b.useMemo(()=>{let P=Mr(p,c);return P==null?null:{location:{pathname:P,search:g,hash:v,state:T,key:w},navigationType:s}},[c,p,g,v,T,w,s]);return fi(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:b.createElement(Ai.Provider,{value:m},b.createElement(Wu.Provider,{children:e,value:O}))}function _x({children:i,location:e}){return rx(Yp(i),e)}function Yp(i,e=[]){let t=[];return b.Children.forEach(i,(s,o)=>{if(!b.isValidElement(s))return;let l=[...e,o];if(s.type===b.Fragment){t.push.apply(t,Yp(s.props.children,l));return}pt(s.type===Mn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Yp(s.props.children,l)),t.push(c)}),t}var Zh="get",ef="application/x-www-form-urlencoded";function zf(i){return i!=null&&typeof i.tagName=="string"}function vx(i){return zf(i)&&i.tagName.toLowerCase()==="button"}function Ex(i){return zf(i)&&i.tagName.toLowerCase()==="form"}function Tx(i){return zf(i)&&i.tagName.toLowerCase()==="input"}function bx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function wx(i,e){return i.button===0&&(!e||e==="_self")&&!bx(i)}var qh=null;function Sx(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var Ax=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(i){return i!=null&&!Ax.has(i)?(fi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ef}"`),null):i}function Rx(i,e){let t,s,o,l,c;if(Ex(i)){let m=i.getAttribute("action");s=m?Mr(m,e):null,t=i.getAttribute("method")||Zh,o=Sp(i.getAttribute("enctype"))||ef,l=new FormData(i)}else if(vx(i)||Tx(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Mr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Zh,o=Sp(i.getAttribute("formenctype"))||Sp(m.getAttribute("enctype"))||ef,l=new FormData(m,i),!Sx()){let{name:g,type:v,value:T}=i;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(zf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zh,s=null,o=ef,c=i}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function xx(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Mr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function Cx(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ix(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Nx(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await Cx(l,t);return c.links?c.links():[]}return[]}));return Mx(s.flat(1).filter(Ix).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function NE(i,e,t,s,o,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):l==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Ox(i,e,{includeHydrateFallback:t}={}){return Dx(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Dx(i){return[...new Set(i)]}function kx(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function Mx(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(kx(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function Bb(){let i=b.useContext(ll);return zg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Px(){let i=b.useContext(Uf);return zg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Bg=b.createContext(void 0);Bg.displayName="FrameworkContext";function Hb(){let i=b.useContext(Bg);return zg(i,"You must render this element inside a <HydratedRouter> element"),i}function Lx(i,e){let t=b.useContext(Bg),[s,o]=b.useState(!1),[l,c]=b.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,w=b.useRef(null);b.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let D=V=>{V.forEach(H=>{c(H.isIntersecting)})},k=new IntersectionObserver(D,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[i]),b.useEffect(()=>{if(s){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[s]);let O=()=>{o(!0)},P=()=>{o(!1),c(!1)};return t?i!=="intent"?[l,w,{}]:[l,w,{onFocus:Eu(m,O),onBlur:Eu(p,P),onMouseEnter:Eu(g,O),onMouseLeave:Eu(v,P),onTouchStart:Eu(T,O)}]:[!1,w,{}]}function Eu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function Vx({page:i,...e}){let{router:t}=Bb(),s=b.useMemo(()=>Db(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?b.createElement(jx,{page:i,matches:s,...e}):null}function Ux(i){let{manifest:e,routeModules:t}=Hb(),[s,o]=b.useState([]);return b.useEffect(()=>{let l=!1;return Nx(i,e,t).then(c=>{l||o(c)}),()=>{l=!0}},[i,e,t]),s}function jx({page:i,matches:e,...t}){let s=Br(),{manifest:o,routeModules:l}=Hb(),{basename:c}=Bb(),{loaderData:m,matches:p}=Px(),g=b.useMemo(()=>NE(i,e,p,o,s,"data"),[i,e,p,o,s]),v=b.useMemo(()=>NE(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=b.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,D=!1;if(e.forEach(V=>{let H=o.routes[V.route.id];!H||!H.hasLoader||(!g.some(F=>F.route.id===V.route.id)&&V.route.id in m&&l[V.route.id]?.shouldRevalidate||H.hasClientLoader?D=!0:P.add(V.route.id))}),P.size===0)return[];let k=xx(i,c,"data");return D&&P.size>0&&k.searchParams.set("_routes",e.filter(V=>P.has(V.route.id)).map(V=>V.route.id).join(",")),[k.pathname+k.search]},[c,m,s,o,g,e,i,l]),w=b.useMemo(()=>Ox(v,o),[v,o]),O=Ux(v);return b.createElement(b.Fragment,null,T.map(P=>b.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),w.map(P=>b.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),O.map(({key:P,link:D})=>b.createElement("link",{key:P,...D})))}function zx(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qb&&(window.__reactRouterVersion="7.7.0")}catch{}function Bx({basename:i,children:e,window:t}){let s=b.useRef();s.current==null&&(s.current=I2({window:t,v5Compat:!0}));let o=s.current,[l,c]=b.useState({action:o.action,location:o.location}),m=b.useCallback(p=>{b.startTransition(()=>c(p))},[c]);return b.useLayoutEffect(()=>o.listen(m),[o,m]),b.createElement(yx,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var Fb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cr=b.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...w},O){let{basename:P}=b.useContext(Ai),D=typeof g=="string"&&Fb.test(g),k,V=!1;if(typeof g=="string"&&D&&(k=g,qb))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),L=Mr(M.pathname,P);M.origin===I.origin&&L!=null?g=L+M.search+M.hash:V=!0}catch{fi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=nx(g,{relative:o}),[F,te,J]=Lx(s,w),ie=Gx(g,{replace:c,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function R(I){e&&e(I),I.defaultPrevented||ie(I)}let A=b.createElement("a",{...w,...J,href:k||H,onClick:V||l?e:R,ref:zx(O,te),target:p,"data-discover":!D&&t==="render"?"true":void 0});return F&&!D?b.createElement(b.Fragment,null,A,b.createElement(Vx,{page:H})):A});Cr.displayName="Link";var Hx=b.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:m,children:p,...g},v){let T=Ju(c,{relative:g.relative}),w=Br(),O=b.useContext(Uf),{navigator:P,basename:D}=b.useContext(Ai),k=O!=null&&Qx(T)&&m===!0,V=P.encodeLocation?P.encodeLocation(T).pathname:T.pathname,H=w.pathname,F=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(H=H.toLowerCase(),F=F?F.toLowerCase():null,V=V.toLowerCase()),F&&D&&(F=Mr(F,D)||F);const te=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let J=H===V||!o&&H.startsWith(V)&&H.charAt(te)==="/",ie=F!=null&&(F===V||!o&&F.startsWith(V)&&F.charAt(V.length)==="/"),R={isActive:J,isPending:ie,isTransitioning:k},A=J?e:void 0,I;typeof s=="function"?I=s(R):I=[s,J?"active":null,ie?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(R):l;return b.createElement(Cr,{...g,"aria-current":A,className:I,ref:v,style:M,to:c,viewTransition:m},typeof p=="function"?p(R):p)});Hx.displayName="NavLink";var qx=b.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:c=Zh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...w},O)=>{let P=Yx(),D=Xx(m,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",V=typeof m=="string"&&Fb.test(m),H=F=>{if(p&&p(F),F.defaultPrevented)return;F.preventDefault();let te=F.nativeEvent.submitter,J=te?.getAttribute("formmethod")||c;P(te||F.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:o,state:l,relative:g,preventScrollReset:v,viewTransition:T})};return b.createElement("form",{ref:O,method:k,action:D,onSubmit:s?p:H,...w,"data-discover":!V&&i==="render"?"true":void 0})});qx.displayName="Form";function Fx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gb(i){let e=b.useContext(ll);return pt(e,Fx(i)),e}function Gx(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let m=jf(),p=Br(),g=Ju(i,{relative:l});return b.useCallback(v=>{if(wx(v,e)){v.preventDefault();let T=t!==void 0?t:Vu(p)===Vu(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,m,g,t,s,e,i,o,l,c])}var $x=0,Kx=()=>`__${String(++$x)}__`;function Yx(){let{router:i}=Gb("useSubmit"),{basename:e}=b.useContext(Ai),t=dx();return b.useCallback(async(s,o={})=>{let{action:l,method:c,encType:m,formData:p,body:g}=Rx(s,e);if(o.navigate===!1){let v=o.fetcherKey||Kx();await i.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function Xx(i,{relative:e}={}){let{basename:t}=b.useContext(Ai),s=b.useContext(Wi);pt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Ju(i||".",{relative:e})},c=Br();if(i==null){l.search=c.search;let m=new URLSearchParams(l.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();l.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Or([t,l.pathname])),Vu(l)}function Qx(i,e={}){let t=b.useContext(Lb);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Gb("useViewTransitionState"),o=Ju(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Mr(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Mr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return mf(o.pathname,c)!=null||mf(o.pathname,l)!=null}var Wx=Ob();function Jx({images:i=[],intervalMs:e=3e3}){const t=b.useMemo(()=>Array.isArray(i)?i.filter(Boolean):[],[i]),[s,o]=b.useState(0);return b.useEffect(()=>{o(0)},[t.length]),b.useEffect(()=>{if(t.length<=1)return;const l=setInterval(()=>{o(c=>(c+1)%t.length)},e);return()=>clearInterval(l)},[t.length,e]),t.length?C.jsxs("section",{className:"relative w-full h-[90vh] md:h-screen bg-black overflow-hidden",children:[t.map((l,c)=>C.jsx("img",{src:l,alt:`Hero Background ${c+1}`,width:"1920",height:"1080",loading:"eager",decoding:"async",fetchpriority:c===s?"high":"auto",className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out ${c===s?"opacity-40":"opacity-0"}`},`${l}-${c}`)),C.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-white text-center px-4",children:[C.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 sm:mb-4",children:"AIRBRUSH & INK"}),C.jsx("p",{className:"text-base sm:text-lg md:text-xl max-w-md sm:max-w-lg mb-6 sm:mb-8",children:"Unique visuals and layered detail in every piece. Explore the work."})]})]}):null}function Zx(){return C.jsxs("section",{className:"text-white text-center mt-8 px-6 max-w-3xl mx-auto z-10 relative mb-8",children:[C.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-4",children:"Who Am I?"}),C.jsx("p",{className:"text-base sm:text-lg md:text-[1.1rem] leading-relaxed text-[#ddd]",children:"I'm not here to blend in  I'm here to create something that stops you in your tracks. Every piece I make is a mix of instinct, emotion, and obsession with detail. Whether it's airbrush, ink, or canvas, I bring raw ideas to life with color, contrast, and movement. Art isnt just what I do  its how I communicate when words fall short. If you're into bold visuals, clean lines, and work that tells a story, you're in the right place. Take a look around  youll see exactly what I mean."})]})}function OE({text:i,show:e}){const t=`
    absolute left-1/2 -translate-x-1/2 
    flex items-center justify-center 
    font-black tracking-[0.08em] uppercase 
    text-white/5 whitespace-nowrap 
    select-none pointer-events-none 
    z-[-1] transition-all duration-700 ease-in-out
  `,s=i==="& INK"?"top-[0%] sm:top-[1%] md:top-[8%] lg:top-[13%] -translate-y-1/2":i==="AIRBRUSH"?"top-1/2 -translate-y-1/2":"top-[5%]",o=i==="& INK"?"text-[33vw] sm:text-[25vw] md:text-[25vw] lg:text-[18vw]":i==="AIRBRUSH"?"text-[25vw] sm:text-[19vw] md:text-[18vw] lg:text-[17vw]":"text-[14vw] sm:text-[16vw] md:text-[18vw]",l=e?"opacity-100":"opacity-0";return C.jsx("div",{className:"absolute inset-0 w-full pointer-events-none z-[-1]",children:C.jsx("div",{className:`${t} ${s} ${o} ${l} max-w-full overflow-hidden text-center`,children:i})})}function eC({title:i,description:e,image:t,link:s,tag:o}){return C.jsxs(Cr,{to:s,className:"rounded-xl shadow-lg overflow-hidden transition-transform duration-300 transform hover:scale-[1.03] w-full max-w-[500px] flex flex-col bg-gradient-to-r from-black to-[#222]",children:[C.jsxs("div",{className:"relative",children:[o&&C.jsx("span",{className:"absolute top-2 left-2 bg-black text-white/10 text-xs px-2 py-1 rounded",children:o.toUpperCase()}),C.jsx("img",{src:t||"https://via.placeholder.com/600x400?text=Service+Image",alt:i})]}),C.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[C.jsx("h3",{className:"text-white text-xl font-bold",children:i}),C.jsx("p",{className:"text-base text-gray-200 mt-2 mb-4 flex-grow leading-relaxed whitespace-pre-line",children:e}),"        ",C.jsx("div",{className:"pt-4 border-t border-gray-700 flex justify-center",children:C.jsx("span",{className:"text-md text-white font-semibold",children:"Portfolio"})})]})]})}function tC(){return C.jsx(Cr,{to:"/shop",className:"inline-block bg-gradient-to-r from-black to-zinc-800 text-white text-sm sm:text-base uppercase font-semibold tracking-wide sm:tracking-wider py-2.5 px-6 sm:py-3 sm:px-8 rounded-md transition duration-300 hover:from-zinc-900 hover:to-zinc-700 shadow-lg",children:"SHOP NOW"})}const nC=()=>{};var DE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},iC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],c=i[t++],m=i[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],c=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Kb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=l>>2,T=(l&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,c||(w=64)),s.push(t[v],t[T],t[w],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray($b(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):iC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||m==null||g==null||T==null)throw new rC;const w=l<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),T!==64){const P=g<<6&192|T;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class rC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sC=function(i){const e=$b(i);return Kb.encodeByteArray(e,!0)},pf=function(i){return sC(i).replace(/\./g,"")},Yb=function(i){try{return Kb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=()=>aC().__FIREBASE_DEFAULTS__,lC=()=>{if(typeof process>"u"||typeof DE>"u")return;const i=DE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},uC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Yb(i[1]);return e&&JSON.parse(e)},Bf=()=>{try{return nC()||oC()||lC()||uC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Xb=i=>Bf()?.emulatorHosts?.[i],Qb=i=>{const e=Xb(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Wb=()=>Bf()?.config,Jb=i=>Bf()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hg(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[pf(JSON.stringify(t)),pf(JSON.stringify(c)),""].join(".")}const Cu={};function hC(){const i={prod:[],emulator:[]};for(const e of Object.keys(Cu))Cu[e]?i.emulator.push(e):i.prod.push(e);return i}function fC(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let kE=!1;function qg(i,e){if(typeof window>"u"||typeof document>"u"||!Ws(window.location.host)||Cu[i]===e||Cu[i]||kE)return;Cu[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=hC().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{kE=!0,c()},w}function v(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=fC(s),O=t("text"),P=document.getElementById(O)||document.createElement("span"),D=t("learnmore"),k=document.getElementById(D)||document.createElement("a"),V=t("preprendIcon"),H=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;m(F),v(k,D);const te=g();p(H,V),F.append(H,P,k,te),document.body.appendChild(F)}l?(P.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function mC(){const i=Bf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _C(){const i=pn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function vC(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EC(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="FirebaseError";class Ji extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=bC,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?wC(l,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ji(o,m,s)}}function wC(i,e){return i.replace(SC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const SC=/\{\$([^}]+)}/g;function AC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ja(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],c=e[o];if(ME(l)&&ME(c)){if(!ja(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ME(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function wu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function RC(i,e){const t=new xC(i,e);return t.subscribe.bind(t)}class xC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");CC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Ap),o.error===void 0&&(o.error=Ap),o.complete===void 0&&(o.complete=Ap);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Ap(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(i){return i&&i._delegate?i._delegate:i}class Fs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new cC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OC(e))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Na){return this.component?this.component.multipleInstances?e:Na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NC(i){return i===Na?void 0:i}function OC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(je||(je={}));const kC={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},MC=je.INFO,PC={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},LC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=PC[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fg{constructor(e){this.name=e,this._logLevel=MC,this._logHandler=LC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const VC=(i,e)=>e.some(t=>i instanceof t);let PE,LE;function UC(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e1=new WeakMap,Xp=new WeakMap,t1=new WeakMap,Rp=new WeakMap,Gg=new WeakMap;function zC(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(js(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&e1.set(t,i)}).catch(()=>{}),Gg.set(e,i),e}function BC(i){if(Xp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});Xp.set(i,e)}let Qp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Xp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||t1.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return js(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function HC(i){Qp=i(Qp)}function qC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(xp(this),e,...t);return t1.set(s,e.sort?e.sort():[e]),js(s)}:jC().includes(i)?function(...e){return i.apply(xp(this),e),js(e1.get(this))}:function(...e){return js(i.apply(xp(this),e))}}function FC(i){return typeof i=="function"?qC(i):(i instanceof IDBTransaction&&BC(i),VC(i,UC())?new Proxy(i,Qp):i)}function js(i){if(i instanceof IDBRequest)return zC(i);if(Rp.has(i))return Rp.get(i);const e=FC(i);return e!==i&&(Rp.set(i,e),Gg.set(e,i)),e}const xp=i=>Gg.get(i);function GC(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(i,e),m=js(c);return s&&c.addEventListener("upgradeneeded",p=>{s(js(c.result),p.oldVersion,p.newVersion,js(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const $C=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],Cp=new Map;function VE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Cp.get(e))return Cp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=KC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$C.includes(t)))return;const l=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Cp.set(e,l),l}HC(i=>({...i,get:(e,t,s)=>VE(e,t)||i.get(e,t,s),has:(e,t)=>!!VE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function XC(i){return i.getComponent()?.type==="VERSION"}const Wp="@firebase/app",UE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new Fg("@firebase/app"),QC="@firebase/app-compat",WC="@firebase/analytics-compat",JC="@firebase/analytics",ZC="@firebase/app-check-compat",eI="@firebase/app-check",tI="@firebase/auth",nI="@firebase/auth-compat",iI="@firebase/database",rI="@firebase/data-connect",sI="@firebase/database-compat",aI="@firebase/functions",oI="@firebase/functions-compat",lI="@firebase/installations",uI="@firebase/installations-compat",cI="@firebase/messaging",hI="@firebase/messaging-compat",fI="@firebase/performance",dI="@firebase/performance-compat",mI="@firebase/remote-config",pI="@firebase/remote-config-compat",gI="@firebase/storage",yI="@firebase/storage-compat",_I="@firebase/firestore",vI="@firebase/ai",EI="@firebase/firestore-compat",TI="firebase",bI="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="[DEFAULT]",wI={[Wp]:"fire-core",[QC]:"fire-core-compat",[JC]:"fire-analytics",[WC]:"fire-analytics-compat",[eI]:"fire-app-check",[ZC]:"fire-app-check-compat",[tI]:"fire-auth",[nI]:"fire-auth-compat",[iI]:"fire-rtdb",[rI]:"fire-data-connect",[sI]:"fire-rtdb-compat",[aI]:"fire-fn",[oI]:"fire-fn-compat",[lI]:"fire-iid",[uI]:"fire-iid-compat",[cI]:"fire-fcm",[hI]:"fire-fcm-compat",[fI]:"fire-perf",[dI]:"fire-perf-compat",[mI]:"fire-rc",[pI]:"fire-rc-compat",[gI]:"fire-gcs",[yI]:"fire-gcs-compat",[_I]:"fire-fst",[EI]:"fire-fst-compat",[vI]:"fire-vertex","fire-js":"fire-js",[TI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf=new Map,SI=new Map,Zp=new Map;function jE(i,e){try{i.container.addComponent(e)}catch(t){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function za(i){const e=i.name;if(Zp.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,i);for(const t of gf.values())jE(t,i);for(const t of SI.values())jE(t,i);return!0}function Hf(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ui(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new Zu("app","Firebase",AI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=bI;function n1(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Jp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw zs.create("bad-app-name",{appName:String(o)});if(t||(t=Wb()),!t)throw zs.create("no-options");const l=gf.get(o);if(l){if(ja(t,l.options)&&ja(s,l.config))return l;throw zs.create("duplicate-app",{appName:o})}const c=new DC(o);for(const p of Zp.values())c.addComponent(p);const m=new RI(t,s,c);return gf.set(o,m),m}function $g(i=Jp){const e=gf.get(i);if(!e&&i===Jp&&Wb())return n1();if(!e)throw zs.create("no-app",{appName:i});return e}function Bi(i,e,t){let s=wI[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(c.join(" "));return}za(new Fs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="firebase-heartbeat-database",CI=1,Uu="firebase-heartbeat-store";let Ip=null;function i1(){return Ip||(Ip=GC(xI,CI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(i=>{throw zs.create("idb-open",{originalErrorMessage:i.message})})),Ip}async function II(i){try{const t=(await i1()).transaction(Uu),s=await t.objectStore(Uu).get(r1(i));return await t.done,s}catch(e){if(e instanceof Ji)Pr.warn(e.message);else{const t=zs.create("idb-get",{originalErrorMessage:e?.message});Pr.warn(t.message)}}}async function zE(i,e){try{const s=(await i1()).transaction(Uu,"readwrite");await s.objectStore(Uu).put(e,r1(i)),await s.done}catch(t){if(t instanceof Ji)Pr.warn(t.message);else{const s=zs.create("idb-set",{originalErrorMessage:t?.message});Pr.warn(s.message)}}}function r1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=1024,OI=30;class DI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=BE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>OI){const o=PI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=BE(),{heartbeatsToSend:t,unsentEntries:s}=kI(this._heartbeatsCache.heartbeats),o=pf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Pr.warn(e),""}}}function BE(){return new Date().toISOString().substring(0,10)}function kI(i,e=NI){const t=[];let s=i.slice();for(const o of i){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),HE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),HE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class MI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EC()?TC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await II(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return zE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return zE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function HE(i){return pf(JSON.stringify({version:2,heartbeats:i})).length}function PI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(i){za(new Fs("platform-logger",e=>new YC(e),"PRIVATE")),za(new Fs("heartbeat",e=>new DI(e),"PRIVATE")),Bi(Wp,UE,i),Bi(Wp,UE,"esm2020"),Bi("fire-js","")}LI("");var qE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bs,s1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function I(){}I.prototype=A.prototype,R.D=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.C=function(M,L,B){for(var N=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)N[Ae-2]=arguments[Ae];return A.prototype[L].apply(M,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,I){I||(I=0);var M=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)M[L]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(L=0;16>L;++L)M[L]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],L=R.g[2];var B=R.g[3],N=A+(B^I&(L^B))+M[0]+3614090360&4294967295;A=I+(N<<7&4294967295|N>>>25),N=B+(L^A&(I^L))+M[1]+3905402710&4294967295,B=A+(N<<12&4294967295|N>>>20),N=L+(I^B&(A^I))+M[2]+606105819&4294967295,L=B+(N<<17&4294967295|N>>>15),N=I+(A^L&(B^A))+M[3]+3250441966&4294967295,I=L+(N<<22&4294967295|N>>>10),N=A+(B^I&(L^B))+M[4]+4118548399&4294967295,A=I+(N<<7&4294967295|N>>>25),N=B+(L^A&(I^L))+M[5]+1200080426&4294967295,B=A+(N<<12&4294967295|N>>>20),N=L+(I^B&(A^I))+M[6]+2821735955&4294967295,L=B+(N<<17&4294967295|N>>>15),N=I+(A^L&(B^A))+M[7]+4249261313&4294967295,I=L+(N<<22&4294967295|N>>>10),N=A+(B^I&(L^B))+M[8]+1770035416&4294967295,A=I+(N<<7&4294967295|N>>>25),N=B+(L^A&(I^L))+M[9]+2336552879&4294967295,B=A+(N<<12&4294967295|N>>>20),N=L+(I^B&(A^I))+M[10]+4294925233&4294967295,L=B+(N<<17&4294967295|N>>>15),N=I+(A^L&(B^A))+M[11]+2304563134&4294967295,I=L+(N<<22&4294967295|N>>>10),N=A+(B^I&(L^B))+M[12]+1804603682&4294967295,A=I+(N<<7&4294967295|N>>>25),N=B+(L^A&(I^L))+M[13]+4254626195&4294967295,B=A+(N<<12&4294967295|N>>>20),N=L+(I^B&(A^I))+M[14]+2792965006&4294967295,L=B+(N<<17&4294967295|N>>>15),N=I+(A^L&(B^A))+M[15]+1236535329&4294967295,I=L+(N<<22&4294967295|N>>>10),N=A+(L^B&(I^L))+M[1]+4129170786&4294967295,A=I+(N<<5&4294967295|N>>>27),N=B+(I^L&(A^I))+M[6]+3225465664&4294967295,B=A+(N<<9&4294967295|N>>>23),N=L+(A^I&(B^A))+M[11]+643717713&4294967295,L=B+(N<<14&4294967295|N>>>18),N=I+(B^A&(L^B))+M[0]+3921069994&4294967295,I=L+(N<<20&4294967295|N>>>12),N=A+(L^B&(I^L))+M[5]+3593408605&4294967295,A=I+(N<<5&4294967295|N>>>27),N=B+(I^L&(A^I))+M[10]+38016083&4294967295,B=A+(N<<9&4294967295|N>>>23),N=L+(A^I&(B^A))+M[15]+3634488961&4294967295,L=B+(N<<14&4294967295|N>>>18),N=I+(B^A&(L^B))+M[4]+3889429448&4294967295,I=L+(N<<20&4294967295|N>>>12),N=A+(L^B&(I^L))+M[9]+568446438&4294967295,A=I+(N<<5&4294967295|N>>>27),N=B+(I^L&(A^I))+M[14]+3275163606&4294967295,B=A+(N<<9&4294967295|N>>>23),N=L+(A^I&(B^A))+M[3]+4107603335&4294967295,L=B+(N<<14&4294967295|N>>>18),N=I+(B^A&(L^B))+M[8]+1163531501&4294967295,I=L+(N<<20&4294967295|N>>>12),N=A+(L^B&(I^L))+M[13]+2850285829&4294967295,A=I+(N<<5&4294967295|N>>>27),N=B+(I^L&(A^I))+M[2]+4243563512&4294967295,B=A+(N<<9&4294967295|N>>>23),N=L+(A^I&(B^A))+M[7]+1735328473&4294967295,L=B+(N<<14&4294967295|N>>>18),N=I+(B^A&(L^B))+M[12]+2368359562&4294967295,I=L+(N<<20&4294967295|N>>>12),N=A+(I^L^B)+M[5]+4294588738&4294967295,A=I+(N<<4&4294967295|N>>>28),N=B+(A^I^L)+M[8]+2272392833&4294967295,B=A+(N<<11&4294967295|N>>>21),N=L+(B^A^I)+M[11]+1839030562&4294967295,L=B+(N<<16&4294967295|N>>>16),N=I+(L^B^A)+M[14]+4259657740&4294967295,I=L+(N<<23&4294967295|N>>>9),N=A+(I^L^B)+M[1]+2763975236&4294967295,A=I+(N<<4&4294967295|N>>>28),N=B+(A^I^L)+M[4]+1272893353&4294967295,B=A+(N<<11&4294967295|N>>>21),N=L+(B^A^I)+M[7]+4139469664&4294967295,L=B+(N<<16&4294967295|N>>>16),N=I+(L^B^A)+M[10]+3200236656&4294967295,I=L+(N<<23&4294967295|N>>>9),N=A+(I^L^B)+M[13]+681279174&4294967295,A=I+(N<<4&4294967295|N>>>28),N=B+(A^I^L)+M[0]+3936430074&4294967295,B=A+(N<<11&4294967295|N>>>21),N=L+(B^A^I)+M[3]+3572445317&4294967295,L=B+(N<<16&4294967295|N>>>16),N=I+(L^B^A)+M[6]+76029189&4294967295,I=L+(N<<23&4294967295|N>>>9),N=A+(I^L^B)+M[9]+3654602809&4294967295,A=I+(N<<4&4294967295|N>>>28),N=B+(A^I^L)+M[12]+3873151461&4294967295,B=A+(N<<11&4294967295|N>>>21),N=L+(B^A^I)+M[15]+530742520&4294967295,L=B+(N<<16&4294967295|N>>>16),N=I+(L^B^A)+M[2]+3299628645&4294967295,I=L+(N<<23&4294967295|N>>>9),N=A+(L^(I|~B))+M[0]+4096336452&4294967295,A=I+(N<<6&4294967295|N>>>26),N=B+(I^(A|~L))+M[7]+1126891415&4294967295,B=A+(N<<10&4294967295|N>>>22),N=L+(A^(B|~I))+M[14]+2878612391&4294967295,L=B+(N<<15&4294967295|N>>>17),N=I+(B^(L|~A))+M[5]+4237533241&4294967295,I=L+(N<<21&4294967295|N>>>11),N=A+(L^(I|~B))+M[12]+1700485571&4294967295,A=I+(N<<6&4294967295|N>>>26),N=B+(I^(A|~L))+M[3]+2399980690&4294967295,B=A+(N<<10&4294967295|N>>>22),N=L+(A^(B|~I))+M[10]+4293915773&4294967295,L=B+(N<<15&4294967295|N>>>17),N=I+(B^(L|~A))+M[1]+2240044497&4294967295,I=L+(N<<21&4294967295|N>>>11),N=A+(L^(I|~B))+M[8]+1873313359&4294967295,A=I+(N<<6&4294967295|N>>>26),N=B+(I^(A|~L))+M[15]+4264355552&4294967295,B=A+(N<<10&4294967295|N>>>22),N=L+(A^(B|~I))+M[6]+2734768916&4294967295,L=B+(N<<15&4294967295|N>>>17),N=I+(B^(L|~A))+M[13]+1309151649&4294967295,I=L+(N<<21&4294967295|N>>>11),N=A+(L^(I|~B))+M[4]+4149444226&4294967295,A=I+(N<<6&4294967295|N>>>26),N=B+(I^(A|~L))+M[11]+3174756917&4294967295,B=A+(N<<10&4294967295|N>>>22),N=L+(A^(B|~I))+M[2]+718787259&4294967295,L=B+(N<<15&4294967295|N>>>17),N=I+(B^(L|~A))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+B&4294967295}s.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var I=A-this.blockSize,M=this.B,L=this.h,B=0;B<A;){if(L==0)for(;B<=I;)o(this,R,B),B+=this.blockSize;if(typeof R=="string"){for(;B<A;)if(M[L++]=R.charCodeAt(B++),L==this.blockSize){o(this,M),L=0;break}}else for(;B<A;)if(M[L++]=R[B++],L==this.blockSize){o(this,M),L=0;break}}this.h=L,this.o+=A},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var I=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=I&255,I/=256;for(this.u(R),R=Array(16),A=I=0;4>A;++A)for(var M=0;32>M;M+=8)R[I++]=this.g[A]>>>M&255;return R};function l(R,A){var I=m;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function c(R,A){this.h=A;for(var I=[],M=!0,L=R.length-1;0<=L;L--){var B=R[L]|0;M&&B==A||(I[L]=B,M=!1)}this.g=I}var m={};function p(R){return-128<=R&&128>R?l(R,function(A){return new c([A|0],0>A?-1:0)}):new c([R|0],0>R?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(0>R)return k(g(-R));for(var A=[],I=1,M=0;R>=I;M++)A[M]=R/I|0,I*=4294967296;return new c(A,0)}function v(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return k(v(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(A,8)),M=T,L=0;L<R.length;L+=8){var B=Math.min(8,R.length-L),N=parseInt(R.substring(L,L+B),A);8>B?(B=g(Math.pow(A,B)),M=M.j(B).add(g(N))):(M=M.j(I),M=M.add(g(N)))}return M}var T=p(0),w=p(1),O=p(16777216);i=c.prototype,i.m=function(){if(D(this))return-k(this).m();for(var R=0,A=1,I=0;I<this.g.length;I++){var M=this.i(I);R+=(0<=M?M:4294967296+M)*A,A*=4294967296}return R},i.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(D(this))return"-"+k(this).toString(R);for(var A=g(Math.pow(R,6)),I=this,M="";;){var L=te(I,A).g;I=V(I,L.j(A));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(R);if(I=L,P(I))return B+M;for(;6>B.length;)B="0"+B;M=B+M}},i.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function D(R){return R.h==-1}i.l=function(R){return R=V(this,R),D(R)?-1:P(R)?0:1};function k(R){for(var A=R.g.length,I=[],M=0;M<A;M++)I[M]=~R.g[M];return new c(I,~R.h).add(w)}i.abs=function(){return D(this)?k(this):this},i.add=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],M=0,L=0;L<=A;L++){var B=M+(this.i(L)&65535)+(R.i(L)&65535),N=(B>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);M=N>>>16,B&=65535,N&=65535,I[L]=N<<16|B}return new c(I,I[I.length-1]&-2147483648?-1:0)};function V(R,A){return R.add(k(A))}i.j=function(R){if(P(this)||P(R))return T;if(D(this))return D(R)?k(this).j(k(R)):k(k(this).j(R));if(D(R))return k(this.j(k(R)));if(0>this.l(O)&&0>R.l(O))return g(this.m()*R.m());for(var A=this.g.length+R.g.length,I=[],M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var L=0;L<R.g.length;L++){var B=this.i(M)>>>16,N=this.i(M)&65535,Ae=R.i(L)>>>16,_e=R.i(L)&65535;I[2*M+2*L]+=N*_e,H(I,2*M+2*L),I[2*M+2*L+1]+=B*_e,H(I,2*M+2*L+1),I[2*M+2*L+1]+=N*Ae,H(I,2*M+2*L+1),I[2*M+2*L+2]+=B*Ae,H(I,2*M+2*L+2)}for(M=0;M<A;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=A;M<2*A;M++)I[M]=0;return new c(I,0)};function H(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function F(R,A){this.g=R,this.h=A}function te(R,A){if(P(A))throw Error("division by zero");if(P(R))return new F(T,T);if(D(R))return A=te(k(R),A),new F(k(A.g),k(A.h));if(D(A))return A=te(R,k(A)),new F(k(A.g),A.h);if(30<R.g.length){if(D(R)||D(A))throw Error("slowDivide_ only works with positive integers.");for(var I=w,M=A;0>=M.l(R);)I=J(I),M=J(M);var L=ie(I,1),B=ie(M,1);for(M=ie(M,2),I=ie(I,2);!P(M);){var N=B.add(M);0>=N.l(R)&&(L=L.add(I),B=N),M=ie(M,1),I=ie(I,1)}return A=V(R,L.j(A)),new F(L,A)}for(L=T;0<=R.l(A);){for(I=Math.max(1,Math.floor(R.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),B=g(I),N=B.j(A);D(N)||0<N.l(R);)I-=M,B=g(I),N=B.j(A);P(B)&&(B=w),L=L.add(B),R=V(R,N)}return new F(L,R)}i.A=function(R){return te(this,R).h},i.and=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)&R.i(M);return new c(I,this.h&R.h)},i.or=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)|R.i(M);return new c(I,this.h|R.h)},i.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],M=0;M<A;M++)I[M]=this.i(M)^R.i(M);return new c(I,this.h^R.h)};function J(R){for(var A=R.g.length+1,I=[],M=0;M<A;M++)I[M]=R.i(M)<<1|R.i(M-1)>>>31;return new c(I,R.h)}function ie(R,A){var I=A>>5;A%=32;for(var M=R.g.length-I,L=[],B=0;B<M;B++)L[B]=0<A?R.i(B+I)>>>A|R.i(B+I+1)<<32-A:R.i(B+I);return new c(L,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,s1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Bs=c}).apply(typeof qE<"u"?qE:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a1,Su,o1,tf,eg,l1,u1,c1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var x=0;x<h.length-1;x++){var $=h[x];if(!($ in E))break e;E=E[$]}h=h[h.length-1],x=E[h],y=y(x),y!=x&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var E=0,x=!1,$={next:function(){if(!x&&E<h.length){var ee=E++;return{value:y(ee,h[ee]),done:!1}}return x=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(h){return h||function(){return l(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,E){return h.call.apply(h.bind,arguments)}function T(h,y,E){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,x),h.apply(y,$)}}return function(){return h.apply(y,arguments)}}function w(h,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,w.apply(null,arguments)}function O(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function P(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(x,$,ee){for(var ce=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ce[Xe-2]=arguments[Xe];return y.prototype[$].apply(x,ce)}}function D(h){const y=h.length;if(0<y){const E=Array(y);for(let x=0;x<y;x++)E[x]=h[x];return E}return[]}function k(h,y){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(p(x)){const $=h.length||0,ee=x.length||0;h.length=$+ee;for(let ce=0;ce<ee;ce++)h[$+ce]=x[ce]}else h.push(x)}}class V{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function te(h){return te[" "](h),h}te[" "]=function(){};var J=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function ie(h,y,E){for(const x in h)y.call(E,h[x],x,h)}function R(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function A(h){const y={};for(const E in h)y[E]=h[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(h,y){let E,x;for(let $=1;$<arguments.length;$++){x=arguments[$];for(E in x)h[E]=x[E];for(let ee=0;ee<I.length;ee++)E=I[ee],Object.prototype.hasOwnProperty.call(x,E)&&(h[E]=x[E])}}function L(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function B(h){m.setTimeout(()=>{throw h},0)}function N(){var h=pe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,E){const x=_e.get();x.set(y,E),this.h?this.h.next=x:this.g=x,this.h=x}}var _e=new V(()=>new q,h=>h.reset());class q{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let X,oe=!1,pe=new Ae,Re=()=>{const h=m.Promise.resolve(void 0);X=()=>{h.then(j)}};var j=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(E){B(E)}var y=_e;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}oe=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};m.addEventListener("test",E,y),m.removeEventListener("test",E,y)}catch{}return h}();function Ee(h,y){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(J){e:{try{te(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ce[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ee.aa.h.call(this)}}P(Ee,ue);var Ce={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),St=0;function ot(h,y,E,x,$){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!x,this.ha=$,this.key=++St,this.da=this.fa=!1}function An(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function di(h){this.src=h,this.g={},this.h=0}di.prototype.add=function(h,y,E,x,$){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ce=Hr(h,y,x,$);return-1<ce?(y=h[ce],E||(y.fa=!1)):(y=new ot(y,this.src,ee,!!x,$),y.fa=E,h.push(y)),y};function Ri(h,y){var E=y.type;if(E in h.g){var x=h.g[E],$=Array.prototype.indexOf.call(x,y,void 0),ee;(ee=0<=$)&&Array.prototype.splice.call(x,$,1),ee&&(An(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Hr(h,y,E,x){for(var $=0;$<h.length;++$){var ee=h[$];if(!ee.da&&ee.listener==y&&ee.capture==!!E&&ee.ha==x)return $}return-1}var jn="closure_lm_"+(1e6*Math.random()|0),zn={};function Zi(h,y,E,x,$){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)Zi(h,y[ee],E,x,$);return null}return E=Qt(E),h&&h[Oe]?h.K(y,E,g(x)?!!x.capture:!1,$):_l(h,y,E,!1,x,$)}function _l(h,y,E,x,$,ee){if(!y)throw Error("Invalid event type");var ce=g($)?!!$.capture:!!$,Xe=At(h);if(Xe||(h[jn]=Xe=new di(h)),E=Xe.add(y,E,x,ce,ee),E.proxy)return E;if(x=ta(),E.proxy=x,x.src=h,x.listener=E,h.addEventListener)fe||($=ce),$===void 0&&($=!1),h.addEventListener(y.toString(),x,$);else if(h.attachEvent)h.attachEvent(he(y.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ta(){function h(E){return y.call(h.src,h.listener,E)}const y=et;return h}function er(h,y,E,x,$){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)er(h,y[ee],E,x,$);else x=g(x)?!!x.capture:!!x,E=Qt(E),h&&h[Oe]?(h=h.i,y=String(y).toString(),y in h.g&&(ee=h.g[y],E=Hr(ee,E,x,$),-1<E&&(An(ee[E]),Array.prototype.splice.call(ee,E,1),ee.length==0&&(delete h.g[y],h.h--)))):h&&(h=At(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Hr(y,E,x,$)),(E=-1<h?y[h]:null)&&tr(E))}function tr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Oe])Ri(y.i,h);else{var E=h.type,x=h.proxy;y.removeEventListener?y.removeEventListener(E,x,h.capture):y.detachEvent?y.detachEvent(he(E),x):y.addListener&&y.removeListener&&y.removeListener(x),(E=At(y))?(Ri(E,h),E.h==0&&(E.src=null,y[jn]=null)):An(h)}}}function he(h){return h in zn?zn[h]:zn[h]="on"+h}function et(h,y){if(h.da)h=!0;else{y=new Ee(y,this);var E=h.listener,x=h.ha||h.src;h.fa&&tr(h),h=E.call(x,y)}return h}function At(h){return h=h[jn],h instanceof di?h:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qt(h){return typeof h=="function"?h:(h[tt]||(h[tt]=function(y){return h.handleEvent(y)}),h[tt])}function lt(){Q.call(this),this.i=new di(this),this.M=this,this.F=null}P(lt,Q),lt.prototype[Oe]=!0,lt.prototype.removeEventListener=function(h,y,E,x){er(this,h,y,E,x)};function gt(h,y){var E,x=h.F;if(x)for(E=[];x;x=x.F)E.push(x);if(h=h.M,x=y.type||y,typeof y=="string")y=new ue(y,h);else if(y instanceof ue)y.target=y.target||h;else{var $=y;y=new ue(x,h),M(y,$)}if($=!0,E)for(var ee=E.length-1;0<=ee;ee--){var ce=y.g=E[ee];$=Rn(ce,x,!0,y)&&$}if(ce=y.g=h,$=Rn(ce,x,!0,y)&&$,$=Rn(ce,x,!1,y)&&$,E)for(ee=0;ee<E.length;ee++)ce=y.g=E[ee],$=Rn(ce,x,!1,y)&&$}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],x=0;x<E.length;x++)An(E[x]);delete h.g[y],h.h--}}this.F=null},lt.prototype.K=function(h,y,E,x){return this.i.add(String(h),y,!1,E,x)},lt.prototype.L=function(h,y,E,x){return this.i.add(String(h),y,!0,E,x)};function Rn(h,y,E,x){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,ee=0;ee<y.length;++ee){var ce=y[ee];if(ce&&!ce.da&&ce.capture==E){var Xe=ce.listener,Ot=ce.ha||ce.src;ce.fa&&Ri(h.i,ce),$=Xe.call(Ot,x)!==!1&&$}}return $&&!x.defaultPrevented}function qr(h,y,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(h,y||0)}function ln(h){h.g=qr(()=>{h.g=null,h.i&&(h.i=!1,ln(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class na extends Q{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ln(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(h){Q.call(this),this.h=h,this.g={}}P(Bn,Q);var mi=[];function Nt(h){ie(h.g,function(y,E){this.g.hasOwnProperty(E)&&tr(y)},h),h.g={}}Bn.prototype.N=function(){Bn.aa.N.call(this),Nt(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=m.JSON.stringify,gn=m.JSON.parse,yd=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function vl(){}vl.prototype.h=null;function _c(h){return h.h||(h.h=h.i())}function ia(){}var xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fr(){ue.call(this,"d")}P(Fr,ue);function pi(){ue.call(this,"c")}P(pi,ue);var Jn={},Gr=null;function to(){return Gr=Gr||new lt}Jn.La="serverreachability";function El(h){ue.call(this,Jn.La,h)}P(El,ue);function nr(h){const y=to();gt(y,new El(y))}Jn.STAT_EVENT="statevent";function $r(h,y){ue.call(this,Jn.STAT_EVENT,h),this.stat=y}P($r,ue);function Wt(h){const y=to();gt(y,new $r(y,h))}Jn.Ma="timingevent";function Tl(h,y){ue.call(this,Jn.Ma,h),this.size=y}P(Tl,ue);function Kr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},y)}function Yr(){this.g=!0}Yr.prototype.xa=function(){this.g=!1};function bl(h,y,E,x,$,ee){h.info(function(){if(h.g)if(ee)for(var ce="",Xe=ee.split("&"),Ot=0;Ot<Xe.length;Ot++){var Me=Xe[Ot].split("=");if(1<Me.length){var qt=Me[0];Me=Me[1];var Ft=qt.split("_");ce=2<=Ft.length&&Ft[1]=="type"?ce+(qt+"="+Me+"&"):ce+(qt+"=redacted&")}}else ce=null;else ce=ee;return"XMLHTTP REQ ("+x+") [attempt "+$+"]: "+y+`
`+E+`
`+ce})}function wl(h,y,E,x,$,ee,ce){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+$+"]: "+y+`
`+E+`
`+ee+" "+ce})}function ir(h,y,E,x){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ci(h,E)+(x?" "+x:"")})}function vc(h,y){h.info(function(){return"TIMEOUT: "+y})}Yr.prototype.info=function(){};function Ci(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var x=E[h];if(!(2>x.length)){var $=x[1];if(Array.isArray($)&&!(1>$.length)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return Wn(E)}catch{return y}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ii;function Xr(){}P(Xr,vl),Xr.prototype.g=function(){return new XMLHttpRequest},Xr.prototype.i=function(){return{}},Ii=new Xr;function Ni(h,y,E,x){this.j=h,this.i=y,this.l=E,this.R=x||1,this.U=new Bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ec}function Ec(){this.i=null,this.g="",this.h=!1}var Sl={},rr={};function ra(h,y,E){h.L=1,h.v=oa(Tt(y)),h.m=E,h.P=!0,sr(h,null)}function sr(h,y){h.F=Date.now(),gi(h),h.A=Tt(h.v);var E=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),lr(E.i,"t",x),h.C=0,E=h.j.J,h.h=new Ec,h.g=Lc(h.j,E?y:null,!h.m),0<h.O&&(h.M=new na(w(h.Y,h,h.g),h.O)),y=h.U,E=h.g,x=h.ca;var $="readystatechange";Array.isArray($)||($&&(mi[0]=$.toString()),$=mi);for(var ee=0;ee<$.length;ee++){var ce=Zi(E,$[ee],x||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),nr(),bl(h.i,h.u,h.A,h.l,h.R,h.m)}Ni.prototype.ca=function(h){h=h.target;const y=this.M;y&&vn(h)==3?y.j():this.Y(h)},Ni.prototype.Y=function(h){try{if(h==this.g)e:{const Ft=vn(this.g);var y=this.g.Ba();const ls=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||ca(this.g)))){this.J||Ft!=4||y==7||(y==8||0>=ls?nr(3):nr(2)),no(this);var E=this.g.Z();this.X=E;t:if(ar(this)){var x=ca(this.g);h="";var $=x.length,ee=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Qr(this);var ce="";break t}this.h.i=new m.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,h+=this.h.i.decode(x[y],{stream:!(ee&&y==$-1)});x.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,wl(this.i,this.u,this.A,this.l,this.R,Ft,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Ot=this.g;if((Xe=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Xe)){var Me=Xe;break t}}Me=null}if(E=Me)ir(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oi(this,E);else{this.o=!1,this.s=3,Wt(12),yn(this),Qr(this);break e}}if(this.P){E=!0;let Cn;for(;!this.J&&this.C<ce.length;)if(Cn=sa(this,ce),Cn==rr){Ft==4&&(this.s=4,Wt(14),E=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Sl){this.s=4,Wt(15),ir(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else ir(this.i,this.l,Cn,null),Oi(this,Cn);if(ar(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||ce.length!=0||this.h.h||(this.s=1,Wt(16),E=!1),this.o=this.o&&E,!E)ir(this.i,this.l,ce,"[Invalid Chunked Response]"),yn(this),Qr(this);else if(0<ce.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Pl(qt),qt.M=!0,Wt(11))}}else ir(this.i,this.l,ce,null),Oi(this,ce);Ft==4&&yn(this),this.o&&!this.J&&(Ft==4?kc(this.j,this):(this.o=!1,gi(this)))}else xc(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),yn(this),Qr(this)}}}catch{}finally{}};function ar(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function sa(h,y){var E=h.C,x=y.indexOf(`
`,E);return x==-1?rr:(E=Number(y.substring(E,x)),isNaN(E)?Sl:(x+=1,x+E>y.length?rr:(y=y.slice(x,x+E),h.C=x+E,y)))}Ni.prototype.cancel=function(){this.J=!0,yn(this)};function gi(h){h.S=Date.now()+h.I,Rt(h,h.I)}function Rt(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Kr(w(h.ba,h),y)}function no(h){h.B&&(m.clearTimeout(h.B),h.B=null)}Ni.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(vc(this.i,this.A),this.L!=2&&(nr(),Wt(17)),yn(this),this.s=2,Qr(this)):Rt(this,this.S-h)};function Qr(h){h.j.G==0||h.J||kc(h.j,h)}function yn(h){no(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Nt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Oi(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||Wr(E.h,h))){if(!h.K&&Wr(E.h,h)&&E.G==3){try{var x=E.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var $=x;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)as(E),ss(E);else break e;Ml(E),Wt(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=Kr(w(E.Za,E),6e3));if(1>=Tc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else cr(E,11)}else if((h.K||E.g==h)&&as(E),!H(y))for($=E.Da.g.parse(y),y=0;y<$.length;y++){let Me=$[y];if(E.T=Me[0],Me=Me[1],E.G==2)if(Me[0]=="c"){E.K=Me[1],E.ia=Me[2];const qt=Me[3];qt!=null&&(E.la=qt,E.j.info("VER="+E.la));const Ft=Me[4];Ft!=null&&(E.Aa=Ft,E.j.info("SVER="+E.Aa));const ls=Me[5];ls!=null&&typeof ls=="number"&&0<ls&&(x=1.5*ls,E.L=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const Cn=h.g;if(Cn){const da=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var ee=x.h;ee.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Jr(ee,ee.h),ee.h=null))}if(x.D){const hr=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;hr&&(x.ya=hr,Ge(x.I,x.D,hr))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),x=E;var ce=h;if(x.qa=Pc(x,x.J?x.ia:null,x.W),ce.K){Zn(x.h,ce);var Xe=ce,Ot=x.L;Ot&&(Xe.I=Ot),Xe.B&&(no(Xe),gi(Xe)),x.g=ce}else Oc(x);0<E.i.length&&co(E)}else Me[0]!="stop"&&Me[0]!="close"||cr(E,7);else E.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?cr(E,7):Dl(E):Me[0]!="noop"&&E.l&&E.l.ta(Me),E.v=0)}}nr(4)}catch{}}var _d=class{constructor(h,y){this.g=h,this.map=y}};function Al(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Tc(h){return h.h?1:h.g?h.g.size:0}function Wr(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Jr(h,y){h.g?h.g.add(y):h.h=y}function Zn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Al.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _n(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return D(h.i)}function bc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],E=h.length,x=0;x<E;x++)y.push(h[x]);return y}y=[],E=0;for(x in h)y[E++]=h[x];return y}function vd(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const x in h)y[E++]=x;return y}}}function io(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=vd(h),x=bc(h),$=x.length,ee=0;ee<$;ee++)y.call(void 0,x[ee],E&&E[ee],h)}var xl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ro(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var x=h[E].indexOf("="),$=null;if(0<=x){var ee=h[E].substring(0,x);$=h[E].substring(x+1)}else ee=h[E];y(ee,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function or(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof or){this.h=h.h,Zr(this,h.j),this.o=h.o,this.g=h.g,aa(this,h.s),this.l=h.l;var y=h.i,E=new Di;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),so(this,E),this.m=h.m}else h&&(y=String(h).match(xl))?(this.h=!1,Zr(this,y[1]||"",!0),this.o=es(y[2]||""),this.g=es(y[3]||"",!0),aa(this,y[4]),this.l=es(y[5]||"",!0),so(this,y[6]||"",!0),this.m=es(y[7]||"")):(this.h=!1,this.i=new Di(null,this.h))}or.prototype.toString=function(){var h=[],y=this.j;y&&h.push(ei(y,Cl,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ei(y,Cl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ei(E,E.charAt(0)=="/"?Il:wc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ei(E,bd)),h.join("")};function Tt(h){return new or(h)}function Zr(h,y,E){h.j=E?es(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function aa(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function so(h,y,E){y instanceof Di?(h.i=y,Sc(h.i,h.h)):(E||(y=ei(y,Td)),h.i=new Di(y,h.h))}function Ge(h,y,E){h.i.set(y,E)}function oa(h){return Ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function es(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ei(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Ed),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ed(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Cl=/[#\/\?@]/g,wc=/[#\?:]/g,Il=/[#\?]/g,Td=/[#\?@]/g,bd=/#/g;function Di(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Ht(h){h.g||(h.g=new Map,h.h=0,h.i&&ro(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Di.prototype,i.add=function(h,y){Ht(this),this.i=null,h=Hn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function ao(h,y){Ht(h),y=Hn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function oo(h,y){return Ht(h),y=Hn(h,y),h.g.has(y)}i.forEach=function(h,y){Ht(this),this.g.forEach(function(E,x){E.forEach(function($){h.call(y,$,x,this)},this)},this)},i.na=function(){Ht(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let x=0;x<y.length;x++){const $=h[x];for(let ee=0;ee<$.length;ee++)E.push(y[x])}return E},i.V=function(h){Ht(this);let y=[];if(typeof h=="string")oo(this,h)&&(y=y.concat(this.g.get(Hn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},i.set=function(h,y){return Ht(this),this.i=null,h=Hn(this,h),oo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function lr(h,y,E){ao(h,y),0<E.length&&(h.i=null,h.g.set(Hn(h,y),D(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var x=y[E];const ee=encodeURIComponent(String(x)),ce=this.V(x);for(x=0;x<ce.length;x++){var $=ee;ce[x]!==""&&($+="="+encodeURIComponent(String(ce[x]))),h.push($)}}return this.i=h.join("&")};function Hn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Sc(h,y){y&&!h.j&&(Ht(h),h.i=null,h.g.forEach(function(E,x){var $=x.toLowerCase();x!=$&&(ao(this,x),lr(this,$,E))},h)),h.j=y}function Nl(h,y){const E=new Yr;if(m.Image){const x=new Image;x.onload=O(xn,E,"TestLoadImage: loaded",!0,y,x),x.onerror=O(xn,E,"TestLoadImage: error",!1,y,x),x.onabort=O(xn,E,"TestLoadImage: abort",!1,y,x),x.ontimeout=O(xn,E,"TestLoadImage: timeout",!1,y,x),m.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else y(!1)}function Ac(h,y){const E=new Yr,x=new AbortController,$=setTimeout(()=>{x.abort(),xn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:x.signal}).then(ee=>{clearTimeout($),ee.ok?xn(E,"TestPingServer: ok",!0,y):xn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),xn(E,"TestPingServer: error",!1,y)})}function xn(h,y,E,x,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),x(E)}catch{}}function yi(){this.g=new yd}function Ol(h,y,E){const x=E||"";try{io(h,function($,ee){let ce=$;g($)&&(ce=Wn($)),y.push(x+ee+"="+encodeURIComponent(ce))})}catch($){throw y.push(x+"type="+encodeURIComponent("_badmap")),$}}function ki(h){this.l=h.Ub||null,this.j=h.eb||!1}P(ki,vl),ki.prototype.g=function(){return new qn(this.l,this.j)},ki.prototype.i=function(h){return function(){return h}}({});function qn(h,y){lt.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(qn,lt),i=qn.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,ts(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function lo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Mi(this):ts(this),this.readyState==3&&lo(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,Mi(this))},i.Qa=function(h){this.g&&(this.response=h,Mi(this))},i.ga=function(){this.g&&Mi(this)};function Mi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ts(h)}i.setRequestHeader=function(h,y){this.u.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ts(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function la(h){let y="";return ie(h,function(E,x){y+=x,y+=":",y+=E,y+=`\r
`}),y}function ns(h,y,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=la(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Ge(h,y,E))}function ut(h){lt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(ut,lt);var un=/^https?$/i,ur=["POST","PUT"];i=ut.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,y,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ii.g(),this.v=this.o?_c(this.o):_c(Ii),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ee){ua(this,ee);return}if(h=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var $ in x)E.set($,x[$]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const ee of x.keys())E.set(ee,x.get(ee));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(ee=>ee.toLowerCase()=="content-type"),$=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ur,y,void 0))||x||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ce]of E)this.g.setRequestHeader(ee,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uo(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){ua(this,ee)}};function ua(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,is(h),rs(h)}function is(h){h.A||(h.A=!0,gt(h,"complete"),gt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,gt(this,"complete"),gt(this,"abort"),rs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rs(this,!0)),ut.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Rc(this):this.bb())},i.bb=function(){Rc(this)};function Rc(h){if(h.h&&typeof c<"u"&&(!h.v[1]||vn(h)!=4||h.Z()!=2)){if(h.u&&vn(h)==4)qr(h.Ea,0,h);else if(gt(h,"readystatechange"),vn(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var x;if(x=ce===0){var $=String(h.D).match(xl)[1]||null;!$&&m.self&&m.self.location&&($=m.self.location.protocol.slice(0,-1)),x=!un.test($?$.toLowerCase():"")}E=x}if(E)gt(h,"complete"),gt(h,"success");else{h.m=6;try{var ee=2<vn(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",is(h)}}finally{rs(h)}}}}function rs(h,y){if(h.g){uo(h);const E=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||gt(h,"ready");try{E.onreadystatechange=x}catch{}}}function uo(h){h.I&&(m.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function vn(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),gn(y)}};function ca(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function xc(h){const y={};h=(h.g&&2<=vn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(H(h[x]))continue;var E=L(h[x]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const ee=y[$]||[];y[$]=ee,ee.push(E)}R(y,function(x){return x.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Cc(h){this.Aa=0,this.i=[],this.j=new Yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,h),this.cb=ha("retryDelaySeedMs",1e4,h),this.Wa=ha("forwardChannelMaxRetries",2,h),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Al(h&&h.concurrentRequestLimit),this.Da=new yi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Cc.prototype,i.la=8,i.G=1,i.connect=function(h,y,E,x){Wt(0),this.W=h,this.H=y||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=Pc(this,null,this.W),co(this)};function Dl(h){if(Ic(h),h.G==3){var y=h.U++,E=Tt(h.I);if(Ge(E,"SID",h.K),Ge(E,"RID",y),Ge(E,"TYPE","terminate"),fa(h,E),y=new Ni(h,h.j,y),y.L=2,y.v=oa(Tt(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&m.Image&&(new Image().src=y.v,E=!0),E||(y.g=Lc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),gi(y)}Ll(h)}function ss(h){h.g&&(Pl(h),h.g.cancel(),h.g=null)}function Ic(h){ss(h),h.u&&(m.clearTimeout(h.u),h.u=null),as(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function co(h){if(!Rl(h.h)&&!h.s){h.s=!0;var y=h.Ga;X||Re(),oe||(X(),oe=!0),pe.add(y,h),h.B=0}}function wd(h,y){return Tc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Kr(w(h.Ga,h,y),Mc(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new Ni(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=A(ee),M(ee,this.S)):ee=this.S),this.m!==null||this.O||($.H=ee,ee=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=kl(this,$,y),E=Tt(this.I),Ge(E,"RID",h),Ge(E,"CVER",22),this.D&&Ge(E,"X-HTTP-Session-Id",this.D),fa(this,E),ee&&(this.O?y="headers="+encodeURIComponent(String(la(ee)))+"&"+y:this.m&&ns(E,this.m,ee)),Jr(this.h,$),this.Ua&&Ge(E,"TYPE","init"),this.P?(Ge(E,"$req",y),Ge(E,"SID","null"),$.T=!0,ra($,E,null)):ra($,E,y),this.G=2}}else this.G==3&&(h?Nc(this,h):this.i.length==0||Rl(this.h)||Nc(this))};function Nc(h,y){var E;y?E=y.l:E=h.U++;const x=Tt(h.I);Ge(x,"SID",h.K),Ge(x,"RID",E),Ge(x,"AID",h.T),fa(h,x),h.m&&h.o&&ns(x,h.m,h.o),E=new Ni(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=kl(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Jr(h.h,E),ra(E,x,y)}function fa(h,y){h.H&&ie(h.H,function(E,x){Ge(y,x,E)}),h.l&&io({},function(E,x){Ge(y,x,E)})}function kl(h,y,E){E=Math.min(h.i.length,E);var x=h.l?w(h.l.Na,h.l,h):null;e:{var $=h.i;let ee=-1;for(;;){const ce=["count="+E];ee==-1?0<E?(ee=$[0].g,ce.push("ofs="+ee)):ee=0:ce.push("ofs="+ee);let Xe=!0;for(let Ot=0;Ot<E;Ot++){let Me=$[Ot].g;const qt=$[Ot].map;if(Me-=ee,0>Me)ee=Math.max(0,$[Ot].g-100),Xe=!1;else try{Ol(qt,ce,"req"+Me+"_")}catch{x&&x(qt)}}if(Xe){x=ce.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,x}function Oc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;X||Re(),oe||(X(),oe=!0),pe.add(y,h),h.v=0}}function Ml(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Kr(w(h.Fa,h),Mc(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Dc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Kr(w(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),ss(this),Dc(this))};function Pl(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function Dc(h){h.g=new Ni(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Tt(h.qa);Ge(y,"RID","rpc"),Ge(y,"SID",h.K),Ge(y,"AID",h.T),Ge(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ge(y,"TO",h.ja),Ge(y,"TYPE","xmlhttp"),fa(h,y),h.m&&h.o&&ns(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=oa(Tt(y)),E.m=null,E.P=!0,sr(E,h)}i.Za=function(){this.C!=null&&(this.C=null,ss(this),Ml(this),Wt(19))};function as(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function kc(h,y){var E=null;if(h.g==y){as(h),Pl(h),h.g=null;var x=2}else if(Wr(h.h,y))E=y.D,Zn(h.h,y),x=1;else return;if(h.G!=0){if(y.o)if(x==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var $=h.B;x=to(),gt(x,new Tl(x,E)),co(h)}else Oc(h);else if($=y.s,$==3||$==0&&0<y.X||!(x==1&&wd(h,y)||x==2&&Ml(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),$){case 1:cr(h,5);break;case 4:cr(h,10);break;case 3:cr(h,6);break;default:cr(h,2)}}}function Mc(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function cr(h,y){if(h.j.info("Error code "+y),y==2){var E=w(h.fb,h),x=h.Xa;const $=!x;x=new or(x||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Zr(x,"https"),oa(x),$?Nl(x.toString(),E):Ac(x.toString(),E)}else Wt(2);h.G=0,h.l&&h.l.sa(y),Ll(h),Ic(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Ll(h){if(h.G=0,h.ka=[],h.l){const y=_n(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ka,y),k(h.ka,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.ra()}}function Pc(h,y,E){var x=E instanceof or?Tt(E):new or(E);if(x.g!="")y&&(x.g=y+"."+x.g),aa(x,x.s);else{var $=m.location;x=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var ee=new or(null);x&&Zr(ee,x),y&&(ee.g=y),$&&aa(ee,$),E&&(ee.l=E),x=ee}return E=h.D,y=h.ya,E&&y&&Ge(x,E,y),Ge(x,"VER",h.la),fa(h,x),x}function Lc(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new ut(new ki({eb:E})):new ut(h.pa),y.Ha(h.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vc(){}i=Vc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ho(){}ho.prototype.g=function(h,y){return new En(h,y)};function En(h,y){lt.call(this),this.g=new Cc(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!H(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new os(this)}P(En,lt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Dl(this.g)},En.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Wn(h),h=E);y.i.push(new _d(y.Ya++,h)),y.G==3&&co(y)},En.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,En.aa.N.call(this)};function Uc(h){Fr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}P(Uc,Fr);function jc(){pi.call(this),this.status=1}P(jc,pi);function os(h){this.g=h}P(os,Vc),os.prototype.ua=function(){gt(this.g,"a")},os.prototype.ta=function(h){gt(this.g,new Uc(h))},os.prototype.sa=function(h){gt(this.g,new jc)},os.prototype.ra=function(){gt(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,c1=function(){return new ho},u1=function(){return to()},l1=Jn,eg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,tf=Et,Jt.COMPLETE="complete",o1=Jt,ia.EventType=xi,xi.OPEN="a",xi.CLOSE="b",xi.ERROR="c",xi.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Su=ia,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,a1=ut}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const FE="@firebase/firestore",GE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new Fg("@firebase/firestore");function qo(){return Ba.logLevel}function de(i,...e){if(Ba.logLevel<=je.DEBUG){const t=e.map(Kg);Ba.debug(`Firestore (${cl}): ${i}`,...t)}}function Lr(i,...e){if(Ba.logLevel<=je.ERROR){const t=e.map(Kg);Ba.error(`Firestore (${cl}): ${i}`,...t)}}function Jo(i,...e){if(Ba.logLevel<=je.WARN){const t=e.map(Kg);Ba.warn(`Firestore (${cl}): ${i}`,...t)}}function Kg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,h1(i,s,t)}function h1(i,e,t){let s=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Lr(s),new Error(s)}function We(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||h1(e,o,s)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class UI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jI{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new f1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class zI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new zI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $E(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $E(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=qI(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function ze(i,e){return i<e?-1:i>e?1:0}function tg(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),l=e.charAt(s);if(o!==l)return Np(o)===Np(l)?ze(o,l):Np(o)?1:-1}return ze(i.length,e.length)}const FI=55296,GI=57343;function Np(i){const e=i.charCodeAt(0);return e>=FI&&e<=GI}function Zo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="__name__";class ji{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Se(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ji.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ji?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=ji.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const s=ji.isNumericId(e),o=ji.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ji.extractNumericId(e).compare(ji.extractNumericId(t)):tg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bs.fromString(e.substring(4,e.length-2))}}class yt extends ji{construct(e,t,s){return new yt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const $I=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends ji{construct(e,t,s){return new an(e,t,s)}static isValidIdentifier(e){return $I.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KE}static keyField(){return new an([KE])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(l(),o++)}if(l(),c)throw new ye(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(yt.fromString(e))}static fromName(e){return new Te(yt.fromString(e).popFirst(5))}static empty(){return new Te(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(i,e,t){if(!t)throw new ye(le.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function YI(i,e,t,s){if(e===!0&&s===!0)throw new ye(le.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function YE(i){if(!Te.isDocumentKey(i))throw new ye(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function d1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Xg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function ju(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xg(i);throw new ye(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(i,e){const t={typeString:i};return e&&(t.value=e),t}function tc(i,e){if(!d1(i))throw new ye(le.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ye(le.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=-62135596800,QE=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*QE);return new ft(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<XE)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-XE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ut("string",ft._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ft(0,0))}static max(){return new xe(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=-1;function XI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new ft(t+1,0):new ft(t,s));return new Gs(o,Te.empty(),e)}function QI(i){return new Gs(i.readTime,i.key,zu)}class Gs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Gs(xe.min(),Te.empty(),zu)}static max(){return new Gs(xe.max(),Te.empty(),zu)}}function WI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:ze(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(i){if(i.code!==le.FAILED_PRECONDITION||i.message!==JI)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,s)=>{t(e)})}static reject(e){return new ae((t,s)=>{s(e)})}static waitFor(e){return new ae((t,s)=>{let o=0,l=0,c=!1;e.forEach(m=>{++o,m.next(()=>{++l,c&&l===o&&t()},p=>s(p))}),c=!0,l===o&&t()})}static or(e){let t=ae.resolve(!1);for(const s of e)t=t.next(o=>o?ae.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new ae((s,o)=>{const l=e.length,c=new Array(l);let m=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{c[g]=v,++m,m===l&&s(c)},v=>o(v))}})}static doWhile(e,t){return new ae((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function eN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=-1;function Ff(i){return i==null}function yf(i){return i===0&&1/i==-1/0}function tN(i){return typeof i=="number"&&Number.isInteger(i)&&!yf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="";function nN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=WE(e)),e=iN(i.get(t),e);return WE(e)}function iN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case m1:t+="";break;default:t+=l}}return t}function WE(i){return i+m1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ya(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function p1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??rn.RED,this.left=o??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new rn(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new bi([])}unionWith(e){let t=new Bt(an.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new g1("Invalid base64 string: "+l):l}}(e);return new on(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const rN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(i){if(We(!!i,39018),typeof i=="string"){let e=0;const t=rN.exec(i);if(We(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(i.seconds),nanos:It(i.nanos)}}function It(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ks(i){return typeof i=="string"?on.fromBase64String(i):on.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="server_timestamp",_1="__type__",v1="__previous_value__",E1="__local_write_time__";function Wg(i){return(i?.mapValue?.fields||{})[_1]?.stringValue===y1}function Gf(i){const e=i.mapValue.fields[v1];return Wg(e)?Gf(e):e}function Bu(i){const e=$s(i.mapValue.fields[E1].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,s,o,l,c,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const _f="(default)";class Hu{constructor(e,t){this.projectId=e,this.database=t||_f}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database===_f}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__type__",aN="__max__",$h={mapValue:{}},b1="__vector__",vf="value";function Ys(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wg(i)?4:lN(i)?9007199254740991:oN(i)?10:11:Se(28295,{value:i})}function Xi(i,e){if(i===e)return!0;const t=Ys(i);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Bu(i).isEqual(Bu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=$s(o.timestampValue),m=$s(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return Ks(o.bytesValue).isEqual(Ks(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return It(o.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return It(o.integerValue)===It(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=It(o.doubleValue),m=It(l.doubleValue);return c===m?yf(c)===yf(m):isNaN(c)&&isNaN(m)}return!1}(i,e);case 9:return Zo(i.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},m=l.mapValue.fields||{};if(JE(c)!==JE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Xi(c[p],m[p])))return!1;return!0}(i,e);default:return Se(52216,{left:i})}}function qu(i,e){return(i.values||[]).find(t=>Xi(t,e))!==void 0}function el(i,e){if(i===e)return 0;const t=Ys(i),s=Ys(e);if(t!==s)return ze(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return function(l,c){const m=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return eT(i.timestampValue,e.timestampValue);case 4:return eT(Bu(i),Bu(e));case 5:return tg(i.stringValue,e.stringValue);case 6:return function(l,c){const m=Ks(l),p=Ks(c);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,c){const m=l.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=ze(m[g],p[g]);if(v!==0)return v}return ze(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,c){const m=ze(It(l.latitude),It(c.latitude));return m!==0?m:ze(It(l.longitude),It(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return tT(i.arrayValue,e.arrayValue);case 10:return function(l,c){const m=l.fields||{},p=c.fields||{},g=m[vf]?.arrayValue,v=p[vf]?.arrayValue,T=ze(g?.values?.length||0,v?.values?.length||0);return T!==0?T:tT(g,v)}(i.mapValue,e.mapValue);case 11:return function(l,c){if(l===$h.mapValue&&c===$h.mapValue)return 0;if(l===$h.mapValue)return 1;if(c===$h.mapValue)return-1;const m=l.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const w=tg(p[T],v[T]);if(w!==0)return w;const O=el(m[p[T]],g[v[T]]);if(O!==0)return O}return ze(p.length,v.length)}(i.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function eT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const t=$s(i),s=$s(e),o=ze(t.seconds,s.seconds);return o!==0?o:ze(t.nanos,s.nanos)}function tT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=el(t[o],s[o]);if(l)return l}return ze(t.length,s.length)}function tl(i){return ng(i)}function ng(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=$s(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Ks(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Te.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=ng(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${ng(t.fields[c])}`;return o+"}"}(i.mapValue):Se(61005,{value:i})}function nf(i){switch(Ys(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gf(i);return e?16+nf(e):16;case 5:return 2*i.stringValue.length;case 6:return Ks(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+nf(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ya(s.fields,(l,c)=>{o+=l.length+nf(c)}),o}(i.mapValue);default:throw Se(13486,{value:i})}}function ig(i){return!!i&&"integerValue"in i}function Jg(i){return!!i&&"arrayValue"in i}function nT(i){return!!i&&"nullValue"in i}function iT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function rf(i){return!!i&&"mapValue"in i}function oN(i){return(i?.mapValue?.fields||{})[T1]?.stringValue===b1}function Iu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ya(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Iu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Iu(i.arrayValue.values[t]);return e}return{...i}}function lN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===aN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!rf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Iu(t)}setAll(e){let t=an.emptyPath(),s={},o=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}c?s[m.lastSegment()]=Iu(c):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());rf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];rf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ya(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new ci(Iu(this.value))}}function w1(i){const e=[];return Ya(i.fields,(t,s)=>{const o=new an([t]);if(rf(s)){const l=w1(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new bi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,t,s,o,l,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new mn(e,0,xe.min(),xe.min(),xe.min(),ci.empty(),0)}static newFoundDocument(e,t,s,o){return new mn(e,1,t,xe.min(),s,o,0)}static newNoDocument(e,t){return new mn(e,2,t,xe.min(),xe.min(),ci.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,xe.min(),xe.min(),ci.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.position=e,this.inclusive=t}}function rT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],c=i.position[o];if(l.field.isKeyField()?s=Te.comparator(Te.fromName(c.referenceValue),t.key):s=el(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function sT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Xi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t="asc"){this.field=e,this.dir=t}}function uN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{}class zt extends S1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new hN(e,t,s):t==="array-contains"?new mN(e,s):t==="in"?new pN(e,s):t==="not-in"?new gN(e,s):t==="array-contains-any"?new yN(e,s):new zt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new fN(e,s):new dN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(el(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends S1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Qi(e,t)}matches(e){return A1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function A1(i){return i.op==="and"}function R1(i){return cN(i)&&A1(i)}function cN(i){for(const e of i.filters)if(e instanceof Qi)return!1;return!0}function rg(i){if(i instanceof zt)return i.field.canonicalString()+i.op.toString()+tl(i.value);if(R1(i))return i.filters.map(e=>rg(e)).join(",");{const e=i.filters.map(t=>rg(t)).join(",");return`${i.op}(${e})`}}function x1(i,e){return i instanceof zt?function(s,o){return o instanceof zt&&s.op===o.op&&s.field.isEqual(o.field)&&Xi(s.value,o.value)}(i,e):i instanceof Qi?function(s,o){return o instanceof Qi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,c,m)=>l&&x1(c,o.filters[m]),!0):!1}(i,e):void Se(19439)}function C1(i){return i instanceof zt?function(t){return`${t.field.canonicalString()} ${t.op} ${tl(t.value)}`}(i):i instanceof Qi?function(t){return t.op.toString()+" {"+t.getFilters().map(C1).join(" ,")+"}"}(i):"Filter"}class hN extends zt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class fN extends zt{constructor(e,t){super(e,"in",t),this.keys=I1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dN extends zt{constructor(e,t){super(e,"not-in",t),this.keys=I1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I1(i,e){return(e.arrayValue?.values||[]).map(t=>Te.fromName(t.referenceValue))}class mN extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jg(t)&&qu(t.arrayValue,this.value)}}class pN extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qu(this.value.arrayValue,t)}}class gN extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qu(this.value.arrayValue,t)}}class yN extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>qu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,t=null,s=[],o=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=m,this.Te=null}}function aT(i,e=null,t=[],s=[],o=null,l=null,c=null){return new _N(i,e,t,s,o,l,c)}function Zg(i){const e=Ne(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>rg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Ff(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>tl(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>tl(s)).join(",")),e.Te=t}return e.Te}function ey(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!uN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!x1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sT(i.startAt,e.startAt)&&sT(i.endAt,e.endAt)}function sg(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t=null,s=[],o=[],l=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vN(i,e,t,s,o,l,c,m){return new $f(i,e,t,s,o,l,c,m)}function ty(i){return new $f(i)}function oT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function EN(i){return i.collectionGroup!==null}function Nu(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Bt(an.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Tf(l,s))}),t.has(an.keyField().canonicalString())||e.Ie.push(new Tf(an.keyField(),s))}return e.Ie}function Hi(i){const e=Ne(i);return e.Ee||(e.Ee=TN(e,Nu(i))),e.Ee}function TN(i,e){if(i.limitType==="F")return aT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Tf(o.field,l)});const t=i.endAt?new Ef(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ef(i.startAt.position,i.startAt.inclusive):null;return aT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function ag(i,e,t){return new $f(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Kf(i,e){return ey(Hi(i),Hi(e))&&i.limitType===e.limitType}function N1(i){return`${Zg(Hi(i))}|lt:${i.limitType}`}function Fo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>C1(o)).join(", ")}]`),Ff(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>tl(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>tl(o)).join(",")),`Target(${s})`}(Hi(i))}; limitType=${i.limitType})`}function Yf(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Te.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of Nu(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(c,m,p){const g=rT(c,m,p);return c.inclusive?g<=0:g<0}(s.startAt,Nu(s),o)||s.endAt&&!function(c,m,p){const g=rT(c,m,p);return c.inclusive?g>=0:g>0}(s.endAt,Nu(s),o))}(i,e)}function bN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function O1(i){return(e,t)=>{let s=!1;for(const o of Nu(i)){const l=wN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function wN(i,e,t){const s=i.field.isKeyField()?Te.comparator(e.key,t.key):function(l,c,m){const p=c.data.field(l),g=m.data.field(l);return p!==null&&g!==null?el(p,g):Se(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return p1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new _t(Te.comparator);function Vr(){return SN}const D1=new _t(Te.comparator);function Au(...i){let e=D1;for(const t of i)e=e.insert(t.key,t);return e}function k1(i){let e=D1;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Pa(){return Ou()}function M1(){return Ou()}function Ou(){return new Xa(i=>i.toString(),(i,e)=>i.isEqual(e))}const AN=new _t(Te.comparator),RN=new Bt(Te.comparator);function Be(...i){let e=RN;for(const t of i)e=e.add(t);return e}const xN=new Bt(ze);function CN(){return xN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(e)?"-0":e}}function P1(i){return{integerValue:""+i}}function IN(i,e){return tN(e)?P1(e):ny(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this._=void 0}}function NN(i,e,t){return i instanceof Fu?function(o,l){const c={fields:{[_1]:{stringValue:y1},[E1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Wg(l)&&(l=Gf(l)),l&&(c.fields[v1]=l),{mapValue:c}}(t,e):i instanceof Gu?V1(i,e):i instanceof $u?U1(i,e):function(o,l){const c=L1(o,l),m=lT(c)+lT(o.Ae);return ig(c)&&ig(o.Ae)?P1(m):ny(o.serializer,m)}(i,e)}function ON(i,e,t){return i instanceof Gu?V1(i,e):i instanceof $u?U1(i,e):t}function L1(i,e){return i instanceof bf?function(s){return ig(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Fu extends Xf{}class Gu extends Xf{constructor(e){super(),this.elements=e}}function V1(i,e){const t=j1(e);for(const s of i.elements)t.some(o=>Xi(o,s))||t.push(s);return{arrayValue:{values:t}}}class $u extends Xf{constructor(e){super(),this.elements=e}}function U1(i,e){let t=j1(e);for(const s of i.elements)t=t.filter(o=>!Xi(o,s));return{arrayValue:{values:t}}}class bf extends Xf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function lT(i){return It(i.integerValue||i.doubleValue)}function j1(i){return Jg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t){this.field=e,this.transform=t}}function kN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Gu&&o instanceof Gu||s instanceof $u&&o instanceof $u?Zo(s.elements,o.elements,Xi):s instanceof bf&&o instanceof bf?Xi(s.Ae,o.Ae):s instanceof Fu&&o instanceof Fu}(i.transform,e.transform)}class MN{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Qf{}function z1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new H1(i.key,Dr.none()):new nc(i.key,i.data,Dr.none());{const t=i.data,s=ci.empty();let o=new Bt(an.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new Qa(i.key,s,new bi(o.toArray()),Dr.none())}}function PN(i,e,t){i instanceof nc?function(o,l,c){const m=o.value.clone(),p=cT(o.fieldTransforms,l,c.transformResults);m.setAll(p),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Qa?function(o,l,c){if(!sf(o.precondition,l))return void l.convertToUnknownDocument(c.version);const m=cT(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(B1(o)),p.setAll(m),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Du(i,e,t,s){return i instanceof nc?function(l,c,m,p){if(!sf(l.precondition,c))return m;const g=l.value.clone(),v=hT(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof Qa?function(l,c,m,p){if(!sf(l.precondition,c))return m;const g=hT(l.fieldTransforms,p,c),v=c.data;return v.setAll(B1(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(l,c,m){return sf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(i,e,t)}function LN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=L1(s.transform,o||null);l!=null&&(t===null&&(t=ci.empty()),t.set(s.field,l))}return t||null}function uT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Zo(s,o,(l,c)=>kN(l,c))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class nc extends Qf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qa extends Qf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function B1(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function cT(i,e,t){const s=new Map;We(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const l=i[o],c=l.transform,m=e.data.field(l.field);s.set(l.field,ON(c,m,t[o]))}return s}function hT(i,e,t){const s=new Map;for(const o of i){const l=o.transform,c=t.data.field(o.field);s.set(o.field,NN(l,c,e))}return s}class H1 extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VN extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&PN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Du(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Du(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=M1();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(o.key)?null:m;const p=z1(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,(t,s)=>uT(t,s))&&Zo(this.baseMutations,e.baseMutations,(t,s)=>uT(t,s))}}class iy{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return AN}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new iy(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,qe;function BN(i){switch(i){case le.OK:return Se(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function q1(i){if(i===void 0)return Lr("GRPC error has no .code"),le.UNKNOWN;switch(i){case Lt.OK:return le.OK;case Lt.CANCELLED:return le.CANCELLED;case Lt.UNKNOWN:return le.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return le.INTERNAL;case Lt.UNAVAILABLE:return le.UNAVAILABLE;case Lt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Lt.NOT_FOUND:return le.NOT_FOUND;case Lt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Lt.ABORTED:return le.ABORTED;case Lt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Lt.DATA_LOSS:return le.DATA_LOSS;default:return Se(39323,{code:i})}}(qe=Lt||(Lt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Bs([4294967295,4294967295],0);function fT(i){const e=HN().encode(i),t=new s1;return t.update(e),new Uint8Array(t.digest())}function dT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Bs([t,s],0),new Bs([o,l],0)]}class ry{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ru(`Invalid padding: ${t}`);if(s<0)throw new Ru(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ru(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ru(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Bs.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Bs.fromNumber(s)));return o.compare(qN)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=fT(e),[s,o]=dT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ry(l,o,t);return s.forEach(m=>c.insert(m)),c}insert(e){if(this.ge===0)return;const t=fT(e),[s,o]=dT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Wf(xe.min(),o,new _t(ze),Vr(),Be())}}class ic{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ic(s,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class F1{constructor(e,t){this.targetId=e,this.Ce=t}}class G1{constructor(e,t,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class mT{constructor(){this.ve=0,this.Fe=pT(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),s=Be();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:l})}}),new ic(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=pT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.Je=Kh(),this.He=Kh(),this.Ye=new _t(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(sg(l))if(s===0){const c=new Te(l.path);this.et(t,c,mn.newNoDocument(c,xe.min()))}else We(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,m;try{c=Ks(s).toUint8Array()}catch(p){if(p instanceof g1)return Jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new ry(c,o,l)}catch(p){return Jo(p instanceof Ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const m=this.ot(c);if(m){if(l.current&&sg(m.target)){const p=new Te(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,mn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let s=Be();this.He.forEach((l,c)=>{let m=!0;c.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const o=new Wf(e,t,this.Ye,this.je,s);return this.je=Vr(),this.Je=Kh(),this.He=Kh(),this.Ye=new _t(ze),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new mT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Bt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Bt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mT),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Kh(){return new _t(Te.comparator)}function pT(){return new _t(Te.comparator)}const GN={asc:"ASCENDING",desc:"DESCENDING"},$N={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KN={and:"AND",or:"OR"};class YN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function og(i,e){return i.useProto3Json||Ff(e)?e:{value:e}}function wf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function XN(i,e){return wf(i,e.toTimestamp())}function qi(i){return We(!!i,49232),xe.fromTimestamp(function(t){const s=$s(t);return new ft(s.seconds,s.nanos)}(i))}function sy(i,e){return lg(i,e).canonicalString()}function lg(i,e){const t=function(o){return new yt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function K1(i){const e=yt.fromString(i);return We(J1(e),10190,{key:e.toString()}),e}function ug(i,e){return sy(i.databaseId,e.path)}function Op(i,e){const t=K1(e);if(t.get(1)!==i.databaseId.projectId)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(X1(t))}function Y1(i,e){return sy(i.databaseId,e)}function QN(i){const e=K1(i);return e.length===4?yt.emptyPath():X1(e)}function cg(i){return new yt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function X1(i){return We(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function gT(i,e,t){return{name:ug(i,e),fields:t.value.mapValue.fields}}function WN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(We(v===void 0||typeof v=="string",58123),on.fromBase64String(v||"")):(We(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),on.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(g){const v=g.code===void 0?le.UNKNOWN:q1(g.code);return new ye(v,g.message||"")}(c);t=new G1(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Op(i,s.document.name),l=qi(s.document.updateTime),c=s.document.createTime?qi(s.document.createTime):xe.min(),m=new ci({mapValue:{fields:s.document.fields}}),p=mn.newFoundDocument(o,l,c,m),g=s.targetIds||[],v=s.removedTargetIds||[];t=new af(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Op(i,s.document),l=s.readTime?qi(s.readTime):xe.min(),c=mn.newNoDocument(o,l),m=s.removedTargetIds||[];t=new af([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Op(i,s.document),l=s.removedTargetIds||[];t=new af([],l,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new zN(o,l),m=s.targetId;t=new F1(m,c)}}return t}function JN(i,e){let t;if(e instanceof nc)t={update:gT(i,e.key,e.value)};else if(e instanceof H1)t={delete:ug(i,e.key)};else if(e instanceof Qa)t={update:gT(i,e.key,e.data),updateMask:o4(e.fieldMask)};else{if(!(e instanceof VN))return Se(16599,{Vt:e.type});t={verify:ug(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const m=c.transform;if(m instanceof Fu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Gu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $u)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:c.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:XN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)}(i,e.precondition)),t}function ZN(i,e){return i&&i.length>0?(We(e!==void 0,14353),i.map(t=>function(o,l){let c=o.updateTime?qi(o.updateTime):qi(l);return c.isEqual(xe.min())&&(c=qi(l)),new MN(c,o.transformResults||[])}(t,e))):[]}function e4(i,e){return{documents:[Y1(i,e.path)]}}function t4(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Y1(i,o);const l=function(g){if(g.length!==0)return W1(Qi.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:Go(w.field),direction:r4(w.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=og(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function n4(i){let e=QN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const w=Q1(T);return w instanceof Qi&&R1(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(w=>function(P){return new Tf($o(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(T){let w;return w=typeof T=="object"?T.value:T,Ff(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(T){const w=!!T.before,O=T.values||[];return new Ef(O,w)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const w=!T.before,O=T.values||[];return new Ef(O,w)}(t.endAt)),vN(e,o,c,l,m,"F",p,g)}function i4(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Q1(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=$o(t.unaryFilter.field);return zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$o(t.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=$o(t.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$o(t.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(i):i.fieldFilter!==void 0?function(t){return zt.create($o(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Qi.create(t.compositeFilter.filters.map(s=>Q1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(i):Se(30097,{filter:i})}function r4(i){return GN[i]}function s4(i){return $N[i]}function a4(i){return KN[i]}function Go(i){return{fieldPath:i.canonicalString()}}function $o(i){return an.fromServerFormat(i.fieldPath)}function W1(i){return i instanceof zt?function(t){if(t.op==="=="){if(iT(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NAN"}};if(nT(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iT(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NAN"}};if(nT(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(t.field),op:s4(t.op),value:t.value}}}(i):i instanceof Qi?function(t){const s=t.getFilters().map(o=>W1(o));return s.length===1?s[0]:{compositeFilter:{op:a4(t.op),filters:s}}}(i):Se(54877,{filter:i})}function o4(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function J1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t,s,o,l=xe.min(),c=xe.min(),m=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.yt=e}}function u4(i){const e=n4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.Cn=new h4}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Gs.min())}updateCollectionGroup(e,t,s){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class h4{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Bt(yt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Bt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z1=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(Z1,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="LruGarbageCollector",f4=1048576;function vT([i,e],[t,s]){const o=ze(i,t);return o===0?ze(e,s):o}class d4{constructor(e){this.Ir=e,this.buffer=new Bt(vT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();vT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class m4{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(_T,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fl(t)?de(_T,"Ignoring IndexedDB error during garbage collection: ",t):await hl(t)}await this.Vr(3e5)})}}class p4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(qf.ce);const s=new d4(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(yT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yT):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,c,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),qo()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${l} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function g4(i,e){return new p4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.changes=new Xa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ae.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Du(s.mutation,o,bi.empty(),ft.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Be()){const o=Pa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let c=Au();return l.forEach((m,p)=>{c=c.insert(m,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=Pa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Be()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,s,o){let l=Vr();const c=Ou(),m=function(){return Ou()}();return t.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Qa)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Du(v.mutation,g,v.mutation.getFieldMask(),ft.now())):c.set(g.key,bi.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>m.set(g,new _4(v,c.get(g)??null))),m))}recalculateAndSaveOverlays(e,t){const s=Ou();let o=new _t((c,m)=>c-m),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||bi.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Be()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=M1();v.forEach(w=>{if(!l.has(w)){const O=z1(t.get(w),s.get(w));O!==null&&T.set(w,O),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ae.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):EN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ae.resolve(Pa());let m=zu,p=l;return c.next(g=>ae.forEach(g,(v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Be())).next(v=>({batchId:m,changes:k1(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=Au();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=Au();return this.indexManager.getCollectionParents(e,l).next(m=>ae.forEach(m,p=>{const g=function(T,w){return new $f(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((T,w)=>{c=c.insert(T,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(c=>{l.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,mn.newInvalidDocument(v)))});let m=Au();return c.forEach((p,g)=>{const v=l.get(p);v!==void 0&&Du(v.mutation,g,bi.empty(),ft.now()),Yf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:u4(o.bundledQuery),readTime:qi(o.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.overlays=new _t(Te.comparator),this.qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Pa();return ae.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.St(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,t,s){const o=Pa(),l=t.length+1,c=new Te(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new _t((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=Pa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Pa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ae.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new jN(t,s));let l=this.qr.get(t);l===void 0&&(l=Be(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.Qr=new Bt(Kt.$r),this.Ur=new Bt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Kt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Kt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new Te(new yt([])),s=new Kt(t,e),o=new Kt(t,e+1),l=[];return this.Ur.forEachInRange([s,o],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new yt([])),s=new Kt(t,e),o=new Kt(t,e+1);let l=Be();return this.Ur.forEachInRange([s,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Kt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Kt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UN(l,t,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Kt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Qg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],c=>{const m=this.Xr(c.Yr);l.push(m)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Bt(ze);return t.forEach(o=>{const l=new Kt(o,0),c=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],m=>{s=s.add(m.Yr)})}),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Te.isDocumentKey(l)||(l=l.child(""));const c=new Kt(new Te(l),0);let m=new Bt(ze);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},c),ae.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(t.mutations,o=>{const l=new Kt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Kt(t,0),o=this.Zr.firstAfterOrEqual(s);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.ri=e,this.docs=function(){return new _t(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ae.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let s=Vr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():mn.newInvalidDocument(o))}),ae.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Vr();const c=t.path,m=new Te(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||WI(QI(v),s)<=0||(o.has(v.key)||Yf(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Se(9500)}ii(e,t){return ae.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new A4(this)}getSize(e){return ae.resolve(this.size)}}class A4 extends y4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.persistence=e,this.si=new Xa(t=>Zg(t),ey),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new ay,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Pr(t),ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(l).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ae.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ae.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ae.resolve(s)}containsKey(e,t){return ae.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t){this.ui={},this.overlays={},this.ci=new qf(0),this.li=!1,this.li=!0,this.hi=new b4,this.referenceDelegate=e(this),this.Pi=new R4(this),this.indexManager=new c4,this.remoteDocumentCache=function(o){return new S4(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new l4(t),this.Ii=new E4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new T4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new w4(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new x4(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return ae.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class x4 extends ZI{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Ri=new ay,this.Vi=null}static mi(e){return new oy(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,s=>{const o=Te.fromPath(s);return this.gi(e,o).next(l=>{l||t.removeEntry(o,xe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Sf{constructor(e,t){this.persistence=e,this.pi=new Xa(s=>nN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=g4(this,t)}static mi(e,t){return new Sf(e,t)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ae.forEach(this.pi,(s,o)=>this.br(e,s,o).next(l=>l?ae.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,t).next(m=>{m||(s++,l.removeEntry(c,xe.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nf(e.data.value)),t}br(e,t,s){return ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ae.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Be(),o=Be();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ly(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vC()?8:eN(pn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,o,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new C4;return this.Ss(e,t,c).next(m=>{if(l.result=m,this.Vs)return this.bs(e,t,c,m.size)})}).next(()=>l.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(qo()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(qo()<=je.DEBUG&&de("QueryEngine","Query:",Fo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(qo()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(t))):ae.resolve())}ys(e,t){if(oT(t))return ae.resolve(null);let s=Hi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ag(t,null,"F"),s=Hi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Be(...l);return this.ps.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(t,m);return this.Cs(t,g,c,p.readTime)?this.ys(e,ag(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,s,o){return oT(t)||o.isEqual(xe.min())?ae.resolve(null):this.ps.getDocuments(e,s).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,o)?ae.resolve(null):(qo()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fo(t)),this.vs(e,c,t,XI(o,zu)).next(m=>m))})}Ds(e,t){let s=new Bt(O1(e));return t.forEach((o,l)=>{Yf(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return qo()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Fo(t)),this.ps.getDocumentsMatchingQuery(e,t,Gs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="LocalStore",N4=3e8;class O4{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new _t(ze),this.xs=new Xa(l=>Zg(l),ey),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function D4(i,e,t,s){return new O4(i,e,t,s)}async function tw(i,e){const t=Ne(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],m=[];let p=Be();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:c,addedBatchIds:m}))})})}function k4(i,e){const t=Ne(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const T=g.batch,w=T.keys();let O=ae.resolve();return w.forEach(P=>{O=O.next(()=>v.getEntry(p,P)).next(D=>{const k=g.docVersions.get(P);We(k!==null,48541),D.version.compareTo(k)<0&&(T.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),v.addEntry(D)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Be();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function nw(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function M4(i,e){const t=Ne(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((v,T)=>{const w=o.get(T);if(!w)return;m.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Pi.addMatchingKeys(l,v.addedDocuments,T)));let O=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(on.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(T,O),function(D,k,V){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=N4?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(w,O,v)&&m.push(t.Pi.updateTargetData(l,O))});let p=Vr(),g=Be();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),m.push(P4(l,c,e.documentUpdates).next(v=>{p=v.ks,g=v.qs})),!s.isEqual(xe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next(T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(v)}return ae.waitFor(m).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ms=o,l))}function P4(i,e,t){let s=Be(),o=Be();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let c=Vr();return t.forEach((m,p)=>{const g=l.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):de(uy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:c,qs:o}})}function L4(i,e){const t=Ne(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Qg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function V4(i,e){const t=Ne(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(l=>l?(o=l,ae.resolve(o)):t.Pi.allocateTargetId(s).next(c=>(o=new Us(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function hg(i,e,t){const s=Ne(i),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!fl(c))throw c;de(uy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ET(i,e,t){const s=Ne(i);let o=xe.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const T=Ne(p),w=T.xs.get(v);return w!==void 0?ae.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,v)}(s,c,Hi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next(p=>{l=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:xe.min(),t?l:Be())).next(m=>(U4(s,bN(e),m),{documents:m,Qs:l})))}function U4(i,e,t){let s=i.Os.get(e)||xe.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Os.set(e,s)}class TT{constructor(){this.activeTargetIds=CN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j4{constructor(){this.Mo=new TT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="ConnectivityMonitor";class wT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(bT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(bT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=null;function fg(){return Yh===null?Yh=function(){return 268435456+Math.round(2147483648*Math.random())}():Yh++,"0x"+Yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="RestConnection",B4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_f?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const c=fg(),m=this.zo(e,t.toUriEncodedString());de(Dp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:g}=new URL(m),v=Ws(g);return this.Jo(e,m,p,s,v).then(T=>(de(Dp,`Received RPC '${e}' ${c}: `,T),T),T=>{throw Jo(Dp,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",s),T})}Ho(e,t,s,o,l,c){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const s=B4[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class F4 extends H4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const c=fg();return new Promise((m,p)=>{const g=new a1;g.setWithCredentials(!0),g.listenOnce(o1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case tf.NO_ERROR:const T=g.getResponseJson();de(hn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case tf.TIMEOUT:de(hn,`RPC '${e}' ${c} timed out`),p(new ye(le.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const w=g.getStatus();if(de(hn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const P=O?.error;if(P&&P.status&&P.message){const D=function(V){const H=V.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(H)>=0?H:le.UNKNOWN}(P.status);p(new ye(D,P.message))}else p(new ye(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(le.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(hn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);de(hn,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",v,s,15)})}T_(e,t,s){const o=fg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=c1(),m=u1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=l.join("");de(hn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let w=!1,O=!1;const P=new q4({Yo:k=>{O?de(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(w||(de(hn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),de(hn,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),D=(k,V,H)=>{k.listen(V,F=>{try{H(F)}catch(te){setTimeout(()=>{throw te},0)}})};return D(T,Su.EventType.OPEN,()=>{O||(de(hn,`RPC '${e}' stream ${o} transport opened.`),P.o_())}),D(T,Su.EventType.CLOSE,()=>{O||(O=!0,de(hn,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(T))}),D(T,Su.EventType.ERROR,k=>{O||(O=!0,Jo(hn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),P.a_(new ye(le.UNAVAILABLE,"The operation could not be completed")))}),D(T,Su.EventType.MESSAGE,k=>{if(!O){const V=k.data[0];We(!!V,16349);const H=V,F=H?.error||H[0]?.error;if(F){de(hn,`RPC '${e}' stream ${o} received error:`,F);const te=F.status;let J=function(A){const I=Lt[A];if(I!==void 0)return q1(I)}(te),ie=F.message;J===void 0&&(J=le.INTERNAL,ie="Unknown error status: "+te+" with message "+F.message),O=!0,P.a_(new ye(J,ie)),T.close()}else de(hn,`RPC '${e}' stream ${o} received:`,V),P.u_(V)}}),D(m,l1.STAT_EVENT,k=>{k.stat===eg.PROXY?de(hn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===eg.NOPROXY&&de(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(i){return new YN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="PersistentStream";class rw{constructor(e,t,s,o,l,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new ye(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(ST,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(de(ST,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G4 extends rw{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=WN(this.serializer,e),s=function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?qi(c.readTime):xe.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=cg(this.serializer),t.addTarget=function(l,c){let m;const p=c.target;if(m=sg(p)?{documents:e4(l,p)}:{query:t4(l,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=$1(l,c.resumeToken);const g=og(l,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(xe.min())>0){m.readTime=wf(l,c.snapshotVersion.toTimestamp());const g=og(l,c.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=i4(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=cg(this.serializer),t.removeTarget=e,this.q_(t)}}class $4 extends rw{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ZN(e.writeResults,e.commitTime),s=qi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=cg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>JN(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{}class Y4 extends K4{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,lg(t,s),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(le.UNKNOWN,l.toString())})}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.Ho(e,lg(t,s),o,c,m,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(le.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class X4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lr(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class Q4{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{s.enqueueAndForget(async()=>{Wa(this)&&(de(Ha,"Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.Ea.add(4),await rc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Zf(g)}(this))})}),this.Ra=new X4(s,o)}}async function Zf(i){if(Wa(i))for(const e of i.da)await e(!0)}async function rc(i){for(const e of i.da)await e(!1)}function sw(i,e){const t=Ne(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),dy(t)?fy(t):dl(t).O_()&&hy(t,e))}function cy(i,e){const t=Ne(i),s=dl(t);t.Ia.delete(e),s.O_()&&aw(t,e),t.Ia.size===0&&(s.O_()?s.L_():Wa(t)&&t.Ra.set("Unknown"))}function hy(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dl(i).Y_(e)}function aw(i,e){i.Va.Ue(e),dl(i).Z_(e)}function fy(i){i.Va=new FN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),dl(i).start(),i.Ra.ua()}function dy(i){return Wa(i)&&!dl(i).x_()&&i.Ia.size>0}function Wa(i){return Ne(i).Ea.size===0}function ow(i){i.Va=void 0}async function W4(i){i.Ra.set("Online")}async function J4(i){i.Ia.forEach((e,t)=>{hy(i,e)})}async function Z4(i,e){ow(i),dy(i)?(i.Ra.ha(e),fy(i)):i.Ra.set("Unknown")}async function eO(i,e,t){if(i.Ra.set("Online"),e instanceof G1&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){de(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Af(i,s)}else if(e instanceof af?i.Va.Ze(e):e instanceof F1?i.Va.st(e):i.Va.tt(e),!t.isEqual(xe.min()))try{const s=await nw(i.localStore);t.compareTo(s)>=0&&await function(l,c){const m=l.Va.Tt(c);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}}),m.targetMismatches.forEach((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),aw(l,p);const T=new Us(v.target,p,g,v.sequenceNumber);hy(l,T)}),l.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){de(Ha,"Failed to raise snapshot:",s),await Af(i,s)}}async function Af(i,e,t){if(!fl(e))throw e;i.Ea.add(1),await rc(i),i.Ra.set("Offline"),t||(t=()=>nw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{de(Ha,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Zf(i)})}function lw(i,e){return e().catch(t=>Af(i,t,e))}async function ed(i){const e=Ne(i),t=Xs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qg;for(;tO(e);)try{const o=await L4(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,nO(e,o)}catch(o){await Af(e,o)}uw(e)&&cw(e)}function tO(i){return Wa(i)&&i.Ta.length<10}function nO(i,e){i.Ta.push(e);const t=Xs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function uw(i){return Wa(i)&&!Xs(i).x_()&&i.Ta.length>0}function cw(i){Xs(i).start()}async function iO(i){Xs(i).ra()}async function rO(i){const e=Xs(i);for(const t of i.Ta)e.ea(t.mutations)}async function sO(i,e,t){const s=i.Ta.shift(),o=iy.from(s,e,t);await lw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await ed(i)}async function aO(i,e){e&&Xs(i).X_&&await async function(s,o){if(function(c){return BN(c)&&c!==le.ABORTED}(o.code)){const l=s.Ta.shift();Xs(s).B_(),await lw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await ed(s)}}(i,e),uw(i)&&cw(i)}async function AT(i,e){const t=Ne(i);t.asyncQueue.verifyOperationInProgress(),de(Ha,"RemoteStore received new credentials");const s=Wa(t);t.Ea.add(3),await rc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Zf(t)}async function oO(i,e){const t=Ne(i);e?(t.Ea.delete(2),await Zf(t)):e||(t.Ea.add(2),await rc(t),t.Ra.set("Unknown"))}function dl(i){return i.ma||(i.ma=function(t,s,o){const l=Ne(t);return l.sa(),new G4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{Xo:W4.bind(null,i),t_:J4.bind(null,i),r_:Z4.bind(null,i),H_:eO.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),dy(i)?fy(i):i.Ra.set("Unknown")):(await i.ma.stop(),ow(i))})),i.ma}function Xs(i){return i.fa||(i.fa=function(t,s,o){const l=Ne(t);return l.sa(),new $4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:iO.bind(null,i),r_:aO.bind(null,i),ta:rO.bind(null,i),na:sO.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await ed(i)):(await i.fa.stop(),i.Ta.length>0&&(de(Ha,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,m=new my(e,t,c,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(i,e){if(Lr("AsyncQueue",`${e}: ${i}`),fl(i))return new ye(le.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=Au(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.ga=new _t(Te.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class il{constructor(e,t,s,o,l,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new il(e,t,Yo.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class uO{constructor(){this.queries=xT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ne(t),l=o.queries;o.queries=xT(),l.forEach((c,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ye(le.ABORTED,"Firestore shutting down"))}}function xT(){return new Xa(i=>N1(i),Kf)}async function cO(i,e){const t=Ne(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new lO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=py(c,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&gy(t)}async function hO(i,e){const t=Ne(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function fO(i,e){const t=Ne(i);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&gy(t)}function dO(i,e,t){const s=Ne(i),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function gy(i){i.Ca.forEach(e=>{e.next()})}var dg,CT;(CT=dg||(dg={})).Ma="default",CT.Cache="cache";class mO{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new il(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.key=e}}class fw{constructor(e){this.key=e}}class pO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=O1(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new RT,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const w=o.get(v),O=Yf(this.query,T)?T:null,P=!!w&&this.mutatedKeys.has(w.key),D=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let k=!1;w&&O?w.data.isEqual(O.data)?P!==D&&(s.track({type:3,doc:O}),k=!0):this.su(w,O)||(s.track({type:2,doc:O}),k=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),k=!0):w&&!O&&(s.track({type:1,doc:w}),k=!0,(p||g)&&(m=!0)),k&&(O?(c=c.add(O),l=D?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((v,T)=>function(O,P){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:k})}};return D(O)-D(P)}(v.type,T.type)||this.eu(v.doc,T.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new il(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new fw(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new hw(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yy="SyncEngine";class gO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class yO{constructor(e){this.key=e,this.hu=!1}}class _O{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Xa(m=>N1(m),Kf),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Te.comparator),this.Au=new Map,this.Ru=new ay,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vO(i,e,t=!0){const s=_w(i);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await dw(s,e,t,!0),o}async function EO(i,e){const t=_w(i);await dw(t,e,!0,!1)}async function dw(i,e,t,s){const o=await V4(i.localStore,Hi(e)),l=o.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await TO(i,e,l,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&sw(i.remoteStore,o),m}async function TO(i,e,t,s,o){i.pu=(T,w,O)=>async function(D,k,V,H){let F=k.view.ru(V);F.Cs&&(F=await ET(D.localStore,k.query,!1).then(({documents:R})=>k.view.ru(R,F)));const te=H&&H.targetChanges.get(k.targetId),J=H&&H.targetMismatches.get(k.targetId)!=null,ie=k.view.applyChanges(F,D.isPrimaryClient,te,J);return NT(D,k.targetId,ie.au),ie.snapshot}(i,T,w,O);const l=await ET(i.localStore,e,!0),c=new pO(e,l.Qs),m=c.ru(l.documents),p=ic.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);NT(i,t,g.au);const v=new gO(e,t,c);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function bO(i,e,t){const s=Ne(i),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter(c=>!Kf(c,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&cy(s.remoteStore,o.targetId),mg(s,o.targetId)}).catch(hl)):(mg(s,o.targetId),await hg(s.localStore,o.targetId,!0))}async function wO(i,e){const t=Ne(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),cy(t.remoteStore,s.targetId))}async function SO(i,e,t){const s=OO(i);try{const o=await function(c,m){const p=Ne(c),g=ft.now(),v=m.reduce((O,P)=>O.add(P.key),Be());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let P=Vr(),D=Be();return p.Ns.getEntries(O,v).next(k=>{P=k,P.forEach((V,H)=>{H.isValidDocument()||(D=D.add(V))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,P)).next(k=>{T=k;const V=[];for(const H of m){const F=LN(H,T.get(H.key).overlayedDocument);F!=null&&V.push(new Qa(H.key,F,w1(F.value.mapValue),Dr.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,V,m)}).next(k=>{w=k;const V=k.applyToLocalDocumentSet(T,D);return p.documentOverlayCache.saveOverlays(O,k.batchId,V)})}).then(()=>({batchId:w.batchId,changes:k1(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(ze)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g}(s,o.batchId,t),await sc(s,o.changes),await ed(s.remoteStore)}catch(o){const l=py(o,"Failed to persist write");t.reject(l)}}async function mw(i,e){const t=Ne(i);try{const s=await M4(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Au.get(l);c&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?We(c.hu,14607):o.removedDocuments.size>0&&(We(c.hu,42227),c.hu=!1))}),await sc(t,s,e)}catch(s){await hl(s)}}function IT(i,e,t){const s=Ne(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((l,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(c,m){const p=Ne(c);p.onlineState=m;let g=!1;p.queries.forEach((v,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)}),g&&gy(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AO(i,e,t){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let c=new _t(Te.comparator);c=c.insert(l,mn.newNoDocument(l,xe.min()));const m=Be().add(l),p=new Wf(xe.min(),new Map,new _t(ze),c,m);await mw(s,p),s.du=s.du.remove(l),s.Au.delete(e),_y(s)}else await hg(s.localStore,e,!1).then(()=>mg(s,e,t)).catch(hl)}async function RO(i,e){const t=Ne(i),s=e.batch.batchId;try{const o=await k4(t.localStore,e);gw(t,s,null),pw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await sc(t,o)}catch(o){await hl(o)}}async function xO(i,e,t){const s=Ne(i);try{const o=await function(c,m){const p=Ne(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(T=>(We(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);gw(s,e,t),pw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await sc(s,o)}catch(o){await hl(o)}}function pw(i,e){(i.mu.get(e)||[]).forEach(t=>{t.resolve()}),i.mu.delete(e)}function gw(i,e,t){const s=Ne(i);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function mg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||yw(i,s)})}function yw(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(cy(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),_y(i))}function NT(i,e,t){for(const s of t)s instanceof hw?(i.Ru.addReference(s.key,e),CO(i,s)):s instanceof fw?(de(yy,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||yw(i,s.key)):Se(19791,{wu:s})}function CO(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(de(yy,"New document in limbo: "+t),i.Eu.add(s),_y(i))}function _y(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Te(yt.fromString(e)),s=i.fu.next();i.Au.set(s,new yO(t)),i.du=i.du.insert(t,s),sw(i.remoteStore,new Us(Hi(ty(t.path)),s,"TargetPurposeLimboResolution",qf.ce))}}async function sc(i,e,t){const s=Ne(i),o=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{c.push(s.pu(p,e,t).then(g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=ly.As(p.targetId,g);l.push(v)}}))}),await Promise.all(c),s.Pu.H_(o),await async function(p,g){const v=Ne(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ae.forEach(g,w=>ae.forEach(w.Es,O=>v.persistence.referenceDelegate.addReference(T,w.targetId,O)).next(()=>ae.forEach(w.ds,O=>v.persistence.referenceDelegate.removeReference(T,w.targetId,O)))))}catch(T){if(!fl(T))throw T;de(uy,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const O=v.Ms.get(w),P=O.snapshotVersion,D=O.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(w,D)}}}(s.localStore,l))}async function IO(i,e){const t=Ne(i);if(!t.currentUser.isEqual(e)){de(yy,"User change. New user:",e.toKey());const s=await tw(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(m=>{m.forEach(p=>{p.reject(new ye(le.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await sc(t,s.Ls)}}function NO(i,e){const t=Ne(i),s=t.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function _w(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=mw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AO.bind(null,e),e.Pu.H_=fO.bind(null,e.eventManager),e.Pu.yu=dO.bind(null,e.eventManager),e}function OO(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xO.bind(null,e),e}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return D4(this.persistence,new I4,e.initialUser,this.serializer)}Cu(e){return new ew(oy.mi,this.serializer)}Du(e){return new j4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class DO extends Rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Sf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new m4(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new ew(s=>Sf.mi(s,t),this.serializer)}}class pg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=IO.bind(null,this.syncEngine),await oO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uO}()}createDatastore(e){const t=Jf(e.databaseInfo.databaseId),s=function(l){return new F4(l)}(e.databaseInfo);return function(l,c,m,p){return new Y4(l,c,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,c,m){return new Q4(s,o,l,c,m)}(this.localStore,this.datastore,e.asyncQueue,t=>IT(this.syncEngine,t,0),function(){return wT.v()?new wT:new z4}())}createSyncEngine(e,t){return function(o,l,c,m,p,g,v){const T=new _O(o,l,c,m,p,g);return v&&(T.gu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=Ne(t);de(Ha,"RemoteStore shutting down."),s.Ea.add(5),await rc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pg.provider={build:()=>new pg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class MO{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=Yg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{de(Qs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(de(Qs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=py(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Mp(i,e){i.asyncQueue.verifyOperationInProgress(),de(Qs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function OT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await PO(i);de(Qs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>AT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>AT(e.remoteStore,o)),i._onlineComponents=e}async function PO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(Qs,"Using user provided OfflineComponentProvider");try{await Mp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Jo("Error using user provided cache. Falling back to memory cache: "+t),await Mp(i,new Rf)}}else de(Qs,"Using default OfflineComponentProvider"),await Mp(i,new DO(void 0));return i._offlineComponents}async function vw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(Qs,"Using user provided OnlineComponentProvider"),await OT(i,i._uninitializedComponentsProvider._online)):(de(Qs,"Using default OnlineComponentProvider"),await OT(i,new pg))),i._onlineComponents}function LO(i){return vw(i).then(e=>e.syncEngine)}async function VO(i){const e=await vw(i),t=e.eventManager;return t.onListen=vO.bind(null,e.syncEngine),t.onUnlisten=bO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=EO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=wO.bind(null,e.syncEngine),t}function UO(i,e,t={}){const s=new Hs;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,m,p,g){const v=new kO({next:w=>{v.Nu(),c.enqueueAndForget(()=>hO(l,T));const O=w.docs.has(m);!O&&w.fromCache?g.reject(new ye(le.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&p&&p.source==="server"?g.reject(new ye(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new mO(ty(m.path),v,{includeMetadataChanges:!0,qa:!0});return cO(l,T)}(await VO(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firestore.googleapis.com",kT=!0;class MT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Tw,this.ssl=kT}else this.host=e.host,this.ssl=e.ssl??kT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<f4)throw new ye(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ew(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vy{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VI;switch(s.type){case"firstParty":return new BI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=DT.get(t);s&&(de("ComponentProvider","Removing Datastore"),DT.delete(t),s.terminate())}(this),Promise.resolve()}}function jO(i,e,t,s={}){i=ju(i,vy);const o=Ws(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(Hg(`https://${m}`),qg("Firestore",!0)),l.host!==Tw&&l.host!==m&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:m,ssl:o,emulatorOptions:s};if(!ja(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=dn.MOCK_USER;else{g=Zb(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ye(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new dn(T)}i._authCredentials=new UI(new f1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ey(this.firestore,e,this._query)}}class Yt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(tc(t,Yt._jsonSchema))return new Yt(e,s||null,new Te(yt.fromString(t.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Ut("string",Yt._jsonSchemaVersion),referencePath:Ut("string")};class Ku extends Ey{constructor(e,t,s){super(e,t,ty(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Te(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function gg(i,e,...t){if(i=Xt(i),arguments.length===1&&(e=Yg.newId()),KI("doc","path",e),i instanceof vy){const s=yt.fromString(e,...t);return YE(s),new Yt(i,null,new Te(s))}{if(!(i instanceof Yt||i instanceof Ku))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(yt.fromString(e,...t));return YE(s),new Yt(i.firestore,i instanceof Ku?i.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="AsyncQueue";class LT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iw(this,"async_queue_retry"),this._c=()=>{const s=kp();s&&de(PT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=kp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=kp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Hs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;de(PT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Lr("INTERNAL UNHANDLED ERROR: ",VT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=my.createAndSchedule(this,e,t,s,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:VT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function VT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Ty extends vy{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new LT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function zO(i,e){const t=typeof i=="object"?i:$g(),s=typeof i=="string"?i:_f,o=Hf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Qb("firestore");l&&jO(o,...l)}return o}function bw(i){if(i._terminated)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||BO(i),i._firestoreClient}function BO(i){const e=i._freezeSettings(),t=function(o,l,c,m){return new sN(o,l,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Ew(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new MO(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(on.fromBase64String(e))}catch(t){throw new ye(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hi(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tc(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:Ut("string",hi._jsonSchemaVersion),bytes:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(tc(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Ut("string",Fi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tc(e,Gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Gi(e.vectorValues);throw new ye(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Ut("string",Gi._jsonSchemaVersion),vectorValues:Ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=/^__.*__$/;class qO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new nc(e,this.data,t,this.fieldTransforms)}}function ww(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class Sy{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ww(this.Ac)&&HO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Jf(e)}Cc(e,t,s,o=!1){return new Sy({Ac:e,methodName:t,Dc:s,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GO(i){const e=i._freezeSettings(),t=Jf(i._databaseId);return new FO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function $O(i,e,t,s,o,l={}){const c=i.Cc(l.merge||l.mergeFields?2:0,e,t,o);xw("Data must be an object, but it was:",c,s);const m=Aw(s,c);let p,g;if(l.merge)p=new bi(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const w=KO(e,T,t);if(!c.contains(w))throw new ye(le.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);XO(v,w)||v.push(w)}p=new bi(v),g=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=c.fieldTransforms;return new qO(new ci(m),p,g)}class Ay extends wy{_toFieldTransform(e){return new DN(e.path,new Fu)}isEqual(e){return e instanceof Ay}}function Sw(i,e){if(Rw(i=Xt(i)))return xw("Unsupported field value:",e,i),Aw(i,e);if(i instanceof wy)return function(s,o){if(!ww(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const l=[];let c=0;for(const m of s){let p=Sw(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=Xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ft.fromDate(s);return{timestampValue:wf(o.serializer,l)}}if(s instanceof ft){const l=new ft(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wf(o.serializer,l)}}if(s instanceof Fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hi)return{bytesValue:$1(o.serializer,s._byteString)};if(s instanceof Yt){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:sy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gi)return function(c,m){return{mapValue:{fields:{[T1]:{stringValue:b1},[vf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return ny(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Xg(s)}`)}(i,e)}function Aw(i,e){const t={};return p1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(i,(s,o)=>{const l=Sw(o,e.mc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function Rw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ft||i instanceof Fi||i instanceof hi||i instanceof Yt||i instanceof wy||i instanceof Gi)}function xw(i,e,t){if(!Rw(t)||!d1(t)){const s=Xg(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function KO(i,e,t){if((e=Xt(e))instanceof by)return e._internalPath;if(typeof e=="string")return Cw(i,e);throw xf("Field path arguments must be of type string or ",i,!1,void 0,t)}const YO=new RegExp("[~\\*/\\[\\]]");function Cw(i,e,t){if(e.search(YO)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new by(...e.split("."))._internalPath}catch{throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function xf(i,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ye(le.INVALID_ARGUMENT,m+i+p)}function XO(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QO extends Iw{data(){return super.data()}}function Nw(i,e){return typeof e=="string"?Cw(i,e):e instanceof by?e._internalPath:e._delegate._internalPath}class WO{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ya(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){const t=e.fields?.[vf].arrayValue?.values?.map(s=>It(s.doubleValue));return new Gi(t)}convertGeoPoint(e){return new Fi(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Gf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const t=$s(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=yt.fromString(e);We(J1(s),9688,{name:e});const o=new Hu(s.get(1),s.get(3)),l=new Te(s.popFirst(5));return o.isEqual(t)||Lr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class xu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class La extends Iw{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Nw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=La._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:Ut("string",La._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class of extends La{data(e={}){return super.data(e)}}class ku{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new xu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new of(this._firestore,this._userDataWriter,s.key,s,new xu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(m=>{const p=new of(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const p=new of(o._firestore,o._userDataWriter,m.doc.key,m.doc,new xu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:ZO(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ku._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(i){i=ju(i,Yt);const e=ju(i.firestore,Ty);return UO(bw(e),i._key).then(t=>iD(e,i,t))}ku._jsonSchemaVersion="firestore/querySnapshot/1.0",ku._jsonSchema={type:Ut("string",ku._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class eD extends WO{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}}function tD(i,e,t){i=ju(i,Yt);const s=ju(i.firestore,Ty),o=JO(i.converter,e,t);return nD(s,[$O(GO(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Dr.none())])}function nD(i,e){return function(s,o){const l=new Hs;return s.asyncQueue.enqueueAndForget(async()=>SO(await LO(s),o,l)),l.promise}(bw(i),e)}function iD(i,e,t){const s=t.docs.get(e._key),o=new eD(i);return new La(i,o,e._key,s,new xu(t.hasPendingWrites,t.fromCache),e.converter)}function rD(){return new Ay("serverTimestamp")}(function(e,t=!0){(function(o){cl=o})(Ka),za(new Fs("firestore",(s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),m=new Ty(new jI(s.getProvider("auth-internal")),new HI(c,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(g.options.projectId,v)}(c,o),c);return l={useFetchStreams:t,...l},m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Bi(FE,GE,e),Bi(FE,GE,"esm2020")})();var sD="firebase",aD="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(sD,aD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firebasestorage.googleapis.com",kw="storageBucket",oD=2*60*1e3,lD=10*60*1e3,uD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends Ji{constructor(e,t,s=0){super(Pp(e),`Firebase Storage: ${t} (${Pp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var dt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(dt||(dt={}));function Pp(i){return"storage/"+i}function Ry(){const i="An unknown error occurred, please check the error payload for server response.";return new vt(dt.UNKNOWN,i)}function cD(i){return new vt(dt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function hD(i){return new vt(dt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function fD(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(dt.UNAUTHENTICATED,i)}function dD(){return new vt(dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mD(i){return new vt(dt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function Mw(){return new vt(dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pw(){return new vt(dt.CANCELED,"User canceled the upload/download.")}function pD(i){return new vt(dt.INVALID_URL,"Invalid URL '"+i+"'.")}function gD(i){return new vt(dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function yD(){return new vt(dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kw+"' property when initializing the app?")}function Lw(){return new vt(dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _D(){return new vt(dt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function vD(){return new vt(dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ED(i){return new vt(dt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yg(i){return new vt(dt.INVALID_ARGUMENT,i)}function Vw(){return new vt(dt.APP_DELETED,"The Firebase app was deleted.")}function TD(i){return new vt(dt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mu(i,e){return new vt(dt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Tu(i){throw new vt(dt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=wn.makeFromUrl(e,t)}catch{return new wn(e,"")}if(s.path==="")return s;throw gD(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(te){te.path_=decodeURIComponent(te.path)}const v="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${T}/${v}/b/${o}/o${w}`,"i"),P={bucket:1,path:3},D=t===Dw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",V=new RegExp(`^https?://${D}/${o}/${k}`,"i"),F=[{regex:m,indices:p,postModify:l},{regex:O,indices:P,postModify:g},{regex:V,indices:{bucket:1,path:2},postModify:g}];for(let te=0;te<F.length;te++){const J=F[te],ie=J.regex.exec(e);if(ie){const R=ie[J.indices.bucket];let A=ie[J.indices.path];A||(A=""),s=new wn(R,A),J.postModify(s);break}}if(s==null)throw pD(e);return s}}class bD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(i,e,t){let s=1,o=null,l=null,c=!1,m=0;function p(){return m===2}let g=!1;function v(...k){g||(g=!0,e.apply(null,k))}function T(k){o=setTimeout(()=>{o=null,i(O,p())},k)}function w(){l&&clearTimeout(l)}function O(k,...V){if(g){w();return}if(k){w(),v.call(null,k,...V);return}if(p()||c){w(),v.call(null,k,...V);return}s<64&&(s*=2);let F;m===1?(m=2,F=0):F=(s+Math.random())*1e3,T(F)}let P=!1;function D(k){P||(P=!0,w(),!g&&(o!==null?(k||(m=2),clearTimeout(o),T(0)):k||(m=1)))}return T(0),l=setTimeout(()=>{c=!0,D(!0)},t),D}function SD(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(i){return i!==void 0}function RD(i){return typeof i=="function"}function xD(i){return typeof i=="object"&&!Array.isArray(i)}function td(i){return typeof i=="string"||i instanceof String}function UT(i){return xy()&&i instanceof Blob}function xy(){return typeof Blob<"u"}function _g(i,e,t,s){if(s<e)throw yg(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw yg(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function Uw(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Va;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Va||(Va={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,t,s,o,l,c,m,p,g,v,T,w=!0,O=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,D)=>{this.resolve_=P,this.reject_=D,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Xh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const m=l.getErrorCode()===Va.NO_ERROR,p=l.getStatus();if(!m||jw(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Va.ABORT;s(!1,new Xh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Xh(g,l))})},t=(s,o)=>{const l=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());AD(p)?l(p):l()}catch(p){c(p)}else if(m!==null){const p=Ry();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?Vw():Pw();c(p)}else{const p=Mw();c(p)}};this.canceled_?t(!1,new Xh(!1,null,!0)):this.backoffId_=wD(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function ID(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function ND(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OD(i,e){e&&(i["X-Firebase-GMPID"]=e)}function DD(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function kD(i,e,t,s,o,l,c=!0,m=!1){const p=Uw(i.urlParams),g=i.url+p,v=Object.assign({},i.headers);return OD(v,e),ID(v,t),ND(v,l),DD(v,s),new CD(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,c,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PD(...i){const e=MD();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(xy())return new Blob(i);throw new vt(dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function LD(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(i){if(typeof atob>"u")throw ED("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lp{constructor(e,t){this.data=e,this.contentType=t||null}}function UD(i,e){switch(i){case zi.RAW:return new Lp(zw(e));case zi.BASE64:case zi.BASE64URL:return new Lp(Bw(i,e));case zi.DATA_URL:return new Lp(zD(e),BD(e))}throw Ry()}function zw(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=i.charCodeAt(++t);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function jD(i){let e;try{e=decodeURIComponent(i)}catch{throw Mu(zi.DATA_URL,"Malformed data URL.")}return zw(e)}function Bw(i,e){switch(i){case zi.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Mu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case zi.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Mu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=VD(e)}catch(o){throw o.message.includes("polyfill")?o:Mu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Hw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Mu(zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=HD(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function zD(i){const e=new Hw(i);return e.base64?Bw(zi.BASE64,e.rest):jD(e.rest)}function BD(i){return new Hw(i).contentType}function HD(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t){let s=0,o="";UT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(UT(this.data_)){const s=this.data_,o=LD(s,e,t);return o===null?null:new Ds(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Ds(s,!0)}}static getBlob(...e){if(xy()){const t=e.map(s=>s instanceof Ds?s.data_:s);return new Ds(PD.apply(null,t))}else{const t=e.map(c=>td(c)?UD(zi.RAW,c).data:c.data_);let s=0;t.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(c=>{for(let m=0;m<c.length;m++)o[l++]=c[m]}),new Ds(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(i){let e;try{e=JSON.parse(i)}catch{return null}return xD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function FD(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function qw(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(i,e){return e}class bn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||GD}}let Qh=null;function $D(i){return!td(i)||i.length<2?i:qw(i)}function Fw(){if(Qh)return Qh;const i=[];i.push(new bn("bucket")),i.push(new bn("generation")),i.push(new bn("metageneration")),i.push(new bn("name","fullPath",!0));function e(l,c){return $D(c)}const t=new bn("name");t.xform=e,i.push(t);function s(l,c){return c!==void 0?Number(c):c}const o=new bn("size");return o.xform=s,i.push(o),i.push(new bn("timeCreated")),i.push(new bn("updated")),i.push(new bn("md5Hash",null,!0)),i.push(new bn("cacheControl",null,!0)),i.push(new bn("contentDisposition",null,!0)),i.push(new bn("contentEncoding",null,!0)),i.push(new bn("contentLanguage",null,!0)),i.push(new bn("contentType",null,!0)),i.push(new bn("metadata","customMetadata",!0)),Qh=i,Qh}function KD(i,e){function t(){const s=i.bucket,o=i.fullPath,l=new wn(s,o);return e._makeStorageReference(l)}Object.defineProperty(i,"ref",{get:t})}function YD(i,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const c=t[l];s[c.local]=c.xform(s,e[c.server])}return KD(s,i),s}function Gw(i,e,t){const s=Cy(e);return s===null?null:YD(i,s,t)}function XD(i,e,t,s){const o=Cy(e);if(o===null||!td(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const v=i.bucket,T=i.fullPath,w="/b/"+c(v)+"/o/"+c(T),O=ml(w,t,s),P=Uw({alt:"media",token:g});return O+P})[0]}function $w(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=i[l.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="prefixes",zT="items";function QD(i,e,t){const s={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[jT])for(const o of t[jT]){const l=o.replace(/\/$/,""),c=i._makeStorageReference(new wn(e,l));s.prefixes.push(c)}if(t[zT])for(const o of t[zT]){const l=i._makeStorageReference(new wn(e,o.name));s.items.push(l)}return s}function WD(i,e,t){const s=Cy(t);return s===null?null:QD(i,e,s)}class Ja{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(i){if(!i)throw Ry()}function Iy(i,e){function t(s,o){const l=Gw(i,o,e);return $i(l!==null),l}return t}function JD(i,e){function t(s,o){const l=WD(i,e,o);return $i(l!==null),l}return t}function ZD(i,e){function t(s,o){const l=Gw(i,o,e);return $i(l!==null),XD(l,o,i.host,i._protocol)}return t}function pl(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=dD():o=fD():t.getStatus()===402?o=hD(i.bucket):t.getStatus()===403?o=mD(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Kw(i){const e=pl(i);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=cD(i.path)),l.serverResponse=o.serverResponse,l}return t}function ek(i,e,t){const s=e.fullServerUrl(),o=ml(s,i.host,i._protocol),l="GET",c=i.maxOperationRetryTime,m=new Ja(o,l,Iy(i,t),c);return m.errorHandler=Kw(e),m}function tk(i,e,t,s,o){const l={};e.isRoot?l.prefix="":l.prefix=e.path+"/",t.length>0&&(l.delimiter=t),s&&(l.pageToken=s),o&&(l.maxResults=o);const c=e.bucketOnlyServerUrl(),m=ml(c,i.host,i._protocol),p="GET",g=i.maxOperationRetryTime,v=new Ja(m,p,JD(i,e.bucket),g);return v.urlParams=l,v.errorHandler=pl(e),v}function nk(i,e,t){const s=e.fullServerUrl(),o=ml(s,i.host,i._protocol),l="GET",c=i.maxOperationRetryTime,m=new Ja(o,l,ZD(i,t),c);return m.errorHandler=Kw(e),m}function ik(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function Yw(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=ik(null,e)),s}function rk(i,e,t,s,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function m(){let F="";for(let te=0;te<2;te++)F=F+Math.random().toString().slice(2);return F}const p=m();c["Content-Type"]="multipart/related; boundary="+p;const g=Yw(e,s,o),v=$w(g,t),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",O=Ds.getBlob(T,s,w);if(O===null)throw Lw();const P={name:g.fullPath},D=ml(l,i.host,i._protocol),k="POST",V=i.maxUploadRetryTime,H=new Ja(D,k,Iy(i,t),V);return H.urlParams=P,H.headers=c,H.body=O.uploadData(),H.errorHandler=pl(e),H}class Cf{constructor(e,t,s,o){this.current=e,this.total=t,this.finalized=!!s,this.metadata=o||null}}function Ny(i,e){let t=null;try{t=i.getResponseHeader("X-Goog-Upload-Status")}catch{$i(!1)}return $i(!!t&&(e||["active"]).indexOf(t)!==-1),t}function sk(i,e,t,s,o){const l=e.bucketOnlyServerUrl(),c=Yw(e,s,o),m={name:c.fullPath},p=ml(l,i.host,i._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},T=$w(c,t),w=i.maxUploadRetryTime;function O(D){Ny(D);let k;try{k=D.getResponseHeader("X-Goog-Upload-URL")}catch{$i(!1)}return $i(td(k)),k}const P=new Ja(p,g,O,w);return P.urlParams=m,P.headers=v,P.body=T,P.errorHandler=pl(e),P}function ak(i,e,t,s){const o={"X-Goog-Upload-Command":"query"};function l(g){const v=Ny(g,["active","final"]);let T=null;try{T=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{$i(!1)}T||$i(!1);const w=Number(T);return $i(!isNaN(w)),new Cf(w,s.size(),v==="final")}const c="POST",m=i.maxUploadRetryTime,p=new Ja(t,c,l,m);return p.headers=o,p.errorHandler=pl(e),p}const BT=256*1024;function ok(i,e,t,s,o,l,c,m){const p=new Cf(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw _D();const g=p.total-p.current;let v=g;o>0&&(v=Math.min(v,o));const T=p.current,w=T+v;let O="";v===0?O="finalize":g===v?O="upload, finalize":O="upload";const P={"X-Goog-Upload-Command":O,"X-Goog-Upload-Offset":`${p.current}`},D=s.slice(T,w);if(D===null)throw Lw();function k(te,J){const ie=Ny(te,["active","final"]),R=p.current+v,A=s.size();let I;return ie==="final"?I=Iy(e,l)(te,J):I=null,new Cf(R,A,ie==="final",I)}const V="POST",H=e.maxUploadRetryTime,F=new Ja(t,V,k,H);return F.headers=P,F.body=D.uploadData(),F.progressCallback=m||null,F.errorHandler=pl(i),F}const Ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vp(i){switch(i){case"running":case"pausing":case"canceling":return Ln.RUNNING;case"paused":return Ln.PAUSED;case"success":return Ln.SUCCESS;case"canceled":return Ln.CANCELED;case"error":return Ln.ERROR;default:return Ln.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t,s){if(RD(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class uk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Va.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Va.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Va.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,l){if(this.sent_)throw Tu("cannot .send() more than once");if(Ws(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ck extends uk{initXhr(){this.xhr_.responseType="text"}}function Da(){return new ck}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=Fw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(dt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(jw(o.status,[]))if(l)o=Mw();else{this.sleepTime=Math.max(this.sleepTime*2,uD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(dt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=sk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,Da,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const o=ak(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(o,Da,t,s);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=BT*this._chunkMultiplier,t=new Cf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,l)=>{let c;try{c=ok(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(c,Da,o,l,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){BT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=ek(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,Da,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=rk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,Da,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Pw(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Vp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,o){const l=new lk(t||void 0,s||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Vp(this._state)){case Ln.SUCCESS:Bo(this._resolve.bind(null,this.snapshot))();break;case Ln.CANCELED:case Ln.ERROR:const t=this._reject;Bo(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Vp(this._state)){case Ln.RUNNING:case Ln.PAUSED:e.next&&Bo(e.next.bind(e,this.snapshot))();break;case Ln.SUCCESS:e.complete&&Bo(e.complete.bind(e))();break;case Ln.CANCELED:case Ln.ERROR:e.error&&Bo(e.error.bind(e,this._error))();break;default:e.error&&Bo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t){this._service=e,t instanceof wn?this._location=t:this._location=wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new qa(e,t)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qw(this._location.path)}get storage(){return this._service}get parent(){const e=qD(this._location.path);if(e===null)return null;const t=new wn(this._location.bucket,e);return new qa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw TD(e)}}function fk(i,e,t){return i._throwIfRoot("uploadBytesResumable"),new hk(i,new Ds(e),t)}function dk(i){const e={prefixes:[],items:[]};return Xw(i,e).then(()=>e)}async function Xw(i,e,t){const o=await mk(i,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await Xw(i,e,o.nextPageToken)}function mk(i,e){e!=null&&typeof e.maxResults=="number"&&_g("options.maxResults",1,1e3,e.maxResults);const t=e||{},s=tk(i.storage,i._location,"/",t.pageToken,t.maxResults);return i.storage.makeRequestWithTokens(s,Da)}function pk(i){i._throwIfRoot("getDownloadURL");const e=nk(i.storage,i._location,Fw());return i.storage.makeRequestWithTokens(e,Da).then(t=>{if(t===null)throw vD();return t})}function gk(i,e){const t=FD(i._location.path,e),s=new wn(i._location.bucket,t);return new qa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(i){return/^[A-Za-z]+:\/\//.test(i)}function _k(i,e){return new qa(i,e)}function Qw(i,e){if(i instanceof Oy){const t=i;if(t._bucket==null)throw yD();const s=new qa(t,t._bucket);return e!=null?Qw(s,e):s}else return e!==void 0?gk(i,e):i}function vk(i,e){if(e&&yk(e)){if(i instanceof Oy)return _k(i,e);throw yg("To use ref(service, url), the first argument must be a Storage instance.")}else return Qw(i,e)}function HT(i,e){const t=e?.[kw];return t==null?null:wn.makeFromBucketSpec(t,i)}function Ek(i,e,t,s={}){i.host=`${e}:${t}`;const o=Ws(e);o&&(Hg(`https://${i.host}/b`),qg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(i._overrideAuthToken=typeof l=="string"?l:Zb(l,i.app.options.projectId))}class Oy{constructor(e,t,s,o,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Dw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oD,this._maxUploadRetryTime=lD,this._requests=new Set,o!=null?this._bucket=wn.makeFromBucketSpec(o,this._host):this._bucket=HT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=HT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_g("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_g("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qa(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new bD(Vw());{const c=kD(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const qT="@firebase/storage",FT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="storage";function Tk(i,e,t){return i=Xt(i),fk(i,e,t)}function Jw(i){return i=Xt(i),dk(i)}function Dy(i){return i=Xt(i),pk(i)}function ky(i,e){return i=Xt(i),vk(i,e)}function Zw(i=$g(),e){i=Xt(i);const s=Hf(i,Ww).getImmediate({identifier:e}),o=Qb("storage");return o&&bk(s,...o),s}function bk(i,e,t,s={}){Ek(i,e,t,s)}function wk(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Oy(t,s,o,e,Ka)}function Sk(){za(new Fs(Ww,wk,"PUBLIC").setMultipleInstances(!0)),Bi(qT,FT,""),Bi(qT,FT,"esm2020")}Sk();function eS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ak=eS,tS=new Zu("auth","Firebase",eS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Fg("@firebase/auth");function Rk(i,...e){If.logLevel<=je.WARN&&If.warn(`Auth (${Ka}): ${i}`,...e)}function lf(i,...e){If.logLevel<=je.ERROR&&If.error(`Auth (${Ka}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(i,...e){throw My(i,...e)}function Ki(i,...e){return My(i,...e)}function nS(i,e,t){const s={...Ak(),[e]:t};return new Zu("auth","Firebase",s).create(e,{appName:i.name})}function qs(i){return nS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function My(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return tS.create(i,...e)}function we(i,e,...t){if(!i)throw My(e,...t)}function Ir(i){const e="INTERNAL ASSERTION FAILED: "+i;throw lf(e),new Error(e)}function Ur(i,e){i||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){return typeof self<"u"&&self.location?.href||""}function xk(){return GT()==="http:"||GT()==="https:"}function GT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xk()||gC()||"connection"in navigator)?navigator.onLine:!0}function Ik(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=dC()||yC()}get(){return Ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(i,e){Ur(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dk=new ac(3e4,6e4);function Za(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Js(i,e,t,s,o={}){return rS(i,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const m=ec({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...l};return pC()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ws(i.emulatorConfig.host)&&(g.credentials="include"),iS.fetch()(await sS(i,i.config.apiHost,t,m),g)})}async function rS(i,e,t){i._canInitEmulator=!1;const s={...Nk,...e};try{const o=new Mk(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Wh(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Wh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Wh(i,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw nS(i,v,g);Si(i,v)}}catch(o){if(o instanceof Ji)throw o;Si(i,"network-request-failed",{message:String(o)})}}async function nd(i,e,t,s,o={}){const l=await Js(i,e,t,s,o);return"mfaPendingCredential"in l&&Si(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function sS(i,e,t,s){const o=`${e}${t}?${s}`,l=i,c=l.config.emulator?Py(i.config,o):`${i.config.apiScheme}://${o}`;return Ok.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function kk(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ki(this.auth,"network-request-failed")),Dk.get())})}}function Wh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ki(i,e,s);return o.customData._tokenResponse=t,o}function $T(i){return i!==void 0&&i.enterprise!==void 0}class Pk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Lk(i,e){return Js(i,"GET","/v2/recaptchaConfig",Za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vk(i,e){return Js(i,"POST","/v1/accounts:delete",e)}async function Nf(i,e){return Js(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Uk(i,e=!1){const t=Xt(i),s=await t.getIdToken(e),o=Ly(s);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:Pu(Up(o.auth_time)),issuedAtTime:Pu(Up(o.iat)),expirationTime:Pu(Up(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Up(i){return Number(i)*1e3}function Ly(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yb(t);return o?JSON.parse(o):(lf("Failed to decode base64 JWT payload"),null)}catch(o){return lf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function KT(i){const e=Ly(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ji&&jk(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function jk({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(i){const e=i.auth,t=await i.getIdToken(),s=await Yu(i,Nf(e,{idToken:t}));we(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const l=o.providerUserInfo?.length?aS(o.providerUserInfo):[],c=Hk(i.providerData,l),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Eg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function Bk(i){const e=Xt(i);await Of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hk(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function aS(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(i,e){const t=await rS(i,{},async()=>{const s=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,c=await sS(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ws(i.emulatorConfig.host)&&(p.credentials="include"),iS.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Fk(i,e){return Js(i,"POST","/v2/accounts:revokeToken",Za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=KT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await qk(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new Xo;return s&&(we(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new zk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Eg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Yu(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Uk(this,e)}reload(){return Bk(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Of(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await Yu(this,Vk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:O,providerData:P,stsTokenManager:D}=t;we(T&&D,e,"internal-error");const k=Xo.fromJSON(this.name,D);we(typeof T=="string",e,"internal-error"),Os(s,e.name),Os(o,e.name),we(typeof w=="boolean",e,"internal-error"),we(typeof O=="boolean",e,"internal-error"),Os(l,e.name),Os(c,e.name),Os(m,e.name),Os(p,e.name),Os(g,e.name),Os(v,e.name);const V=new wi({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:c,phoneNumber:l,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:v});return P&&Array.isArray(P)&&(V.providerData=P.map(H=>({...H}))),p&&(V._redirectEventId=p),V}static async _fromIdTokenResponse(e,t,s=!1){const o=new Xo;o.updateFromServerResponse(t);const l=new wi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Of(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];we(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?aS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,m=new Xo;m.updateFromIdToken(s);const p=new wi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Eg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Map;function Nr(i){Ur(i instanceof Function,"Expected a class definition");let e=YT.get(i);return e?(Ur(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,YT.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oS.type="NONE";const XT=oS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(i,e,t){return`firebase:${i}:${e}:${t}`}class Qo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=uf(this.userKey,o.apiKey,l),this.fullPersistenceKey=uf("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nf(this.auth,{idToken:e}).catch(()=>{});return t?wi._fromGetAccountInfoResponse(this.auth,t,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Qo(Nr(XT),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Nr(XT);const c=uf(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const w=await Nf(e,{idToken:v}).catch(()=>{});if(!w)break;T=await wi._fromGetAccountInfoResponse(e,w,v)}else T=wi._fromJSON(e,v);g!==l&&(m=T),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Qo(l,e,s):(l=p[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Qo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dS(e))return"Blackberry";if(mS(e))return"Webos";if(uS(e))return"Safari";if((e.includes("chrome/")||cS(e))&&!e.includes("edge/"))return"Chrome";if(fS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function lS(i=pn()){return/firefox\//i.test(i)}function uS(i=pn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cS(i=pn()){return/crios\//i.test(i)}function hS(i=pn()){return/iemobile/i.test(i)}function fS(i=pn()){return/android/i.test(i)}function dS(i=pn()){return/blackberry/i.test(i)}function mS(i=pn()){return/webos/i.test(i)}function Vy(i=pn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Gk(i=pn()){return Vy(i)&&!!window.navigator?.standalone}function $k(){return _C()&&document.documentMode===10}function pS(i=pn()){return Vy(i)||fS(i)||mS(i)||dS(i)||/windows phone/i.test(i)||hS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(i,e=[]){let t;switch(i){case"Browser":t=QT(pn());break;case"Worker":t=`${QT(pn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ka}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,m)=>{try{const p=e(l);c(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(i,e={}){return Js(i,"GET","/v2/passwordPolicy",Za(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=6;class Qk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Xk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WT(this),this.idTokenSubscription=new WT(this),this.beforeStateQueue=new Kk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Nr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nf(this,{idToken:e}),s=await wi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Of(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ik()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(qs(this));const t=e?Xt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yk(this),t=new Qk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Fk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Nr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Rk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function gl(i){return Xt(i)}class WT{constructor(e){this.auth=e,this.observer=null,this.addObserver=RC(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jk(i){id=i}function yS(i){return id.loadJS(i)}function Zk(){return id.recaptchaEnterpriseScript}function e3(){return id.gapiScript}function t3(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class n3{constructor(){this.enterprise=new i3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class i3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const r3="recaptcha-enterprise",_S="NO_RECAPTCHA";class s3{constructor(e){this.type=r3,this.auth=gl(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{Lk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Pk(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(l,c,m){const p=window.grecaptcha;$T(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(_S)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n3().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(m=>{if(!t&&$T(window.grecaptcha))o(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Zk();p.length!==0&&(p+=m),yS(p).then(()=>{o(m,l,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function JT(i,e,t,s=!1,o=!1){const l=new s3(i);let c;if(o)c=_S;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ZT(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await JT(i,e,t,t==="getOobCode");return s(i,l)}else return s(i,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await JT(i,e,t,t==="getOobCode");return s(i,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(i,e){const t=Hf(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(ja(l,e??{}))return o;Si(o,"already-initialized")}return t.initialize({options:e})}function o3(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Nr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function l3(i,e,t){const s=gl(i);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=vS(e),{host:c,port:m}=u3(e),p=m===null?"":`:${m}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(ja(g,s.config.emulator)&&ja(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ws(c)?(Hg(`${l}//${c}${p}`),qg("Auth",!0)):c3()}function vS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function u3(i){const e=vS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:eb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:eb(c)}}}function eb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function c3(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function h3(i,e){return Js(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(i,e){return nd(i,"POST","/v1/accounts:signInWithPassword",Za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3(i,e){return nd(i,"POST","/v1/accounts:signInWithEmailLink",Za(i,e))}async function m3(i,e){return nd(i,"POST","/v1/accounts:signInWithEmailLink",Za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Uy{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Xu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Xu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZT(e,t,"signInWithPassword",f3);case"emailLink":return d3(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZT(e,s,"signUpPassword",h3);case"emailLink":return m3(e,{idToken:t,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(i,e){return nd(i,"POST","/v1/accounts:signInWithIdp",Za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="http://localhost";class Fa extends Uy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const c=new Fa(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wo(e,t)}buildRequest(){const e={requestUri:p3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ec(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y3(i){const e=bu(wu(i)).link,t=e?bu(wu(e)).deep_link_id:null,s=bu(wu(i)).deep_link_id;return(s?bu(wu(s)).link:null)||s||t||e||i}class jy{constructor(e){const t=bu(wu(e)),s=t.apiKey??null,o=t.oobCode??null,l=g3(t.mode??null);we(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=y3(e);try{return new jy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.providerId=yl.PROVIDER_ID}static credential(e,t){return Xu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=jy.parseLink(t);return we(s,"argument-error"),Xu._fromEmailAndCode(e,s.code,s.tenantId)}}yl.PROVIDER_ID="password";yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends ES{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends oc{constructor(){super("facebook.com")}static credential(e){return Fa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fa._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Ms.credential(t,s)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends oc{constructor(){super("github.com")}static credential(e){return Fa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends oc{constructor(){super("twitter.com")}static credential(e,t){return Fa._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ls.credential(t,s)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await wi._fromIdTokenResponse(e,s,o),c=tb(s);return new rl({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=tb(s);return new rl({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function tb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Ji{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Df(e,t,s,o)}}function TS(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(i,l,e,s):l})}async function _3(i,e,t=!1){const s=await Yu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return rl._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(i,e,t=!1){const{auth:s}=i;if(ui(s.app))return Promise.reject(qs(s));const o="reauthenticate";try{const l=await Yu(i,TS(s,o,e,i),t);we(l.idToken,s,"internal-error");const c=Ly(l.idToken);we(c,s,"internal-error");const{sub:m}=c;return we(i.uid===m,s,"user-mismatch"),rl._forOperation(i,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Si(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(i,e,t=!1){if(ui(i.app))return Promise.reject(qs(i));const s="signIn",o=await TS(i,s,e),l=await rl._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}async function E3(i,e){return bS(gl(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(i){const e=gl(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function b3(i,e,t){return ui(i.app)?Promise.reject(qs(i)):E3(Xt(i),yl.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&T3(i),s})}function w3(i,e,t,s){return Xt(i).onIdTokenChanged(e,t,s)}function S3(i,e,t){return Xt(i).beforeAuthStateChanged(e,t)}function rd(i,e,t,s){return Xt(i).onAuthStateChanged(e,t,s)}function A3(i){return Xt(i).signOut()}const kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kf,"1"),this.storage.removeItem(kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=1e3,x3=10;class SS extends wS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);$k()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,x3):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SS.type="LOCAL";const C3=SS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends wS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AS.type="SESSION";const RS=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new sd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,l)),p=await I3(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((m,p)=>{const g=zy("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(w.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function O3(i){Yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function D3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k3(){return navigator?.serviceWorker?.controller||null}function M3(){return xS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="firebaseLocalStorageDb",P3=1,Mf="firebaseLocalStorage",IS="fbase_key";class lc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ad(i,e){return i.transaction([Mf],e?"readwrite":"readonly").objectStore(Mf)}function L3(){const i=indexedDB.deleteDatabase(CS);return new lc(i).toPromise()}function Tg(){const i=indexedDB.open(CS,P3);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Mf,{keyPath:IS})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Mf)?e(s):(s.close(),await L3(),e(await Tg()))})})}async function nb(i,e,t){const s=ad(i,!0).put({[IS]:e,value:t});return new lc(s).toPromise()}async function V3(i,e){const t=ad(i,!1).get(e),s=await new lc(t).toPromise();return s===void 0?null:s.value}function ib(i,e){const t=ad(i,!0).delete(e);return new lc(t).toPromise()}const U3=800,j3=3;class NS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>j3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(M3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await D3(),!this.activeServiceWorker)return;this.sender=new N3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await nb(e,kf,"1"),await ib(e,kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>nb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>V3(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ib(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=ad(o,!1).getAll();return new lc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NS.type="LOCAL";const z3=NS;new ac(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(i,e){return e?Nr(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends Uy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function H3(i){return bS(i.auth,new By(i),i.bypassAuthState)}function q3(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),v3(t,new By(i),i.bypassAuthState)}async function F3(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),_3(t,new By(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H3;case"linkViaPopup":case"linkViaRedirect":return F3;case"reauthViaPopup":case"reauthViaRedirect":return q3;default:Si(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new ac(2e3,1e4);class Ko extends OS{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=zy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G3.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="pendingRedirect",cf=new Map;class K3 extends OS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const s=await Y3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y3(i,e){const t=W3(e),s=Q3(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function X3(i,e){cf.set(i._key(),e)}function Q3(i){return Nr(i._redirectPersistence)}function W3(i){return uf($3,i.config.apiKey,i.name)}async function J3(i,e,t=!1){if(ui(i.app))return Promise.reject(qs(i));const s=gl(i),o=B3(s,e),c=await new K3(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=10*60*1e3;class eM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!DS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ki(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z3&&this.cachedEventUids.clear(),this.cachedEventUids.has(rb(e))}saveEventToCache(e){this.cachedEventUids.add(rb(e)),this.lastProcessedEventTime=Date.now()}}function rb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function DS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function tM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(i,e={}){return Js(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rM=/^https?/;async function sM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await nM(i);for(const t of e)try{if(aM(t))return}catch{}Si(i,"unauthorized-domain")}function aM(i){const e=vg(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!rM.test(t))return!1;if(iM.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new ac(3e4,6e4);function sb(){const i=Yi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function lM(i){return new Promise((e,t)=>{function s(){sb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sb(),t(Ki(i,"network-request-failed"))},timeout:oM.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)s();else{const o=t3("iframefcb");return Yi()[o]=()=>{gapi.load?s():t(Ki(i,"network-request-failed"))},yS(`${e3()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw hf=null,e})}let hf=null;function uM(i){return hf=hf||lM(i),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new ac(5e3,15e3),hM="__/auth/iframe",fM="emulator/auth/iframe",dM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pM(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Py(e,fM):`https://${i.config.authDomain}/${hM}`,s={apiKey:e.apiKey,appName:i.name,v:Ka},o=mM.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${ec(s).slice(1)}`}async function gM(i){const e=await uM(i),t=Yi().gapi;return we(t,i,"internal-error"),e.open({where:document.body,url:pM(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dM,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=Ki(i,"network-request-failed"),m=Yi().setTimeout(()=>{l(c)},cM.get());function p(){Yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_M=500,vM=600,EM="_blank",TM="http://localhost";class ab{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bM(i,e,t,s=_M,o=vM){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...yM,width:s.toString(),height:o.toString(),top:l,left:c},g=pn().toLowerCase();t&&(m=cS(g)?EM:t),lS(g)&&(e=e||TM,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[O,P])=>`${w}${O}=${P},`,"");if(Gk(g)&&m!=="_self")return wM(e||"",m),new ab(null);const T=window.open(e||"",m,v);we(T,i,"popup-blocked");try{T.focus()}catch{}return new ab(T)}function wM(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="__/auth/handler",AM="emulator/auth/handler",RM=encodeURIComponent("fac");async function ob(i,e,t,s,o,l){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ka,eventId:o};if(e instanceof ES){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",AC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof oc){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${RM}=${encodeURIComponent(p)}`:"";return`${xM(i)}?${ec(m).slice(1)}${g}`}function xM({config:i}){return i.emulator?Py(i,AM):`https://${i.authDomain}/${SM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="webStorageSupport";class CM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RS,this._completeRedirectFn=J3,this._overrideRedirectResult=X3}async _openPopup(e,t,s,o){Ur(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ob(e,t,s,vg(),o);return bM(e,l,zy())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await ob(e,t,s,vg(),o);return O3(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ur(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await gM(e),s=new eM(e);return t.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jp,{type:jp},o=>{const l=o?.[0]?.[jp];l!==void 0&&t(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pS()||uS()||Vy()}}const IM=CM;var lb="@firebase/auth",ub="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DM(i){za(new Fs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gS(i)},g=new Wk(s,o,l,p);return o3(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),za(new Fs("auth-internal",e=>{const t=gl(e.getProvider("auth").getImmediate());return(s=>new NM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(lb,ub,OM(i)),Bi(lb,ub,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=5*60,MM=Jb("authIdTokenMaxAge")||kM;let cb=null;const PM=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>MM)return;const o=t?.token;cb!==o&&(cb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function LM(i=$g()){const e=Hf(i,"auth");if(e.isInitialized())return e.getImmediate();const t=a3(i,{popupRedirectResolver:IM,persistence:[z3,C3,RS]}),s=Jb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=PM(l.toString());S3(t,c,()=>c(t.currentUser)),w3(t,m=>c(m))}}const o=Xb("auth");return o&&l3(t,`http://${o}`),t}function VM(){return document.getElementsByTagName("head")?.[0]??document}Jk({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=Ki("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",VM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DM("Browser");const UM={apiKey:"AIzaSyC7-csoZhhfuwiDUjT2bzg1vzjmDFdFOZ8",authDomain:"airbrushnink-9f735.firebaseapp.com",projectId:"airbrushnink-9f735",storageBucket:"airbrushnink-9f735.firebasestorage.app",messagingSenderId:"215988959144",appId:"1:215988959144:web:112df869e6d191c0970f9d"},Hy=n1(UM),sl=LM(Hy),kS=Zw(Hy),bg=zO(Hy),Lu={heroImages:[],services:[{tag:"AIRBRUSH",title:"Custom Airbrush",description:"Every airbrush project is a story told in paint. Whether its a wild concept or something close to home, I create custom visuals that speak louder than words.",image:"",link:"/portfolio/airbrush"},{tag:"DIGITAL",title:"Photoshop/Digital Art",description:`This is where creativity gets surgical. I use Photoshop to craft visuals that feel real  layered, emotional, and built to connect. Every pixel tells a story.

Have a special request or an image youd like transformed? Reach out through my contact page and lets bring your vision to life.`,image:"",link:"/portfolio/photoshop"}]};function jM(){const[i,e]=b.useState(Lu),t=i.heroImages||[],s=b.useRef(null),o=b.useRef(null),[l,c]=b.useState(!1),[m,p]=b.useState(!1);return b.useEffect(()=>{let g=!0;return(async()=>{try{const v=await Ow(gg(bg,"siteContent","home"));if(!g)return;if(v.exists()){const T=v.data();e({heroImages:Array.isArray(T.heroImages)&&T.heroImages.length?T.heroImages:Lu.heroImages,services:Array.isArray(T.services)&&T.services.length?T.services:Lu.services})}}catch{}})(),()=>{g=!1}},[]),b.useEffect(()=>{if(!t.length)return;const g=setInterval(()=>{},5e3);return()=>clearInterval(g)},[t.length]),b.useEffect(()=>{const g=new IntersectionObserver(([T])=>c(T.isIntersecting),{threshold:.2}),v=s.current;return v&&g.observe(v),()=>v&&g.unobserve(v)},[]),b.useEffect(()=>{const g=new IntersectionObserver(([T])=>p(T.isIntersecting),{threshold:.05}),v=o.current;return v&&g.observe(v),()=>v&&g.unobserve(v)},[]),b.useEffect(()=>{sessionStorage.getItem("scrollToServices")&&(sessionStorage.removeItem("scrollToServices"),setTimeout(()=>{const T=document.getElementById("services");if(T){const O=T.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:O,behavior:"smooth"})}},500))},[]),C.jsxs("div",{className:"relative z-0",children:[t.length>0&&C.jsx(Jx,{images:t,intervalMs:5e3}),C.jsxs("section",{className:"relative min-h-[30vh]",ref:s,children:[C.jsx(OE,{text:"AIRBRUSH",show:l}),C.jsx(Zx,{})]}),C.jsx("section",{id:"services",className:"relative z-10 mt-[2vh] px-8 pt-5",children:C.jsx("div",{className:"flex flex-wrap justify-center gap-x-20 gap-y-12",children:i.services.map((g,v)=>C.jsx(eC,{tag:g.tag,title:g.title,description:g.description,image:g.image,link:g.link},`${g.title}-${v}`))})}),C.jsxs("section",{ref:o,className:"relative flex flex-col items-center justify-center min-h-[20vh] overflow-hidden",children:[C.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 z-0 w-full text-center",children:C.jsx(OE,{text:"& INK",show:m})}),C.jsx("div",{className:"relative z-10 mt-4",children:C.jsx(tC,{})})]})]})}const MS="carousel",PS="controller",zM="navigation",BM="no-scroll",qy="portal",HM="root",LS="toolbar",zp="loading",Bp="error",Hp="complete",qM="placeholder",FM=i=>`active-slide-${i}`,VS="flex_center",GM="no_scroll",US="no_scroll_padding",Fy="slide",$M="slide_wrapper",ka="prev",Ma="next",hb="swipe",al="close",jS="onPointerDown",zS="onPointerMove",BS="onPointerUp",HS="onPointerLeave",qS="onPointerCancel",FS="onKeyDown",KM="onKeyUp",GS="onWheel",YM="Escape",XM="ArrowLeft",QM="ArrowRight",WM="button",wg="icon",$S="contain",fb="cover",JM="Unknown action type",KS="yarl__";function kr(...i){return[...i].filter(Boolean).join(" ")}function Qe(i){return`${KS}${i}`}function Vn(i){return`--${KS}${i}`}function uc(i,e){return`${i}${e?`_${e}`:""}`}function Gy(i){return e=>uc(i,e)}function ol(i,e){var t;return(t=i?.[e])!==null&&t!==void 0?t:e}function ZM(i,e,t){return ol(i,"{index} of {total}").replace(/\{index}/g,`${$y(t,e.length)+1}`).replace(/\{total}/g,`${e.length}`)}function YS(...i){return()=>{i.forEach(e=>{e()})}}function Zs(i,e,t){return()=>{const s=b.useContext(t);if(!s)throw new Error(`${i} must be used within a ${e}.Provider`);return s}}function XS(){return typeof window<"u"}function eP(i,e=0){const t=10**e;return Math.round((i+Number.EPSILON)*t)/t}function QS(i){return i.type===void 0||i.type==="image"}function tP(i,e){return i.imageFit===fb||i.imageFit!==$S&&e===fb}function od(i){return typeof i=="string"?Number.parseInt(i,10):i}function Pf(i){if(typeof i=="number")return{pixel:i};if(typeof i=="string"){const e=od(i);return i.endsWith("%")?{percent:e}:{pixel:e}}return{pixel:0}}function nP(i,e){const t=Pf(e),s=t.percent!==void 0?i.width/100*t.percent:t.pixel;return{width:Math.max(i.width-2*s,0),height:Math.max(i.height-2*s,0)}}function $y(i,e){return e>0?(i%e+e)%e:0}function WS(i){return i.length>0}function JS(i,e){return i[$y(e,i.length)]}function Sg(i,e){return WS(i)?JS(i,e):void 0}function iP(i){return QS(i)?i.src:void 0}function rP(i,e,t=0){return Math.min(i.preload,Math.max(i.finite?e.length-1:Math.floor(e.length/2),t))}const sP=Number(b.version.split(".")[0])>=19;function aP(i){return{inert:sP?i:i?"":void 0}}function oP(i){i.scrollTop}const Ag={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[al]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:$S,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function eo(i,e){return{name:i,component:e}}function $t(i,e){return{module:i,children:e}}function ZS(i,e,t){return i.module.name===e?t(i):i.children?[$t(i.module,i.children.flatMap(s=>{var o;return(o=ZS(s,e,t))!==null&&o!==void 0?o:[]}))]:[i]}function Ho(i,e,t){return i.flatMap(s=>{var o;return(o=ZS(s,e,t))!==null&&o!==void 0?o:[]})}function lP(i,e=[],t=[]){let s=i;const o=O=>{const P=[...s];for(;P.length>0;){const D=P.pop();if(D?.module.name===O)return!0;D?.children&&P.push(...D.children)}return!1},l=(O,P)=>{if(O===""){s=[$t(P,s)];return}s=Ho(s,O,D=>[$t(P,[D])])},c=(O,P)=>{s=Ho(s,O,D=>[$t(D.module,[$t(P,D.children)])])},m=(O,P,D)=>{s=Ho(s,O,k=>{var V;return[$t(k.module,[...D?[$t(P)]:[],...(V=k.children)!==null&&V!==void 0?V:[],...D?[]:[$t(P)]])]})},p=(O,P,D)=>{s=Ho(s,O,k=>[...D?[$t(P)]:[],k,...D?[]:[$t(P)]])},g=O=>{c(PS,O)},v=(O,P)=>{s=Ho(s,O,D=>[$t(P,D.children)])},T=O=>{s=Ho(s,O,P=>P.children)},w=O=>{t.push(O)};return e.forEach(O=>{O({contains:o,addParent:l,append:c,addChild:m,addSibling:p,addModule:g,replace:v,remove:T,augment:w})}),{config:s,augmentation:O=>t.reduce((P,D)=>D(P),O)}}const eA=b.createContext(null),tA=Zs("useA11yContext","A11yContext",eA);function uP({children:i}){const[e,t]=b.useState(!1),[s,o]=b.useState(!1),l=b.useMemo(()=>({focusWithin:e,trackFocusWithin:(m,p)=>{const g=v=>T=>{var w;T.currentTarget.contains(T.relatedTarget)||t(v),(w=v?m:p)===null||w===void 0||w(T)};return{onFocus:g(!0),onBlur:g(!1)}},autoPlaying:s,setAutoPlaying:o}),[e,s]);return b.createElement(eA.Provider,{value:l},i)}const nA=b.createContext(null),Ky=Zs("useDocument","DocumentContext",nA);function cP({nodeRef:i,children:e}){const t=b.useMemo(()=>{const s=l=>{var c;return((c=l||i.current)===null||c===void 0?void 0:c.ownerDocument)||document};return{getOwnerDocument:s,getOwnerWindow:l=>{var c;return((c=s(l))===null||c===void 0?void 0:c.defaultView)||window}}},[i]);return b.createElement(nA.Provider,{value:t},e)}const iA=b.createContext(null),ld=Zs("useEvents","EventsContext",iA);function hP({children:i}){const[e]=b.useState({});b.useEffect(()=>()=>{Object.keys(e).forEach(s=>delete e[s])},[e]);const t=b.useMemo(()=>{const s=(c,m)=>{var p;(p=e[c])===null||p===void 0||p.splice(0,e[c].length,...e[c].filter(g=>g!==m))};return{publish:(...[c,m])=>{var p;(p=e[c])===null||p===void 0||p.forEach(g=>g(m))},subscribe:(c,m)=>(e[c]||(e[c]=[]),e[c].push(m),()=>s(c,m)),unsubscribe:s}},[e]);return b.createElement(iA.Provider,{value:t},i)}const rA=b.createContext(null),cc=Zs("useLightboxProps","LightboxPropsContext",rA);function fP({children:i,...e}){return b.createElement(rA.Provider,{value:e},i)}const sA=b.createContext(null),ud=Zs("useLightboxState","LightboxStateContext",sA),aA=b.createContext(null),dP=Zs("useLightboxDispatch","LightboxDispatchContext",aA);function mP(i,e){switch(e.type){case"swipe":{const{slides:t}=i,s=e?.increment||0,o=i.globalIndex+s,l=$y(o,t.length),c=Sg(t,l),m=s||e.duration!==void 0?{increment:s,duration:e.duration,easing:e.easing}:void 0;return{slides:t,currentIndex:l,globalIndex:o,currentSlide:c,animation:m}}case"update":return e.slides!==i.slides||e.index!==i.currentIndex?{slides:e.slides,currentIndex:e.index,globalIndex:e.index,currentSlide:Sg(e.slides,e.index)}:i;default:throw new Error(JM)}}function pP({slides:i,index:e,children:t}){const[s,o]=b.useReducer(mP,{slides:i,currentIndex:e,globalIndex:e,currentSlide:Sg(i,e)});b.useEffect(()=>{o({type:"update",slides:i,index:e})},[i,e]);const l=b.useMemo(()=>({...s,state:s,dispatch:o}),[s,o]);return b.createElement(aA.Provider,{value:o},b.createElement(sA.Provider,{value:l},t))}const oA=b.createContext(null),cd=Zs("useTimeouts","TimeoutsContext",oA);function gP({children:i}){const[e]=b.useState([]);b.useEffect(()=>()=>{e.forEach(s=>window.clearTimeout(s)),e.splice(0,e.length)},[e]);const t=b.useMemo(()=>{const s=c=>{e.splice(0,e.length,...e.filter(m=>m!==c))};return{setTimeout:(c,m)=>{const p=window.setTimeout(()=>{s(p),c()},m);return e.push(p),p},clearTimeout:c=>{c!==void 0&&(s(c),window.clearTimeout(c))}}},[e]);return b.createElement(oA.Provider,{value:t},i)}const lA=b.forwardRef(function({label:e,className:t,icon:s,renderIcon:o,onClick:l,style:c,...m},p){const{styles:g,labels:v}=cc(),T=ol(v,e);return b.createElement("button",{ref:p,type:"button",title:T,"aria-label":T,className:kr(Qe(WM),t),onClick:l,style:{...c,...g.button},...m},o?o():b.createElement(s,{className:Qe(wg),style:g.icon}))});function yP(i,e){const t=s=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...s},e);return t.displayName=i,t}function hc(i,e){return yP(i,b.createElement("g",{fill:"currentColor"},b.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),e))}const _P=hc("Close",b.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),vP=hc("Previous",b.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),EP=hc("Next",b.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),TP=hc("Loading",b.createElement(b.Fragment,null,Array.from({length:8}).map((i,e,t)=>b.createElement("line",{key:e,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/t.length*(e+1),transform:`rotate(${360/t.length*e}, 12, 12)`})))),bP=hc("Error",b.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),fc=XS()?b.useLayoutEffect:b.useEffect;function uA(){const[i,e]=b.useState(!1);return b.useEffect(()=>{var t,s;const o=(t=window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-reduced-motion: reduce)");e(o?.matches);const l=c=>e(c.matches);return(s=o?.addEventListener)===null||s===void 0||s.call(o,"change",l),()=>{var c;return(c=o?.removeEventListener)===null||c===void 0?void 0:c.call(o,"change",l)}},[]),i}function wP(i){let e=0,t=0,s=0;const l=window.getComputedStyle(i).transform.match(/matrix.*\((.+)\)/);if(l){const c=l[1].split(",").map(od);c.length===6?(e=c[4],t=c[5]):c.length===16&&(e=c[12],t=c[13],s=c[14])}return{x:e,y:t,z:s}}function db(i,e){const t=b.useRef(void 0),s=b.useRef(void 0),o=uA();return fc(()=>{var l,c,m;if(i.current&&t.current!==void 0&&!o){const{keyframes:p,duration:g,easing:v,onfinish:T}=e(t.current,i.current.getBoundingClientRect(),wP(i.current))||{};if(p&&g){(l=s.current)===null||l===void 0||l.cancel(),s.current=void 0;try{s.current=(m=(c=i.current).animate)===null||m===void 0?void 0:m.call(c,p,{duration:g,easing:v})}catch(w){console.error(w)}s.current&&(s.current.onfinish=()=>{s.current=void 0,T?.()})}}t.current=void 0}),{prepareAnimation:l=>{t.current=l},isAnimationPlaying:()=>{var l;return((l=s.current)===null||l===void 0?void 0:l.playState)==="running"}}}function cA(){const i=b.useRef(null),e=b.useRef(void 0),[t,s]=b.useState();return{setContainerRef:b.useCallback(l=>{i.current=l,e.current&&(e.current.disconnect(),e.current=void 0);const c=()=>{if(l){const m=window.getComputedStyle(l),p=g=>parseFloat(g)||0;s({width:Math.round(l.clientWidth-p(m.paddingLeft)-p(m.paddingRight)),height:Math.round(l.clientHeight-p(m.paddingTop)-p(m.paddingBottom))})}else s(void 0)};c(),l&&typeof ResizeObserver<"u"&&(e.current=new ResizeObserver(c),e.current.observe(l))},[]),containerRef:i,containerRect:t}}function ff(){const i=b.useRef(void 0),{setTimeout:e,clearTimeout:t}=cd();return b.useCallback((s,o)=>{t(i.current),i.current=e(s,o>0?o:0)},[e,t])}function Vt(i){const e=b.useRef(i);return fc(()=>{e.current=i}),b.useCallback((...t)=>{var s;return(s=e.current)===null||s===void 0?void 0:s.call(e,...t)},[])}function mb(i,e){typeof i=="function"?i(e):i&&(i.current=e)}function Rg(i,e){return b.useMemo(()=>i==null&&e==null?null:t=>{mb(i,t),mb(e,t)},[i,e])}function SP(i,e=!1){const t=b.useRef(!1);fc(()=>{e&&t.current&&(t.current=!1,i())},[e,i]);const s=b.useCallback(()=>{t.current=!0},[]),o=b.useCallback(()=>{t.current=!1},[]);return{onFocus:s,onBlur:o}}function Yy(){const[i,e]=b.useState(!1);return fc(()=>{e(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),i}function AP(){const[i]=b.useState({}),e=b.useCallback((o,l)=>{var c;(c=i[o])===null||c===void 0||c.forEach(m=>{l.isPropagationStopped()||m(l)})},[i]),t=b.useMemo(()=>({onPointerDown:o=>e(jS,o),onPointerMove:o=>e(zS,o),onPointerUp:o=>e(BS,o),onPointerLeave:o=>e(HS,o),onPointerCancel:o=>e(qS,o),onKeyDown:o=>e(FS,o),onKeyUp:o=>e(KM,o),onWheel:o=>e(GS,o)}),[e]),s=b.useCallback((o,l)=>(i[o]||(i[o]=[]),i[o].unshift(l),()=>{const c=i[o];c&&c.splice(0,c.length,...c.filter(m=>m!==l))}),[i]);return{registerSensors:t,subscribeSensors:s}}function pb(i,e){const t=b.useRef(0),s=ff(),o=Vt((...l)=>{t.current=Date.now(),i(l)});return b.useCallback((...l)=>{s(()=>{o(l)},e-(Date.now()-t.current))},[e,o,s])}const qp=Gy("slide"),Fp=Gy("slide_image");function RP({slide:i,offset:e,render:t,rect:s,imageFit:o,imageProps:l,onClick:c,onLoad:m,onError:p,style:g}){var v,T,w,O,P,D,k,V;const[H,F]=b.useState(zp),{publish:te}=ld(),{setTimeout:J}=cd(),ie=b.useRef(null);b.useEffect(()=>{e===0&&te(FM(H))},[e,H,te]);const R=Vt(Q=>{("decode"in Q?Q.decode():Promise.resolve()).catch(()=>{}).then(()=>{Q.parentNode&&(F(Hp),J(()=>{m?.(Q)},0))})}),A=b.useCallback(Q=>{ie.current=Q,Q?.complete&&R(Q)},[R]),I=b.useCallback(Q=>{R(Q.currentTarget)},[R]),M=Vt(()=>{F(Bp),p?.()}),L=tP(i,o),B=(Q,ue)=>Number.isFinite(Q)?Q:ue,N=B(Math.max(...((T=(v=i.srcSet)===null||v===void 0?void 0:v.map(Q=>Q.width))!==null&&T!==void 0?T:[]).concat(i.width?[i.width]:[]).filter(Boolean)),((w=ie.current)===null||w===void 0?void 0:w.naturalWidth)||0),Ae=B(Math.max(...((P=(O=i.srcSet)===null||O===void 0?void 0:O.map(Q=>Q.height))!==null&&P!==void 0?P:[]).concat(i.height?[i.height]:[]).filter(Boolean)),((D=ie.current)===null||D===void 0?void 0:D.naturalHeight)||0),_e=N&&Ae?{maxWidth:`min(${N}px, 100%)`,maxHeight:`min(${Ae}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},q=(k=i.srcSet)===null||k===void 0?void 0:k.sort((Q,ue)=>Q.width-ue.width).map(Q=>`${Q.src} ${Q.width}w`).join(", "),X=()=>s&&!L&&i.width&&i.height?s.height/i.height*i.width:Number.MAX_VALUE,oe=q&&s&&XS()?`${Math.round(Math.min(X(),s.width))}px`:void 0,{style:pe,className:Re,...j}=l||{};return b.createElement(b.Fragment,null,b.createElement("img",{ref:A,onLoad:I,onError:M,onClick:c,draggable:!1,className:kr(Qe(Fp()),L&&Qe(Fp("cover")),H!==Hp&&Qe(Fp("loading")),Re),style:{..._e,...g,...pe},...j,alt:(V=i.alt)!==null&&V!==void 0?V:"",sizes:oe,srcSet:q,src:i.src}),H!==Hp&&b.createElement("div",{className:Qe(qp(qM))},H===zp&&(t?.iconLoading?t.iconLoading():b.createElement(TP,{className:kr(Qe(wg),Qe(qp(zp)))})),H===Bp&&(t?.iconError?t.iconError():b.createElement(bP,{className:kr(Qe(wg),Qe(qp(Bp)))}))))}const xP=b.forwardRef(function({className:e,children:t,onFocus:s,onBlur:o,...l},c){const m=b.useRef(null),{trackFocusWithin:p}=tA();return b.createElement(cP,{nodeRef:m},b.createElement("div",{ref:Rg(c,m),className:kr(Qe("root"),e),...p(s,o),...l},t))});var fn;(function(i){i[i.NONE=0]="NONE",i[i.SWIPE=1]="SWIPE",i[i.PULL=2]="PULL",i[i.ANIMATION=3]="ANIMATION"})(fn||(fn={}));function CP(i,e,t,s,o){b.useEffect(()=>YS(i(jS,e),i(zS,t),i(BS,s),i(HS,s),i(qS,s)),[i,e,t,s,o])}var Ti;(function(i){i[i.NONE=0]="NONE",i[i.SWIPE=1]="SWIPE",i[i.PULL=2]="PULL"})(Ti||(Ti={}));const Gp=30;function IP({disableSwipeNavigation:i,closeOnBackdropClick:e},t,s,o,l,c,m,p,g,v,T,w,O,P,D,k){const V=b.useRef(0),H=b.useRef([]),F=b.useRef(void 0),te=b.useRef(0),J=b.useRef(Ti.NONE),ie=b.useCallback(N=>{F.current===N.pointerId&&(F.current=void 0,J.current=Ti.NONE);const Ae=H.current;Ae.splice(0,Ae.length,...Ae.filter(_e=>_e.pointerId!==N.pointerId))},[]),R=b.useCallback(N=>{ie(N),N.persist(),H.current.push(N)},[ie]),A=b.useCallback(N=>H.current.find(({pointerId:Ae})=>N.pointerId===Ae),[]),I=Vt(N=>{R(N)}),M=(N,Ae)=>T&&N>Ae||v&&N<-Ae,L=Vt(N=>{const Ae=A(N);if(Ae)if(F.current===N.pointerId){const _e=Date.now()-te.current,q=V.current;J.current===Ti.SWIPE?Math.abs(q)>.3*o||Math.abs(q)>5&&_e<l?p(q,_e):g(q):J.current===Ti.PULL&&(M(q,2*Gp)?P(q,_e):D(q)),V.current=0,J.current=Ti.NONE}else{const{target:_e}=N;e&&_e instanceof HTMLElement&&_e===Ae.target&&(_e.classList.contains(Qe(Fy))||_e.classList.contains(Qe($M)))&&k()}ie(N)}),B=Vt(N=>{const Ae=A(N);if(Ae){const _e=F.current===N.pointerId;if(N.buttons===0){_e&&V.current!==0?L(N):ie(Ae);return}const q=N.clientX-Ae.clientX,X=N.clientY-Ae.clientY;if(F.current===void 0){const oe=pe=>{R(N),F.current=N.pointerId,te.current=Date.now(),J.current=pe};Math.abs(q)>Math.abs(X)&&Math.abs(q)>Gp&&s(q)?i||(oe(Ti.SWIPE),c()):Math.abs(X)>Math.abs(q)&&M(X,Gp)&&(oe(Ti.PULL),w())}else _e&&(J.current===Ti.SWIPE?(V.current=q,m(q)):J.current===Ti.PULL&&(V.current=X,O(X)))}});CP(t,I,B,L)}function NP({preventDefaultWheelX:i,preventDefaultWheelY:e}){const t=b.useRef(null),s=Vt(o=>{const l=Math.abs(o.deltaX)>Math.abs(o.deltaY);(l&&i||!l&&e||o.ctrlKey)&&o.preventDefault()});return b.useCallback(o=>{var l;o?o.addEventListener("wheel",s,{passive:!1}):(l=t.current)===null||l===void 0||l.removeEventListener("wheel",s),t.current=o},[s])}function OP(i,e,t,s,o,l,c,m,p){const g=b.useRef(0),v=b.useRef(0),T=b.useRef(void 0),w=b.useRef(void 0),O=b.useRef(0),P=b.useRef(void 0),D=b.useRef(0),{setTimeout:k,clearTimeout:V}=cd(),H=b.useCallback(()=>{T.current&&(V(T.current),T.current=void 0)},[V]),F=b.useCallback(()=>{w.current&&(V(w.current),w.current=void 0)},[V]),te=Vt(()=>{i!==fn.SWIPE&&(g.current=0,D.current=0,H(),F())});b.useEffect(te,[i,te]);const J=Vt(R=>{w.current=void 0,g.current===R&&p(g.current)}),ie=Vt(R=>{if(R.ctrlKey||Math.abs(R.deltaY)>Math.abs(R.deltaX))return;const A=I=>{O.current=I,V(P.current),P.current=I>0?k(()=>{O.current=0,P.current=void 0},300):void 0};if(i===fn.NONE){if(Math.abs(R.deltaX)<=1.2*Math.abs(O.current)){A(R.deltaX);return}if(!t(-R.deltaX))return;if(v.current+=R.deltaX,H(),Math.abs(v.current)>30)v.current=0,A(0),D.current=Date.now(),l();else{const I=v.current;T.current=k(()=>{T.current=void 0,I===v.current&&(v.current=0)},o)}}else if(i===fn.SWIPE){let I=g.current-R.deltaX;if(I=Math.min(Math.abs(I),s)*Math.sign(I),g.current=I,c(I),F(),Math.abs(I)>.2*s){A(R.deltaX),m(I,Date.now()-D.current);return}w.current=k(()=>J(I),2*o)}else A(R.deltaX)});b.useEffect(()=>e(GS,ie),[e,ie])}const gb=Gy("container"),hA=b.createContext(null),dc=Zs("useController","ControllerContext",hA);function DP({children:i,...e}){var t;const{carousel:s,animation:o,controller:l,on:c,styles:m,render:p}=e,{closeOnPullUp:g,closeOnPullDown:v,preventDefaultWheelX:T,preventDefaultWheelY:w}=l,[O,P]=b.useState(),D=ud(),k=dP(),[V,H]=b.useState(fn.NONE),F=b.useRef(0),te=b.useRef(0),J=b.useRef(1),{registerSensors:ie,subscribeSensors:R}=AP(),{subscribe:A,publish:I}=ld(),M=ff(),L=ff(),B=ff(),{containerRef:N,setContainerRef:Ae,containerRect:_e}=cA(),q=Rg(NP({preventDefaultWheelX:T,preventDefaultWheelY:w}),Ae),X=b.useRef(null),oe=Rg(X,void 0),{getOwnerDocument:pe}=Ky(),Re=Yy(),j=he=>(Re?-1:1)*(typeof he=="number"?he:1),Q=Vt(()=>{var he;return(he=N.current)===null||he===void 0?void 0:he.focus()}),ue=Vt(()=>e),fe=Vt(()=>D),Ee=b.useCallback(he=>I(ka,he),[I]),Ce=b.useCallback(he=>I(Ma,he),[I]),Oe=b.useCallback(()=>I(al),[I]),St=he=>!(s.finite&&(j(he)>0&&D.currentIndex===0||j(he)<0&&D.currentIndex===D.slides.length-1)),ot=he=>{var et;F.current=he,(et=N.current)===null||et===void 0||et.style.setProperty(Vn("swipe_offset"),`${Math.round(he)}px`)},An=he=>{var et,At;te.current=he,J.current=(()=>{const lt=v&&he>0?he:g&&he<0?-he:0;return Math.min(Math.max(eP(1-lt/60*(1-.5),2),.5),1)})(),(et=N.current)===null||et===void 0||et.style.setProperty(Vn("pull_offset"),`${Math.round(he)}px`),(At=N.current)===null||At===void 0||At.style.setProperty(Vn("pull_opacity"),`${J.current}`)},{prepareAnimation:di}=db(X,(he,et,At)=>{if(X.current&&_e)return{keyframes:[{transform:`translate(0, ${he.rect.y-et.y+At.y}px)`,opacity:he.opacity},{transform:"translate(0, 0)",opacity:1}],duration:he.duration,easing:o.easing.fade}}),Ri=(he,et)=>{if(g||v){An(he);let At=0;X.current&&(At=o.fade*(et?2:1),di({rect:X.current.getBoundingClientRect(),opacity:J.current,duration:At})),B(()=>{An(0),H(fn.NONE)},At),H(fn.ANIMATION),et||Oe()}},{prepareAnimation:Hr,isAnimationPlaying:jn}=db(X,(he,et,At)=>{var tt;if(X.current&&_e&&(!((tt=D.animation)===null||tt===void 0)&&tt.duration)){const Qt=Pf(s.spacing),lt=(Qt.percent?Qt.percent*_e.width/100:Qt.pixel)||0;return{keyframes:[{transform:`translate(${j(D.globalIndex-he.index)*(_e.width+lt)+he.rect.x-et.x+At.x}px, 0)`},{transform:"translate(0, 0)"}],duration:D.animation.duration,easing:D.animation.easing}}}),zn=Vt(he=>{var et,At;const tt=he.offset||0,Qt=tt?o.swipe:(et=o.navigation)!==null&&et!==void 0?et:o.swipe,lt=!tt&&!jn()?o.easing.navigation:o.easing.swipe;let{direction:gt}=he;const Rn=(At=he.count)!==null&&At!==void 0?At:1;let qr=fn.ANIMATION,ln=Qt*Rn;if(!gt){const Bn=_e?.width,mi=he.duration||0,Nt=Bn?Qt/Bn*Math.abs(tt):Qt;Rn!==0?(mi<Nt?ln=ln/Nt*Math.max(mi,Nt/5):Bn&&(ln=Qt/Bn*(Bn-Math.abs(tt))),gt=j(tt)>0?ka:Ma):ln=Qt/2}let na=0;gt===ka?St(j(1))?na=-Rn:(qr=fn.NONE,ln=Qt):gt===Ma&&(St(j(-1))?na=Rn:(qr=fn.NONE,ln=Qt)),ln=Math.round(ln),L(()=>{ot(0),H(fn.NONE)},ln),X.current&&Hr({rect:X.current.getBoundingClientRect(),index:D.globalIndex}),H(qr),I(hb,{type:"swipe",increment:na,duration:ln,easing:lt})});b.useEffect(()=>{var he,et;!((he=D.animation)===null||he===void 0)&&he.increment&&(!((et=D.animation)===null||et===void 0)&&et.duration)&&M(()=>k({type:"swipe",increment:0}),D.animation.duration)},[D.animation,k,M]);const Zi=[R,St,_e?.width||0,o.swipe,()=>H(fn.SWIPE),he=>ot(he),(he,et)=>zn({offset:he,duration:et,count:1}),he=>zn({offset:he,count:0})],_l=[()=>{v&&H(fn.PULL)},he=>An(he),he=>Ri(he),he=>Ri(he,!0)];IP(l,...Zi,g,v,..._l,Oe),OP(V,...Zi);const ta=Vt(()=>{l.focus&&pe().querySelector(`.${Qe(qy)} .${Qe(gb())}`)&&Q()});b.useEffect(ta,[ta]);const er=Vt(()=>{var he;(he=c.view)===null||he===void 0||he.call(c,{index:D.currentIndex})});b.useEffect(er,[D.globalIndex,er]),b.useEffect(()=>YS(A(ka,he=>zn({direction:ka,...he})),A(Ma,he=>zn({direction:Ma,...he})),A(hb,he=>k(he))),[A,zn,k]);const tr=b.useMemo(()=>({prev:Ee,next:Ce,close:Oe,focus:Q,slideRect:_e?nP(_e,s.padding):{width:0,height:0},containerRect:_e||{width:0,height:0},subscribeSensors:R,containerRef:N,setCarouselRef:oe,toolbarWidth:O,setToolbarWidth:P}),[Ee,Ce,Oe,Q,R,_e,N,oe,O,P,s.padding]);return b.useImperativeHandle(l.ref,()=>({prev:Ee,next:Ce,close:Oe,focus:Q,getLightboxProps:ue,getLightboxState:fe}),[Ee,Ce,Oe,Q,ue,fe]),b.createElement("div",{ref:q,className:kr(Qe(gb()),Qe(VS)),style:{...V===fn.SWIPE?{[Vn("swipe_offset")]:`${Math.round(F.current)}px`}:null,...V===fn.PULL?{[Vn("pull_offset")]:`${Math.round(te.current)}px`,[Vn("pull_opacity")]:`${J.current}`}:null,...l.touchAction!=="none"?{[Vn("controller_touch_action")]:l.touchAction}:null,...m.container},tabIndex:-1,...ie},_e&&b.createElement(hA.Provider,{value:tr},i,(t=p.controls)===null||t===void 0?void 0:t.call(p)))}const kP=eo(PS,DP);function Ia(i){return uc(MS,i)}function yb(i){return uc(Fy,i)}function MP({slide:i,offset:e}){const t=b.useRef(null),{currentIndex:s,slides:o}=ud(),{slideRect:l,focus:c}=dc(),{render:m,carousel:{imageFit:p,imageProps:g},on:{click:v},styles:{slide:T},labels:w}=cc(),{getOwnerDocument:O}=Ky(),P=e!==0;b.useEffect(()=>{var k;P&&(!((k=t.current)===null||k===void 0)&&k.contains(O().activeElement))&&c()},[P,c,O]);const D=()=>{var k,V,H,F;let te=(k=m.slide)===null||k===void 0?void 0:k.call(m,{slide:i,offset:e,rect:l});return!te&&QS(i)&&(te=b.createElement(RP,{slide:i,offset:e,render:m,rect:l,imageFit:p,imageProps:g,onClick:P?void 0:()=>v?.({index:s})})),te?b.createElement(b.Fragment,null,(V=m.slideHeader)===null||V===void 0?void 0:V.call(m,{slide:i}),((H=m.slideContainer)!==null&&H!==void 0?H:({children:J})=>J)({slide:i,children:te}),(F=m.slideFooter)===null||F===void 0?void 0:F.call(m,{slide:i})):null};return b.createElement("div",{ref:t,className:kr(Qe(yb()),!P&&Qe(yb("current")),Qe(VS)),...aP(P),style:T,role:"group","aria-roledescription":ol(w,"Slide"),"aria-label":ZM(w,o,s+e)},D())}function PP(){const i=cc().styles.slide;return b.createElement("div",{className:Qe(Fy),style:i})}function LP({carousel:i,labels:e}){const{slides:t,currentIndex:s,globalIndex:o}=ud(),{setCarouselRef:l}=dc(),{autoPlaying:c,focusWithin:m}=tA(),p=Pf(i.spacing),g=Pf(i.padding),v=rP(i,t,1),T=[];if(WS(t))for(let w=s-v;w<=s+v;w+=1){const O=JS(t,w),P=o-s+w,D=i.finite&&(w<0||w>t.length-1);T.push(D?{key:P}:{key:[`${P}`,iP(O)].filter(Boolean).join("|"),offset:w-s,slide:O})}return b.createElement("div",{ref:l,className:kr(Qe(Ia()),T.length>0&&Qe(Ia("with_slides"))),style:{[`${Vn(Ia("slides_count"))}`]:T.length,[`${Vn(Ia("spacing_px"))}`]:p.pixel||0,[`${Vn(Ia("spacing_percent"))}`]:p.percent||0,[`${Vn(Ia("padding_px"))}`]:g.pixel||0,[`${Vn(Ia("padding_percent"))}`]:g.percent||0},role:"region","aria-live":c&&!m?"off":"polite","aria-roledescription":ol(e,"Carousel"),"aria-label":ol(e,"Photo gallery")},T.map(({key:w,slide:O,offset:P})=>O?b.createElement(MP,{key:w,slide:O,offset:P}):b.createElement(PP,{key:w})))}const VP=eo(MS,LP);function fA(){const{carousel:i}=cc(),{slides:e,currentIndex:t}=ud(),s=e.length===0||i.finite&&t===0,o=e.length===0||i.finite&&t===e.length-1;return{prevDisabled:s,nextDisabled:o}}function UP(i){var e;const t=Yy(),{publish:s}=ld(),{animation:o}=cc(),{prevDisabled:l,nextDisabled:c}=fA(),m=((e=o.navigation)!==null&&e!==void 0?e:o.swipe)/2,p=pb(()=>s(ka),m),g=pb(()=>s(Ma),m),v=Vt(T=>{switch(T.key){case YM:s(al);break;case XM:(t?c:l)||(t?g:p)();break;case QM:(t?l:c)||(t?p:g)();break}});b.useEffect(()=>i(FS,v),[i,v])}function _b({label:i,icon:e,renderIcon:t,action:s,onClick:o,disabled:l,style:c}){return b.createElement(lA,{label:i,icon:e,renderIcon:t,className:Qe(`navigation_${s}`),disabled:l,onClick:o,style:c,...SP(dc().focus,l)})}function jP({render:{buttonPrev:i,buttonNext:e,iconPrev:t,iconNext:s},styles:o}){const{prev:l,next:c,subscribeSensors:m}=dc(),{prevDisabled:p,nextDisabled:g}=fA();return UP(m),b.createElement(b.Fragment,null,i?i():b.createElement(_b,{label:"Previous",action:ka,icon:vP,renderIcon:t,style:o.navigationPrev,disabled:p,onClick:l}),e?e():b.createElement(_b,{label:"Next",action:Ma,icon:EP,renderIcon:s,style:o.navigationNext,disabled:g,onClick:c}))}const zP=eo(zM,jP),vb=Qe(GM),BP=Qe(US);function HP(i){return"style"in i}function Eb(i,e,t){const s=window.getComputedStyle(i),o=t?"padding-left":"padding-right",l=t?s.paddingLeft:s.paddingRight,c=i.style.getPropertyValue(o);return i.style.setProperty(o,`${(od(l)||0)+e}px`),()=>{c?i.style.setProperty(o,c):i.style.removeProperty(o)}}function qP({noScroll:{disabled:i},children:e}){const t=Yy(),{getOwnerDocument:s,getOwnerWindow:o}=Ky();return b.useEffect(()=>{if(i)return()=>{};const l=[],c=o(),{body:m,documentElement:p}=s(),g=Math.round(c.innerWidth-p.clientWidth);if(g>0){l.push(Eb(m,g,t));const v=m.getElementsByTagName("*");for(let T=0;T<v.length;T+=1){const w=v[T];HP(w)&&c.getComputedStyle(w).getPropertyValue("position")==="fixed"&&!w.classList.contains(BP)&&l.push(Eb(w,g,t))}}return m.classList.add(vb),()=>{m.classList.remove(vb),l.forEach(v=>v())}},[t,i,s,o]),b.createElement(b.Fragment,null,e)}const FP=eo(BM,qP);function Tb(i){return uc(qy,i)}function bb(i,e,t){const s=i.getAttribute(e);return i.setAttribute(e,t),()=>{s?i.setAttribute(e,s):i.removeAttribute(e)}}function GP({children:i,animation:e,styles:t,className:s,on:o,portal:l,close:c,labels:m}){const[p,g]=b.useState(!1),[v,T]=b.useState(!1),w=b.useRef([]),O=b.useRef(null),{setTimeout:P}=cd(),{subscribe:D}=ld(),V=uA()?0:e.fade;b.useEffect(()=>(g(!0),()=>{g(!1),T(!1)}),[]);const H=Vt(()=>{w.current.forEach(ie=>ie()),w.current=[]}),F=Vt(()=>{var ie;T(!1),H(),(ie=o.exiting)===null||ie===void 0||ie.call(o),P(()=>{var R;(R=o.exited)===null||R===void 0||R.call(o),c()},V)});b.useEffect(()=>D(al,F),[D,F]);const te=Vt(ie=>{var R,A,I;oP(ie),T(!0),(R=o.entering)===null||R===void 0||R.call(o);const M=(I=(A=ie.parentNode)===null||A===void 0?void 0:A.children)!==null&&I!==void 0?I:[];for(let L=0;L<M.length;L+=1){const B=M[L];["TEMPLATE","SCRIPT","STYLE"].indexOf(B.tagName)===-1&&B!==ie&&(w.current.push(bb(B,"inert","")),w.current.push(bb(B,"aria-hidden","true")))}w.current.push(()=>{var L,B;(B=(L=O.current)===null||L===void 0?void 0:L.focus)===null||B===void 0||B.call(L)}),P(()=>{var L;(L=o.entered)===null||L===void 0||L.call(o)},V)}),J=b.useCallback(ie=>{ie?te(ie):H()},[te,H]);return p?Wx.createPortal(b.createElement(xP,{ref:J,className:kr(s,Qe(Tb()),Qe(US),v&&Qe(Tb("open"))),"aria-modal":!0,role:"dialog","aria-label":ol(m,"Lightbox"),style:{...e.fade!==Ag.animation.fade?{[Vn("fade_animation_duration")]:`${V}ms`}:null,...e.easing.fade!==Ag.animation.easing.fade?{[Vn("fade_animation_timing_function")]:e.easing.fade}:null,...t.root},onFocus:ie=>{O.current||(O.current=ie.relatedTarget)}},i),l.root||document.body):null}const $P=eo(qy,GP);function KP({children:i}){return b.createElement(b.Fragment,null,i)}const YP=eo(HM,KP);function XP(i){return uc(LS,i)}function QP({toolbar:{buttons:i},render:{buttonClose:e,iconClose:t},styles:s}){const{close:o,setToolbarWidth:l}=dc(),{setContainerRef:c,containerRect:m}=cA();fc(()=>{l(m?.width)},[l,m?.width]);const p=()=>e?e():b.createElement(lA,{key:al,label:"Close",icon:_P,renderIcon:t,onClick:o});return b.createElement("div",{ref:c,style:s.toolbar,className:Qe(XP())},i?.map(g=>g===al?p():g))}const WP=eo(LS,QP);function dA(i,e){var t;return b.createElement(i.module.component,{key:i.module.name,...e},(t=i.children)===null||t===void 0?void 0:t.map(s=>dA(s,e)))}function JP(i,e={}){const{easing:t,...s}=i,{easing:o,...l}=e;return{easing:{...t,...o},...s,...l}}function mA({carousel:i,animation:e,render:t,toolbar:s,controller:o,noScroll:l,on:c,plugins:m,slides:p,index:g,...v}){const{animation:T,carousel:w,render:O,toolbar:P,controller:D,noScroll:k,on:V,slides:H,index:F,plugins:te,...J}=Ag,{config:ie,augmentation:R}=lP([$t($P,[$t(FP,[$t(kP,[$t(VP),$t(WP),$t(zP)])])])],m||te),A=R({animation:JP(T,e),carousel:{...w,...i},render:{...O,...t},toolbar:{...P,...s},controller:{...D,...o},noScroll:{...k,...l},on:{...V,...c},...J,...v});return A.open?b.createElement(fP,{...A},b.createElement(pP,{slides:p||H,index:od(g||F)},b.createElement(gP,null,b.createElement(hP,null,b.createElement(uP,null,dA($t(YP,ie),A)))))):null}function ZP(i=""){return i.replace(/\.[^.]+$/,"")}function pA(i=""){const e=i.match(/\.([^.]+)$/);return e?e[1].toLowerCase():""}function e6(i=""){const e=pA(i);return["jpg","jpeg","png","webp"].includes(e)}async function wb(i){try{return await Dy(i)}catch{return null}}function gA({folder:i,label:e}){const[t,s]=b.useState([]),[o,l]=b.useState(!1),[c,m]=b.useState(0),[p,g]=b.useState(!0);b.useEffect(()=>{let w=!0;return(async()=>{g(!0);try{const P=ky(kS,i),k=(await Jw(P)).items.filter(J=>e6(J.name)),V=new Map;for(const J of k){const ie=ZP(J.name),R=pA(J.name);V.has(ie)||V.set(ie,{});const A=V.get(ie);if(ie.toLowerCase().endsWith("__thumb")){const I=ie.replace(/__thumb$/,"");V.has(I)||V.set(I,{});const M=V.get(I);M.thumbRef=J;continue}R==="webp"&&(A.webpRef=J),(R==="jpg"||R==="jpeg")&&(A.jpgRef=J),R==="png"&&(A.pngRef=J)}const H=Array.from(V.keys()).filter(J=>!J.endsWith("__thumb")).sort((J,ie)=>J.localeCompare(ie)),te=(await Promise.all(H.map(async(J,ie)=>{const R=V.get(J)||{},A=R.webpRef||R.jpgRef||R.pngRef,I=A?await wb(A):null;let M=null;return R.thumbRef&&(M=await wb(R.thumbRef)),{src:I,gridSrc:M||I,title:`${e} Piece #${ie+1}`,alt:`${e} Piece #${ie+1}`}}))).filter(J=>J.src&&J.gridSrc);w&&s(te)}catch(P){console.error(`Error loading ${i} images:`,P),w&&s([])}finally{w&&g(!1)}})(),()=>{w=!1}},[i,e]);const v=b.useMemo(()=>t.map(w=>({src:w.src,title:w.title})),[t]),T=w=>{m(w),l(!0)};return C.jsxs(C.Fragment,{children:[p?C.jsxs("div",{className:"text-center mt-12",children:[C.jsxs("svg",{className:"animate-spin h-8 w-8 text-white mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-label":"Loading",children:[C.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),C.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4z"})]}),C.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Loading gallery..."})]}):C.jsx("div",{className:"gallery-grid",children:t.map((w,O)=>C.jsx("button",{type:"button",className:"gallery-piece",onClick:()=>T(O),"aria-label":`Open ${w.alt}`,children:C.jsx("img",{src:w.gridSrc,alt:w.alt,loading:"lazy",decoding:"async",style:{width:"100%",height:"100%",objectFit:"contain"}})},O))}),C.jsx(mA,{open:o,close:()=>l(!1),index:c,slides:v,styles:{container:{backdropFilter:"blur(10px)",backgroundColor:"rgba(0, 0, 0, 0.3)",WebkitBackdropFilter:"blur(10px)"},slide:{display:"flex",alignItems:"center",justifyContent:"center"}},render:{slide:({slide:w})=>C.jsx("img",{src:w.src,alt:w.title||"Artwork",loading:"eager",decoding:"async",style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain"}})}})]})}function t6(){return C.jsx(gA,{folder:"airbrush",label:"Airbrush"})}function n6(){return C.jsx(gA,{folder:"photoshop",label:"Photoshop"})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r6=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Sb=i=>{const e=r6(i);return e.charAt(0).toUpperCase()+e.slice(1)},yA=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),s6=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=b.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...m},p)=>b.createElement("svg",{ref:p,...a6,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:yA("lucide",o),...!l&&!s6(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,v])=>b.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=(i,e)=>{const t=b.forwardRef(({className:s,...o},l)=>b.createElement(o6,{ref:l,iconNode:e,className:yA(`lucide-${i6(Sb(i))}`,`lucide-${i}`,s),...o}));return t.displayName=Sb(i),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],u6=Xy("menu",l6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],h6=Xy("shopping-cart",c6);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_A=Xy("x",f6);var vA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ab=Fe.createContext&&Fe.createContext(vA),d6=["attr","size","title"];function m6(i,e){if(i==null)return{};var t=p6(i,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function p6(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function Lf(){return Lf=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Lf.apply(this,arguments)}function Rb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function Vf(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rb(Object(t),!0).forEach(function(s){g6(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Rb(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function g6(i,e,t){return e=y6(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function y6(i){var e=_6(i,"string");return typeof e=="symbol"?e:e+""}function _6(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function EA(i){return i&&i.map((e,t)=>Fe.createElement(e.tag,Vf({key:t},e.attr),EA(e.child)))}function hd(i){return e=>Fe.createElement(v6,Lf({attr:Vf({},i.attr)},e),EA(i.child))}function v6(i){var e=t=>{var{attr:s,size:o,title:l}=i,c=m6(i,d6),m=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),Fe.createElement("svg",Lf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:p,style:Vf(Vf({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&Fe.createElement("title",null,l),i.children)};return Ab!==void 0?Fe.createElement(Ab.Consumer,null,t=>e(t)):e(vA)}function TA(i){return hd({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(i)}function bA(i){return hd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(i)}function wA(i){return hd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(i)}function SA(i){return hd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}const df={"16x20":100,"18x24":200,"24x36":300,"30x40":400},AA=b.createContext();function fd(){return b.useContext(AA)}function E6({children:i}){const[e,t]=b.useState(()=>{const g=localStorage.getItem("cart");return g?JSON.parse(g):[]});function s(g,v){t(T=>T.map((w,O)=>{if(O!==g)return w;let P={...w,...v};return v.size&&(P.price=df[v.size]||w.price),P}))}const[o,l]=b.useState(!1);b.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);function c(g){t(v=>v.find(w=>w.title===g.title&&w.size===g.size)?v.map(w=>w.title===g.title&&w.size===g.size?{...w,quantity:w.quantity+g.quantity}:w):[...v,g])}function m(g){t(v=>v.filter((T,w)=>w!==g))}function p(){t([])}return C.jsx(AA.Provider,{value:{cartItems:e,setCart:t,addToCart:c,removeFromCart:m,clearCart:p,updateCartItem:s,isCartOpen:o,setIsCartOpen:l},children:i})}const T6={"Adoration in the lights darkness":{"16x20":"price_1Rr1y0JEVsglohuhBAH3v1Hm","18x24":"price_1Rr2RvJEVsglohuhe4npKcRX","24x36":"price_1Rr2V9JEVsglohuhkHqjWPzP","30x40":"price_1Rr2XsJEVsglohuh2XUXZgj3"},AlterEgo:{"16x20":"price_1Rr3gKJEVsglohuh9BVqreUW","18x24":"price_1Rr3hqJEVsglohuhTZ312kRH","24x36":"price_1Rr3iwJEVsglohuhOSswWLIo","30x40":"price_1Rr3jxJEVsglohuhyXn8gge8"},"Feathered Serenity":{"16x20":"price_1Rr3lJJEVsglohuhi3pXSj4F","18x24":"price_1Rr3mMJEVsglohuhUOHTpz5e","24x36":"price_1Rr3naJEVsglohuhaogXOJGl","30x40":"price_1Rr3oYJEVsglohuhoXCCrGev"},"Fractured Perception":{"16x20":"price_1Rr3qFJEVsglohuhbOPFj0Vu","18x24":"price_1Rr3rLJEVsglohuhmtOl6U5O","24x36":"price_1Rr3tuJEVsglohuhGLpjacKn","30x40":"price_1Rr3v2JEVsglohuhLGDKPYl9"},"Harmony in Shadows":{"16x20":"price_1Rr3w4JEVsglohuh2wCoaMUo","18x24":"price_1Rr3xLJEVsglohuhxuNW2KKY","24x36":"price_1Rr3yiJEVsglohuhlP8yLrmi","30x40":"price_1Rr3zqJEVsglohuhR4sjL9qH"},"Illuminated Void":{"16x20":"price_1Rr40vJEVsglohuhDdPdmNlF","18x24":"price_1Rr46vJEVsglohuhqHrqOZpC","24x36":"price_1Rr47tJEVsglohuhTaVTE7fY","30x40":"price_1Rr4BRJEVsglohuhCEfEzSTo"},"Lost in Thought":{"16x20":"price_1Rr4CwJEVsglohuhJnfx2jXU","18x24":"price_1Rr4DlJEVsglohuhff5VaGJO","24x36":"price_1Rr4F2JEVsglohuhsZWdgmpQ","30x40":"price_1Rr4FyJEVsglohuhWabFljdm"},"Love is Love":{"16x20":"price_1Rr4QgJEVsglohuhdTi4Il1P","18x24":"price_1Rr4RkJEVsglohuhbgwqySBn","24x36":"price_1Rr4SrJEVsglohuhQ1Co5hi8","30x40":"price_1Rr4TnJEVsglohuhb5r74XSr"},"Out for Fame":{"16x20":"price_1Rr4VNJEVsglohuhVOunZVdX","18x24":"price_1Rr4aYJEVsglohuhZIBX65G6","24x36":"price_1Rr4WPJEVsglohuhX7BUoT4o","30x40":"price_1Rr4bnJEVsglohuhfVlhmxmG"},Overwhelmed:{"16x20":"price_1Rr4dOJEVsglohuhXoZrpaII","18x24":"price_1Rr4f1JEVsglohuhvFra9KRJ","24x36":"price_1Rr4g6JEVsglohuhjZ8jwa2r","30x40":"price_1Rr4hBJEVsglohuhHuB89MUu"},Serenity:{"16x20":"price_1Rr4iQJEVsglohuhRVl44Pfl","18x24":"price_1Rr4jOJEVsglohuhzvcxlqdJ","24x36":"price_1Rr4kZJEVsglohuhGWgJHXmc","30x40":"price_1Rr4lcJEVsglohuhHRws2D3P"},"Spirit of the Knight":{"16x20":"price_1Rr4n6JEVsglohuhIGswNmc5","18x24":"price_1Rr4oMJEVsglohuhWNMtR8If","24x36":"price_1Rr4paJEVsglohuheF9yhQmY","30x40":"price_1Rr4qdJEVsglohuhIVZKdJte"},"Veiled Whispers":{"16x20":"price_1Rr6ucJEVsglohuh26FB64EF","18x24":"price_1Rr500JEVsglohuhgAWEwdpZ","24x36":"price_1Rr51iJEVsglohuhdSIZCJZv","30x40":"price_1Rr53CJEVsglohuhe3rZiBFL"},"Walk in Faith":{"16x20":"price_1Rr562JEVsglohuhdKGQhWEU","18x24":"price_1Rr57WJEVsglohuh3OPyBdOT","24x36":"price_1Rr58qJEVsglohuhyBhacTmk","30x40":"price_1Rr5DGJEVsglohuhBc2HGVEk"}};function b6(i,e){const t=b.useRef(e);b.useEffect(()=>{t.current=e},[e]),b.useEffect(()=>{const s="paypal-sdk",o=()=>{typeof t.current=="function"&&t.current()};if(window.paypal){console.log(" PayPal already loaded"),o();return}const l=document.getElementById(s);if(l){l.addEventListener("load",o,{once:!0});return}const c=document.createElement("script");c.id=s,c.src=`https://www.paypal.com/sdk/js?client-id=${i}&currency=USD&components=buttons&enable-funding=venmo`,c.async=!0,c.addEventListener("load",()=>{console.log(" PayPal SDK loaded"),o()}),c.addEventListener("error",()=>{console.error(" Failed to load PayPal SDK")}),document.body.appendChild(c)},[i])}class mc{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const w6=()=>{if(!(typeof localStorage>"u"))return{get:i=>Promise.resolve(localStorage.getItem(i)),set:(i,e)=>Promise.resolve(localStorage.setItem(i,e)),remove:i=>Promise.resolve(localStorage.removeItem(i))}},sn={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:w6()},Qy=i=>i?typeof i=="string"?{publicKey:i}:i.toString()==="[object Object]"?i:{}:{},S6=(i,e="https://api.emailjs.com")=>{if(!i)return;const t=Qy(i);sn.publicKey=t.publicKey,sn.blockHeadless=t.blockHeadless,sn.storageProvider=t.storageProvider,sn.blockList=t.blockList,sn.limitRate=t.limitRate,sn.origin=t.origin||e},RA=async(i,e,t={})=>{const s=await fetch(sn.origin+i,{method:"POST",headers:t,body:e}),o=await s.text(),l=new mc(s.status,o);if(s.ok)return l;throw l},xA=(i,e,t)=>{if(!i||typeof i!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},A6=i=>{if(i&&i.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},CA=i=>i.webdriver||!i.languages||i.languages.length===0,IA=()=>new mc(451,"Unavailable For Headless Browser"),R6=(i,e)=>{if(!Array.isArray(i))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},x6=i=>!i.list?.length||!i.watchVariable,C6=(i,e)=>i instanceof FormData?i.get(e):i[e],NA=(i,e)=>{if(x6(i))return!1;R6(i.list,i.watchVariable);const t=C6(e,i.watchVariable);return typeof t!="string"?!1:i.list.includes(t)},OA=()=>new mc(403,"Forbidden"),I6=(i,e)=>{if(typeof i!="number"||i<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},N6=async(i,e,t)=>{const s=Number(await t.get(i)||0);return e-Date.now()+s},DA=async(i,e,t)=>{if(!e.throttle||!t)return!1;I6(e.throttle,e.id);const s=e.id||i;return await N6(s,e.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},kA=()=>new mc(429,"Too Many Requests"),O6=async(i,e,t,s)=>{const o=Qy(s),l=o.publicKey||sn.publicKey,c=o.blockHeadless||sn.blockHeadless,m=o.storageProvider||sn.storageProvider,p={...sn.blockList,...o.blockList},g={...sn.limitRate,...o.limitRate};return c&&CA(navigator)?Promise.reject(IA()):(xA(l,i,e),A6(t),t&&NA(p,t)?Promise.reject(OA()):await DA(location.pathname,g,m)?Promise.reject(kA()):RA("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"}))},D6=i=>{if(!i||i.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},k6=i=>typeof i=="string"?document.querySelector(i):i,M6=async(i,e,t,s)=>{const o=Qy(s),l=o.publicKey||sn.publicKey,c=o.blockHeadless||sn.blockHeadless,m=sn.storageProvider||o.storageProvider,p={...sn.blockList,...o.blockList},g={...sn.limitRate,...o.limitRate};if(c&&CA(navigator))return Promise.reject(IA());const v=k6(t);xA(l,i,e),D6(v);const T=new FormData(v);return NA(p,T)?Promise.reject(OA()):await DA(location.pathname,g,m)?Promise.reject(kA()):(T.append("lib_version","4.4.1"),T.append("service_id",i),T.append("template_id",e),T.append("user_id",l),RA("/api/v1.0/email/send-form",T))},MA={init:S6,send:O6,sendForm:M6,EmailJSResponseStatus:mc};function P6({isOpen:i,onClose:e}){const{cartItems:t,removeFromCart:s,clearCart:o,updateCartItem:l}=fd(),[c,m]=b.useState(!1),[p,g]=b.useState(!1);b6("AU5aAM3bPf_1lmA--7fuKSvlkyW5imXLRM4a2be_xgyiv4mYJU14v_KJviRqwy67-p5uNjchLtHurRg4",()=>g(!0));const T=b.useRef(!1),w=b.useMemo(()=>t.reduce((D,k)=>D+k.price*k.quantity,0),[t]),O=b.useMemo(()=>JSON.stringify(t.map(D=>({title:D.title,size:D.size,price:D.price,quantity:D.quantity,image:D.image}))),[t]);b.useEffect(()=>{if(!i||!p)return;const D="paypal-button-container",k=document.getElementById(D);if(k&&!(T.current&&k.children.length)){if(t.length===0){k.innerHTML="",T.current=!1;return}k.innerHTML="",T.current=!1;try{window.paypal.Buttons({createOrder:(V,H)=>H.order.create({purchase_units:[{amount:{currency_code:"USD",value:w.toFixed(2),breakdown:{item_total:{currency_code:"USD",value:w.toFixed(2)}}},description:"Likwit Blvd Art Order",custom_id:"AIRBRUSH_ORDER_"+Date.now(),items:t.map(F=>({name:F.title,description:`Size: ${F.size}`,unit_amount:{currency_code:"USD",value:Number(F.price).toFixed(2)},quantity:String(F.quantity),category:"PHYSICAL_GOODS"}))}]}),onApprove:async(V,H)=>{try{const F=await H.order.capture(),{name:te,email_address:J}=F.payer,ie=t.map(A=>({name:`${A.title}  ${A.size}`,units:A.quantity,price:(A.price*A.quantity).toFixed(2),image_url:A.image})),R={shipping:0 .toFixed(2),tax:0 .toFixed(2),total:w.toFixed(2)};await MA.send("service_6j3le5o","template_dxmzwa3",{name:`${te.given_name} ${te.surname}`,message:"New PayPal order received!",order_id:V.orderID,email:J,orders:ie,cost:R},"OLAEWsvf8PTH1I8A-"),console.log(" Order email sent!"),alert("Payment successful via PayPal!"),o(),e(),T.current=!1}catch(F){console.error("PayPal error:",F),alert("Something went wrong with PayPal.")}},onError:V=>{console.error("PayPal error:",V),alert("Something went wrong with PayPal.")}}).render(`#${D}`),T.current=!0}catch(V){console.error("PayPal render failed:",V)}return()=>{const V=document.getElementById(D);V&&(V.innerHTML=""),T.current=!1}}},[i,p,O,w,o,e]);const P=async()=>{try{const D=t.map(H=>{const F=T6[H.title]?.[H.size];if(!F)throw new Error(`Missing Stripe price ID for ${H.title} - ${H.size}`);return{price:F,quantity:H.quantity}}),V=await(await fetch("https://us-central1-airbrushnink-9f735.cloudfunctions.net/createStripeCheckoutSessionLive",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:D})})).json();V.url?window.location.href=V.url:console.error("Stripe Checkout URL not returned:",V)}catch(D){console.error("Checkout failed:",D.message)}};return C.jsxs("div",{className:`fixed top-0 right-0 h-full w-80 bg-gradient-to-r from-black to-[#222] text-white shadow-lg transform transition-transform z-[1200] ${i?"translate-x-0":"translate-x-full"}`,children:[C.jsxs("div",{className:"flex items-center justify-between px-4 py-5 border-b border-gray-300",children:[C.jsx("h2",{className:"text-lg font-bold",children:"Your Cart"}),C.jsx("button",{onClick:e,children:C.jsx(_A,{size:24})})]}),C.jsx("div",{className:"p-4 overflow-y-auto h-[calc(100%-435px)]",children:t.map((D,k)=>C.jsx("div",{className:"flex flex-col gap-2 mb-4 border-b pb-3",children:C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("img",{src:D.image,alt:D.title,className:"w-16 h-16 object-cover rounded shadow"}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h3",{className:"font-semibold text-white",children:D.title}),c?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[C.jsx("label",{className:"text-sm mr-1",children:"Qty:"}),C.jsx("button",{onClick:()=>D.quantity>1&&l(k,{quantity:D.quantity-1}),className:"w-7 h-7 bg-zinc-700 text-white rounded hover:bg-zinc-600",children:""}),C.jsx("span",{className:"px-2 w-6 text-center",children:D.quantity}),C.jsx("button",{onClick:()=>l(k,{quantity:D.quantity+1}),className:"w-7 h-7 bg-zinc-700 text-white rounded hover:bg-zinc-600",children:"+"})]}),C.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[C.jsx("label",{className:"text-sm",children:"Size:"}),C.jsxs("select",{value:D.size,onChange:V=>l(k,{size:V.target.value}),className:"w-full px-2 py-1 rounded text-black",children:[C.jsx("option",{value:"16x20",children:"16x20"}),C.jsx("option",{value:"18x24",children:"18x24"}),C.jsx("option",{value:"24x36",children:"24x36"}),C.jsx("option",{value:"30x40",children:"30x40"})]})]})]}):C.jsxs(C.Fragment,{children:[C.jsxs("p",{className:"text-sm text-white/80",children:["Size: ",D.size,"  Qty: ",D.quantity]}),C.jsxs("p",{className:"text-sm text-white/90",children:["$",D.price*D.quantity]})]}),c&&C.jsx("button",{onClick:()=>s(k),className:"text-red-500 text-xs mt-2",children:"Remove"})]})]})},k))}),C.jsxs("div",{className:"p-4 border-t border-gray-300 flex flex-col gap-2",children:[C.jsxs("div",{className:"flex justify-between text-sm text-white mb-3",children:[C.jsx("span",{className:"font-semibold",children:"Total:"}),C.jsxs("span",{className:"font-semibold",children:["$",w.toLocaleString()]})]}),C.jsxs("div",{className:"flex justify-between gap-2",children:[C.jsx("button",{className:"w-1/2 bg-gradient-to-r from-black to-[#222] text-white py-2 rounded hover:bg-green-700",onClick:()=>m(D=>!D),disabled:t.length===0,children:c?"Done":"Edit Cart"}),C.jsx("button",{className:"w-1/2 bg-gradient-to-r from-black to-[#222] text-white py-2 rounded hover:bg-blue-700",onClick:P,disabled:t.length===0,children:"Checkout"})]}),t.length>0&&C.jsx("div",{className:"mt-4",id:"paypal-button-container"}),C.jsx("button",{className:"w-full text-sm text-red-500 underline",onClick:o,disabled:t.length===0,children:"Clear Cart"})]})]})}const L6="1AWLkAfMGjgDSNik9bRsIWROGW73",V6="airbrushnink@gmail.com";function PA(i){return i?i.uid===L6||(i.email||"").toLowerCase().trim()===V6.toLowerCase().trim():!1}function U6(){const[i,e]=b.useState(!1),[t,s]=b.useState(void 0),[o,l]=b.useState(!1),{cartItems:c}=fd(),m=jf();if(b.useEffect(()=>{const V=rd(sl,H=>{s(H||null)});return()=>V()},[]),t===void 0)return null;const p=PA(t),g=()=>e(!1),v=()=>{if(window.location.hash==="#/"){const H=document.getElementById("services");H&&H.scrollIntoView({behavior:"smooth"}),g()}else sessionStorage.setItem("scrollToServices","true"),m("/"),g()},T=async()=>{await A3(sl),g(),m("/")},w=()=>{m("/admin"),g()},O=()=>{m("/"),g()},P=()=>{m("/contact"),g()},D=()=>{m("/shop"),g()},k=c.reduce((V,H)=>V+H.quantity,0);return C.jsxs(C.Fragment,{children:[C.jsx("nav",{className:"sticky top-0 z-[2000] bg-gradient-to-r from-black to-[#222] text-white shadow-md",children:C.jsxs("div",{className:"flex justify-between items-center px-6 py-2",children:[C.jsx(Cr,{to:"/",className:"font-semibold text-[1.5rem] tracking-[0.03em]",onClick:g,children:"Likwit Blvd"}),C.jsxs("ul",{className:"hidden md:flex items-center text-[0.95rem] font-medium gap-3",children:[C.jsx("li",{children:C.jsx(Cr,{to:"/",className:"text-[#ccc] hover:text-white",children:"Home"})}),C.jsx("li",{className:"flex items-center relative before:content-[''] before:inline-block before:w-px before:h-4 before:bg-white before:mx-3",children:C.jsx("button",{onClick:v,className:"text-[#ccc] hover:text-white",children:"Portfolio"})}),C.jsx("li",{className:"flex items-center relative before:content-[''] before:inline-block before:w-px before:h-4 before:bg-white before:mx-3",children:C.jsx(Cr,{to:"/contact",className:"text-[#ccc] hover:text-white",children:"Contact"})}),C.jsx("li",{className:"flex items-center relative before:content-[''] before:inline-block before:w-px before:h-4 before:bg-white before:mx-3",children:C.jsx(Cr,{to:"/shop",className:"text-[#ccc] hover:text-white",children:"Shop"})}),p&&C.jsx("li",{className:"flex items-center relative before:content-[''] before:inline-block before:w-px before:h-4 before:bg-white before:mx-3",children:C.jsx("button",{onClick:w,className:"text-[#ccc] hover:text-white",children:"Admin"})}),t&&C.jsx("li",{className:"ml-4",children:C.jsx("button",{onClick:T,className:"px-3 py-1 text-sm rounded bg-gradient-to-r from-black to-[#444]",children:"Log Out"})})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("button",{onClick:()=>l(!0),className:"relative border border-[#444] p-2 rounded-full","aria-label":"Cart",type:"button",children:[C.jsx(h6,{size:20}),k>0&&C.jsx("span",{className:"absolute -top-1 -right-1 bg-gray-600 text-xs w-5 h-5 flex items-center justify-center rounded-full",children:k})]}),C.jsx("button",{className:"md:hidden z-[6000]",onClick:()=>e(V=>!V),"aria-label":"Toggle Menu",type:"button",children:i?C.jsx(_A,{size:28}):C.jsx(u6,{size:28})})]})]})}),C.jsx("div",{className:`md:hidden fixed inset-0 flex items-center justify-center transition-all duration-300 ease-in-out
          ${i?"opacity-100 visible pointer-events-auto z-[5000] backdrop-blur-md bg-black/80":"opacity-0 invisible pointer-events-none z-[-1]"}
        `,children:C.jsxs("div",{className:"flex flex-col items-center justify-center gap-10 text-2xl font-semibold text-white tracking-wide",children:[C.jsx("button",{onClick:O,className:"hover:text-[#ccc] transition-colors",children:"Home"}),C.jsx("button",{onClick:v,className:"hover:text-[#ccc] transition-colors",children:"Portfolio"}),C.jsx("button",{onClick:P,className:"hover:text-[#ccc] transition-colors",children:"Contact"}),C.jsx("button",{onClick:D,className:"hover:text-[#ccc] transition-colors",children:"Shop"}),p&&C.jsx("button",{onClick:w,className:"hover:text-[#ccc] transition-colors",children:"Admin"}),t&&C.jsx("button",{onClick:T,className:"text-lg mt-4 px-6 py-2 rounded bg-gradient-to-r from-black to-[#444] hover:opacity-80 transition",children:"Log Out"}),C.jsxs("div",{className:"flex gap-6 mt-6 text-xl text-white",children:[C.jsx("a",{href:"https://facebook.com/yourpage",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#ccc] transition-colors","aria-label":"Facebook",children:C.jsx(TA,{})}),C.jsx("a",{href:"https://instagram.com/yourhandle",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#ccc] transition-colors","aria-label":"Instagram",children:C.jsx(bA,{})}),C.jsx("a",{href:"https://www.tiktok.com/@thatonehomieguy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#ccc] transition-colors","aria-label":"TikTok",children:C.jsx(wA,{})}),C.jsx("button",{onClick:P,className:"hover:text-[#ccc] transition-colors","aria-label":"Contact",children:C.jsx(SA,{})})]}),C.jsx("button",{onClick:g,className:"mt-6 text-sm text-gray-300 hover:text-white transition",type:"button",children:"Close"})]})}),o&&C.jsx("div",{className:"fixed inset-0 bg-black/40 z-[4000]",onClick:()=>l(!1)}),C.jsx(P6,{isOpen:o,onClose:()=>l(!1)})]})}function j6(){return C.jsx(C.Fragment,{children:C.jsxs("div",{className:"min-h-screen bg-black text-white pt-24 px-4",children:[C.jsx("h1",{className:"text-4xl font-bold text-center mb-12",children:"Gallery"}),C.jsxs("section",{children:[C.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Airbrush"}),C.jsx(Gallery,{folder:"airbrush",label:"Airbrush"})]})]})})}function z6(){const[i,e]=b.useState(""),[t,s]=b.useState(""),o=jf(),l=async c=>{c.preventDefault();try{await b3(sl,i,t),alert("Login successful"),o("/upload")}catch(m){console.error("Login error:",m),alert("Login failed")}};return C.jsx("div",{className:"flex justify-center items-center min-h-screen bg-black text-white",children:C.jsxs("form",{onSubmit:l,className:"p-8 rounded-2xl shadow-xl w-full max-w-md",style:{background:"linear-gradient(to right, #000000, #222222)"},children:[C.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Admin Login"}),C.jsx("input",{type:"email",placeholder:"Email",className:"w-full mb-4 p-3 rounded-md bg-[#111] text-white",value:i,onChange:c=>e(c.target.value)}),C.jsx("input",{type:"password",placeholder:"Password",className:"w-full mb-6 p-3 rounded-md bg-[#111] text-white",value:t,onChange:c=>s(c.target.value)}),C.jsx("button",{type:"submit",className:"w-full py-3 rounded-md font-semibold",style:{background:"linear-gradient(to right, #000000, #222222)"},children:"Login"})]})})}function B6(){return C.jsx("footer",{className:"bg-black text-gray-400 text-sm py-8 border-t border-neutral-800",children:C.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 text-center",children:[C.jsx("p",{children:" 2025 Likwit Blvd  All rights reserved."}),C.jsxs("div",{className:"mt-4 flex justify-center gap-6 text-lg",children:[C.jsx("a",{href:"https://facebook.com/yourpage",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors","aria-label":"Facebook",children:C.jsx(TA,{})}),C.jsx("a",{href:"https://instagram.com/yourhandle",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors","aria-label":"Instagram",children:C.jsx(bA,{})}),C.jsx("a",{href:"https://www.tiktok.com/@thatonehomieguy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors","aria-label":"TikTok",children:C.jsx(wA,{})}),C.jsx(Cr,{to:"/contact",className:"hover:text-white transition-colors","aria-label":"Contact Page",children:C.jsx(SA,{})})]})]})})}function H6(){const i=b.useRef(),[e,t]=b.useState({name:"",email:"",message:""}),[s,o]=b.useState(!1),[l,c]=b.useState(!1),m=g=>{t({...e,[g.target.name]:g.target.value})},p=g=>{g.preventDefault(),o(!0),MA.send("service_6j3le5o","template_xs5pzrr",{title:"Website Contact",name:e.name,email:e.email,message:e.message,time:new Date().toLocaleString()},"OLAEWsvf8PTH1I8A-").then(v=>{console.log(" Message sent:",v.text),c(!0),t({name:"",email:"",message:""})},v=>{console.error(" Failed to send:",v.text)}).finally(()=>o(!1))};return C.jsx("div",{className:"min-h-screen text-white flex justify-center items-center p-6",children:C.jsxs("form",{ref:i,onSubmit:p,className:"w-full max-w-xl bg-[#111] p-8 rounded-lg shadow-md space-y-4",children:[C.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Contact Me"}),C.jsx("input",{type:"text",name:"name",placeholder:"Your Name",value:e.name,onChange:m,required:!0,className:"w-full p-3 rounded bg-black border border-gray-600 text-white placeholder-gray-400"}),C.jsx("input",{type:"email",name:"email",placeholder:"Your Email",value:e.email,onChange:m,required:!0,className:"w-full p-3 rounded bg-black border border-gray-600 text-white placeholder-gray-400"}),C.jsx("textarea",{name:"message",placeholder:"Your Message",value:e.message,onChange:m,required:!0,rows:"5",className:"w-full p-3 rounded bg-black border border-gray-600 text-white placeholder-gray-400"}),C.jsx("button",{type:"submit",disabled:s,className:"w-full bg-white text-black font-semibold py-3 px-6 rounded hover:bg-gray-200 transition disabled:opacity-50",children:s?"Sending...":"Send Message"}),l&&C.jsx("p",{className:"text-green-400 text-center pt-2",children:" Your message has been sent!"})]})})}function LA(i){var e,t,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(t=LA(i[e]))&&(s&&(s+=" "),s+=t)}else for(t in i)i[t]&&(s&&(s+=" "),s+=t);return s}function Ua(){for(var i,e,t=0,s="",o=arguments.length;t<o;t++)(i=arguments[t])&&(e=LA(i))&&(s&&(s+=" "),s+=e);return s}function q6(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))}q6(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var pc=i=>typeof i=="number"&&!isNaN(i),Ga=i=>typeof i=="string",jr=i=>typeof i=="function",F6=i=>Ga(i)||pc(i),xg=i=>Ga(i)||jr(i)?i:null,G6=(i,e)=>i===!1||pc(i)&&i>0?i:e,Cg=i=>b.isValidElement(i)||Ga(i)||jr(i)||pc(i);function $6(i,e,t=300){let{scrollHeight:s,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function K6({enter:i,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:m,done:p,nodeRef:g,isIn:v,playToast:T}){let w=t?`${i}--${c}`:i,O=t?`${e}--${c}`:e,P=b.useRef(0);return b.useLayoutEffect(()=>{let D=g.current,k=w.split(" "),V=H=>{H.target===g.current&&(T(),D.removeEventListener("animationend",V),D.removeEventListener("animationcancel",V),P.current===0&&H.type!=="animationcancel"&&D.classList.remove(...k))};D.classList.add(...k),D.addEventListener("animationend",V),D.addEventListener("animationcancel",V)},[]),b.useEffect(()=>{let D=g.current,k=()=>{D.removeEventListener("animationend",k),s?$6(D,p,o):p()};v||(m?k():(P.current=1,D.className+=` ${O}`,D.addEventListener("animationend",k)))},[v]),Fe.createElement(Fe.Fragment,null,l)}}function xb(i,e){return{content:VA(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:e}}function VA(i,e,t=!1){return b.isValidElement(i)&&!Ga(i.type)?b.cloneElement(i,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):jr(i)?i({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):i}function Y6({closeToast:i,theme:e,ariaLabel:t="close"}){return Fe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":t},Fe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Fe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function X6({delay:i,isRunning:e,closeToast:t,type:s="default",hide:o,className:l,controlledProgress:c,progress:m,rtl:p,isIn:g,theme:v}){let T=o||c&&m===0,w={animationDuration:`${i}ms`,animationPlayState:e?"running":"paused"};c&&(w.transform=`scaleX(${m})`);let O=Ua("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),P=jr(l)?l({rtl:p,type:s,defaultClassName:O}):Ua(O,l),D={[c&&m>=1?"onTransitionEnd":"onAnimationEnd"]:c&&m<1?null:()=>{g&&t()}};return Fe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},Fe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${s}`}),Fe.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:P,style:w,...D}))}var Q6=1,UA=()=>`${Q6++}`;function W6(i,e,t){let s=1,o=0,l=[],c=[],m=e,p=new Map,g=new Set,v=H=>(g.add(H),()=>g.delete(H)),T=()=>{c=Array.from(p.values()),g.forEach(H=>H())},w=({containerId:H,toastId:F,updateId:te})=>{let J=H?H!==i:i!==1,ie=p.has(F)&&te==null;return J||ie},O=(H,F)=>{p.forEach(te=>{var J;(F==null||F===te.props.toastId)&&((J=te.toggle)==null||J.call(te,H))})},P=H=>{var F,te;(te=(F=H.props)==null?void 0:F.onClose)==null||te.call(F,H.removalReason),H.isActive=!1},D=H=>{if(H==null)p.forEach(P);else{let F=p.get(H);F&&P(F)}T()},k=()=>{o-=l.length,l=[]},V=H=>{var F,te;let{toastId:J,updateId:ie}=H.props,R=ie==null;H.staleId&&p.delete(H.staleId),H.isActive=!0,p.set(J,H),T(),t(xb(H,R?"added":"updated")),R&&((te=(F=H.props).onOpen)==null||te.call(F))};return{id:i,props:m,observe:v,toggle:O,removeToast:D,toasts:p,clearQueue:k,buildToast:(H,F)=>{if(w(F))return;let{toastId:te,updateId:J,data:ie,staleId:R,delay:A}=F,I=J==null;I&&o++;let M={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(F).filter(([B,N])=>N!=null)),toastId:te,updateId:J,data:ie,isIn:!1,className:xg(F.className||m.toastClassName),progressClassName:xg(F.progressClassName||m.progressClassName),autoClose:F.isLoading?!1:G6(F.autoClose,m.autoClose),closeToast(B){p.get(te).removalReason=B,D(te)},deleteToast(){let B=p.get(te);if(B!=null){if(t(xb(B,"removed")),p.delete(te),o--,o<0&&(o=0),l.length>0){V(l.shift());return}T()}}};M.closeButton=m.closeButton,F.closeButton===!1||Cg(F.closeButton)?M.closeButton=F.closeButton:F.closeButton===!0&&(M.closeButton=Cg(m.closeButton)?m.closeButton:!0);let L={content:H,props:M,staleId:R};m.limit&&m.limit>0&&o>m.limit&&I?l.push(L):pc(A)?setTimeout(()=>{V(L)},A):V(L)},setProps(H){m=H},setToggle:(H,F)=>{let te=p.get(H);te&&(te.toggle=F)},isToastActive:H=>{var F;return(F=p.get(H))==null?void 0:F.isActive},getSnapshot:()=>c}}var Sn=new Map,Qu=[],Ig=new Set,J6=i=>Ig.forEach(e=>e(i)),jA=()=>Sn.size>0;function Z6(){Qu.forEach(i=>BA(i.content,i.options)),Qu=[]}var eL=(i,{containerId:e})=>{var t;return(t=Sn.get(e||1))==null?void 0:t.toasts.get(i)};function zA(i,e){var t;if(e)return!!((t=Sn.get(e))!=null&&t.isToastActive(i));let s=!1;return Sn.forEach(o=>{o.isToastActive(i)&&(s=!0)}),s}function tL(i){if(!jA()){Qu=Qu.filter(e=>i!=null&&e.options.toastId!==i);return}if(i==null||F6(i))Sn.forEach(e=>{e.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let e=Sn.get(i.containerId);e?e.removeToast(i.id):Sn.forEach(t=>{t.removeToast(i.id)})}}var nL=(i={})=>{Sn.forEach(e=>{e.props.limit&&(!i.containerId||e.id===i.containerId)&&e.clearQueue()})};function BA(i,e){Cg(i)&&(jA()||Qu.push({content:i,options:e}),Sn.forEach(t=>{t.buildToast(i,e)}))}function iL(i){var e;(e=Sn.get(i.containerId||1))==null||e.setToggle(i.id,i.fn)}function HA(i,e){Sn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(i,e?.id)})}function rL(i){let e=i.containerId||1;return{subscribe(t){let s=W6(e,i,J6);Sn.set(e,s);let o=s.observe(t);return Z6(),()=>{o(),Sn.delete(e)}},setProps(t){var s;(s=Sn.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=Sn.get(e))==null?void 0:t.getSnapshot()}}}function sL(i){return Ig.add(i),()=>{Ig.delete(i)}}function aL(i){return i&&(Ga(i.toastId)||pc(i.toastId))?i.toastId:UA()}function gc(i,e){return BA(i,e),e.toastId}function dd(i,e){return{...e,type:e&&e.type||i,toastId:aL(e)}}function md(i){return(e,t)=>gc(e,dd(i,t))}function at(i,e){return gc(i,dd("default",e))}at.loading=(i,e)=>gc(i,dd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function oL(i,{pending:e,error:t,success:s},o){let l;e&&(l=Ga(e)?at.loading(e,o):at.loading(e.render,{...o,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,v,T)=>{if(v==null){at.dismiss(l);return}let w={type:g,...c,...o,data:T},O=Ga(v)?{render:v}:v;return l?at.update(l,{...w,...O}):at(O.render,{...w,...O}),T},p=jr(i)?i():i;return p.then(g=>m("success",s,g)).catch(g=>m("error",t,g)),p}at.promise=oL;at.success=md("success");at.info=md("info");at.error=md("error");at.warning=md("warning");at.warn=at.warning;at.dark=(i,e)=>gc(i,dd("default",{theme:"dark",...e}));function lL(i){tL(i)}at.dismiss=lL;at.clearWaitingQueue=nL;at.isActive=zA;at.update=(i,e={})=>{let t=eL(i,e);if(t){let{props:s,content:o}=t,l={delay:100,...s,...e,toastId:e.toastId||i,updateId:UA()};l.toastId!==i&&(l.staleId=i);let c=l.render||o;delete l.render,gc(c,l)}};at.done=i=>{at.update(i,{progress:1})};at.onChange=sL;at.play=i=>HA(!0,i);at.pause=i=>HA(!1,i);function uL(i){var e;let{subscribe:t,getSnapshot:s,setProps:o}=b.useRef(rL(i)).current;o(i);let l=(e=b.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function c(m){if(!l)return[];let p=new Map;return i.newestOnTop&&l.reverse(),l.forEach(g=>{let{position:v}=g.props;p.has(v)||p.set(v,[]),p.get(v).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:c,isToastActive:zA,count:l?.length}}function cL(i){let[e,t]=b.useState(!1),[s,o]=b.useState(!1),l=b.useRef(null),c=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:v,closeOnClick:T}=i;iL({id:i.toastId,containerId:i.containerId,fn:t}),b.useEffect(()=>{if(i.pauseOnFocusLoss)return w(),()=>{O()}},[i.pauseOnFocusLoss]);function w(){document.hasFocus()||V(),window.addEventListener("focus",k),window.addEventListener("blur",V)}function O(){window.removeEventListener("focus",k),window.removeEventListener("blur",V)}function P(R){if(i.draggable===!0||i.draggable===R.pointerType){H();let A=l.current;c.canCloseOnClick=!0,c.canDrag=!0,A.style.transition="none",i.draggableDirection==="x"?(c.start=R.clientX,c.removalDistance=A.offsetWidth*(i.draggablePercent/100)):(c.start=R.clientY,c.removalDistance=A.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function D(R){let{top:A,bottom:I,left:M,right:L}=l.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&i.pauseOnHover&&R.clientX>=M&&R.clientX<=L&&R.clientY>=A&&R.clientY<=I?V():k()}function k(){t(!0)}function V(){t(!1)}function H(){c.didMove=!1,document.addEventListener("pointermove",te),document.addEventListener("pointerup",J)}function F(){document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",J)}function te(R){let A=l.current;if(c.canDrag&&A){c.didMove=!0,e&&V(),i.draggableDirection==="x"?c.delta=R.clientX-c.start:c.delta=R.clientY-c.start,c.start!==R.clientX&&(c.canCloseOnClick=!1);let I=i.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;A.style.transform=`translate3d(${I},0)`,A.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function J(){F();let R=l.current;if(c.canDrag&&c.didMove&&R){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let ie={onPointerDown:P,onPointerUp:D};return m&&p&&(ie.onMouseEnter=V,i.stacked||(ie.onMouseLeave=k)),T&&(ie.onClick=R=>{v&&v(R),c.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:V,isRunning:e,preventExitTransition:s,toastRef:l,eventHandlers:ie}}var hL=typeof window<"u"?b.useLayoutEffect:b.useEffect,pd=({theme:i,type:e,isLoading:t,...s})=>Fe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function fL(i){return Fe.createElement(pd,{...i},Fe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function dL(i){return Fe.createElement(pd,{...i},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function mL(i){return Fe.createElement(pd,{...i},Fe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function pL(i){return Fe.createElement(pd,{...i},Fe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function gL(){return Fe.createElement("div",{className:"Toastify__spinner"})}var Ng={info:dL,warning:fL,success:mL,error:pL,spinner:gL},yL=i=>i in Ng;function _L({theme:i,type:e,isLoading:t,icon:s}){let o=null,l={theme:i,type:e};return s===!1||(jr(s)?o=s({...l,isLoading:t}):b.isValidElement(s)?o=b.cloneElement(s,l):t?o=Ng.spinner():yL(e)&&(o=Ng[e](l))),o}var vL=i=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:o,playToast:l}=cL(i),{closeButton:c,children:m,autoClose:p,onClick:g,type:v,hideProgressBar:T,closeToast:w,transition:O,position:P,className:D,style:k,progressClassName:V,updateId:H,role:F,progress:te,rtl:J,toastId:ie,deleteToast:R,isIn:A,isLoading:I,closeOnClick:M,theme:L,ariaLabel:B}=i,N=Ua("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${v}`,{"Toastify__toast--rtl":J},{"Toastify__toast--close-on-click":M}),Ae=jr(D)?D({rtl:J,position:P,type:v,defaultClassName:N}):Ua(N,D),_e=_L(i),q=!!te||!p,X={closeToast:w,type:v,theme:L},oe=null;return c===!1||(jr(c)?oe=c(X):b.isValidElement(c)?oe=b.cloneElement(c,X):oe=Y6(X)),Fe.createElement(O,{isIn:A,done:R,position:P,preventExitTransition:t,nodeRef:s,playToast:l},Fe.createElement("div",{id:ie,tabIndex:0,onClick:g,"data-in":A,className:Ae,...o,style:k,ref:s,...A&&{role:F,"aria-label":B}},_e!=null&&Fe.createElement("div",{className:Ua("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},_e),VA(m,i,!e),oe,!i.customProgressBar&&Fe.createElement(X6,{...H&&!q?{key:`p-${H}`}:{},rtl:J,theme:L,delay:p,isRunning:e,isIn:A,closeToast:w,hide:T,type:v,className:V,controlledProgress:q,progress:te||0})))},EL=(i,e=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:e}),TL=K6(EL("bounce",!0)),bL={position:"top-right",transition:TL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function wL(i){let e={...bL,...i},t=i.stacked,[s,o]=b.useState(!0),l=b.useRef(null),{getToastToRender:c,isToastActive:m,count:p}=uL(e),{className:g,style:v,rtl:T,containerId:w,hotKeys:O}=e;function P(k){let V=Ua("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":T});return jr(g)?g({position:k,rtl:T,defaultClassName:V}):Ua(V,xg(g))}function D(){t&&(o(!0),at.play())}return hL(()=>{var k;if(t){let V=l.current.querySelectorAll('[data-in="true"]'),H=12,F=(k=e.position)==null?void 0:k.includes("top"),te=0,J=0;Array.from(V).reverse().forEach((ie,R)=>{let A=ie;A.classList.add("Toastify__toast--stacked"),R>0&&(A.dataset.collapsed=`${s}`),A.dataset.pos||(A.dataset.pos=F?"top":"bot");let I=te*(s?.2:1)+(s?0:H*R);A.style.setProperty("--y",`${F?I:I*-1}px`),A.style.setProperty("--g",`${H}`),A.style.setProperty("--s",`${1-(s?J:0)}`),te+=A.offsetHeight,J+=.025})}},[s,p,t]),b.useEffect(()=>{function k(V){var H;let F=l.current;O(V)&&((H=F.querySelector('[tabIndex="0"]'))==null||H.focus(),o(!1),at.pause()),V.key==="Escape"&&(document.activeElement===F||F!=null&&F.contains(document.activeElement))&&(o(!0),at.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[O]),Fe.createElement("section",{ref:l,className:"Toastify",id:w,onMouseEnter:()=>{t&&(o(!1),at.pause())},onMouseLeave:D,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((k,V)=>{let H=V.length?{...v}:{...v,pointerEvents:"none"};return Fe.createElement("div",{tabIndex:-1,className:P(k),"data-stacked":t,style:H,key:`c-${k}`},V.map(({content:F,props:te})=>Fe.createElement(vL,{...te,stacked:t,collapseAll:D,isIn:m(te.toastId,te.containerId),key:`t-${te.key}`},F)))}))}function SL({children:i}){const[e,t]=b.useState(void 0);return b.useEffect(()=>{const s=rd(sl,o=>t(o||null));return()=>s()},[]),e===void 0?C.jsx("p",{className:"text-center mt-10",children:"Checking admin"}):e?PA(e)?i:C.jsx(Oa,{to:"/",replace:!0}):C.jsx(Oa,{to:"/login",replace:!0})}const AL="airbrushnink@gmail.com";function RL(i){return{heroImages:Array.isArray(i?.heroImages)?i.heroImages:[],services:Array.isArray(i?.services)?i.services:[]}}async function Cb(i,e){const t=ky(kS,e),s=Tk(t,i);return await new Promise((o,l)=>{s.on("state_changed",null,l,o)}),await Dy(s.snapshot.ref)}function Jh(i,e,t="Operation"){let s;const o=new Promise((l,c)=>{s=setTimeout(()=>c(new Error(`${t} timed out after ${e}ms`)),e)});return Promise.race([i,o]).finally(()=>clearTimeout(s))}function xL(){const[i,e]=b.useState(null),[t,s]=b.useState(!1),o=b.useMemo(()=>t&&i?.email?.toLowerCase().trim()===AL.toLowerCase().trim(),[t,i]),[l,c]=b.useState(!0),[m,p]=b.useState(Lu.heroImages||[]),[g,v]=b.useState(Lu.services||[]),[T,w]=b.useState(!1),[O,P]=b.useState(!1),[D,k]=b.useState(!1),[V,H]=b.useState(""),[F,te]=b.useState(null),J=b.useRef(null),ie=()=>{w(!0),k(!1),H("")};b.useEffect(()=>{const q=rd(sl,X=>{e(X),s(!0)});return()=>q()},[]),b.useEffect(()=>{t&&(async()=>{c(!0),H("");try{const X=await Jh(Ow(gg(bg,"siteContent","home")),12e3,"Load home content");if(X.exists()){const oe=RL(X.data());oe.heroImages.length&&p(oe.heroImages),oe.services.length&&v(oe.services)}w(!1),k(!1),te(null)}catch(X){console.error("Load home content failed:",X),H(X?.message||"Failed to load.")}finally{c(!1)}})()},[t]);const R=async()=>{if(!o)return alert("Not authorized.");if(!navigator.onLine){H("You look offline. Check internet, then try again.");return}P(!0),k(!1),H("");try{await Jh(tD(gg(bg,"siteContent","home"),{heroImages:m,services:g,updatedAt:rD()},{merge:!0}),15e3,"Save home content"),w(!1),k(!0),te(new Date),setTimeout(()=>k(!1),2500)}catch(q){console.error("Save failed:",q),H(q?.message||"Save failed. Check console.")}finally{P(!1)}console.log("Saving to Firestore:",{heroImages:m,services:g,project:"airbrushnink-9f735"})},A=async()=>{if(!o)return alert("Not authorized.");const q=J.current?.files?.[0];if(!q)return alert("Choose a hero image first.");try{P(!0),H(""),k(!1);const X=`${Date.now()}-${q.name}`.replace(/\s+/g,"_"),oe=await Jh(Cb(q,`site/home/hero/${X}`),3e4,"Hero upload");p(pe=>[...pe,oe]),J.current&&(J.current.value=""),ie()}catch(X){console.error(X),H(X?.message||"Hero upload failed.")}finally{P(!1)}},I=q=>{p(X=>X.filter((oe,pe)=>pe!==q)),ie()},M=(q,X)=>{p(oe=>{const pe=[...oe],Re=q+X;return Re<0||Re>=pe.length?oe:([pe[q],pe[Re]]=[pe[Re],pe[q]],pe)}),ie()},L=(q,X)=>{v(oe=>{const pe=[...oe];return pe[q]={...pe[q],...X},pe}),ie()},B=()=>{v(q=>[...q,{tag:"NEW",title:"New Service",description:"Type something here.",image:"",link:"/portfolio"}]),ie()},N=q=>{v(X=>X.filter((oe,pe)=>pe!==q)),ie()},Ae=async(q,X)=>{if(!o)return alert("Not authorized.");if(X)try{P(!0),H(""),k(!1);const oe=`${Date.now()}-${X.name}`.replace(/\s+/g,"_"),pe=await Jh(Cb(X,`site/home/services/${oe}`),3e4,"Service image upload");L(q,{image:pe})}catch(oe){console.error(oe),H(oe?.message||"Service image upload failed.")}finally{P(!1)}},_e=O?"Saving...":V?"Save Failed":D?"Saved ":T?"Save Changes":"Up to date";return l?C.jsx("div",{className:"min-h-screen flex items-center justify-center text-white",children:"Loading Home editor..."}):C.jsx("div",{className:"min-h-screen bg-gradient-to-r from-black via-[#111] to-[#222] text-white px-4 pb-16",children:C.jsxs("div",{className:"max-w-5xl mx-auto pt-10",children:[C.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-bold",children:"Edit Home Page"}),C.jsxs("div",{className:"mt-2 flex items-center gap-3 text-sm",children:[T?C.jsx("span",{className:"text-yellow-300",children:"Unsaved changes"}):C.jsx("span",{className:"text-gray-400",children:"No unsaved changes"}),D&&C.jsxs("span",{className:"text-green-300",children:["Saved ",F?`(${F.toLocaleTimeString()})`:""]}),V&&C.jsxs("span",{className:"text-red-300",children:["Save failed  ",V]})]})]}),C.jsxs("button",{onClick:R,disabled:!o||O||!T&&!V,className:"px-4 py-2 rounded bg-white text-black font-semibold disabled:opacity-40 flex items-center gap-2",title:o?"":"Admin only",children:[O&&C.jsx("span",{className:"inline-block h-4 w-4 rounded-full border-2 border-black/30 border-t-black animate-spin","aria-label":"Saving"}),_e]})]}),!o&&C.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Youre logged in, but youre not admin  editing is locked."}),C.jsxs("div",{className:"mt-10 p-6 rounded-2xl bg-black/40 border border-white/10",children:[C.jsx("h2",{className:"text-xl font-bold mb-4",children:"Hero Images"}),C.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[C.jsx("input",{type:"file",ref:J,className:"bg-black text-white rounded p-2",accept:"image/*",disabled:!o||O}),C.jsx("button",{onClick:A,disabled:!o||O,className:"px-4 py-2 rounded bg-gradient-to-r from-black to-[#222] border border-white/10 disabled:opacity-40",children:"Upload Hero Image"})]}),C.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:m.map((q,X)=>C.jsxs("div",{className:"rounded-xl overflow-hidden bg-black/50 border border-white/10",children:[C.jsx("img",{src:q,alt:`Hero ${X+1}`,className:"w-full h-44 object-cover"}),C.jsxs("div",{className:"p-3 flex items-center justify-between gap-2",children:[C.jsxs("div",{className:"text-xs text-gray-300 truncate",children:["#",X+1]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>M(X,-1),disabled:!o||X===0||O,className:"px-2 py-1 text-xs rounded bg-white/10 disabled:opacity-30",children:"Up"}),C.jsx("button",{onClick:()=>M(X,1),disabled:!o||X===m.length-1||O,className:"px-2 py-1 text-xs rounded bg-white/10 disabled:opacity-30",children:"Down"}),C.jsx("button",{onClick:()=>I(X),disabled:!o||O,className:"px-2 py-1 text-xs rounded bg-red-600 disabled:opacity-30",children:"Remove"})]})]})]},q+X))}),m.length===0&&C.jsx("p",{className:"mt-4 text-gray-400",children:"No hero images yet."})]}),C.jsxs("div",{className:"mt-10 p-6 rounded-2xl bg-black/40 border border-white/10",children:[C.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[C.jsx("h2",{className:"text-xl font-bold",children:"Service Cards"}),C.jsx("button",{onClick:B,disabled:!o||O,className:"px-4 py-2 rounded bg-white/10 border border-white/10 disabled:opacity-40",children:"+ Add Service"})]}),C.jsx("div",{className:"mt-6 space-y-8",children:g.map((q,X)=>C.jsxs("div",{className:"p-5 rounded-xl bg-black/50 border border-white/10",children:[C.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[C.jsxs("div",{className:"min-w-[280px] flex-1",children:[C.jsx("label",{className:"text-sm text-gray-300",children:"Tag"}),C.jsx("input",{value:q.tag||"",onChange:oe=>L(X,{tag:oe.target.value}),disabled:!o||O,className:"w-full mt-1 p-2 rounded bg-black border border-white/10"})]}),C.jsxs("div",{className:"min-w-[280px] flex-1",children:[C.jsx("label",{className:"text-sm text-gray-300",children:"Title"}),C.jsx("input",{value:q.title||"",onChange:oe=>L(X,{title:oe.target.value}),disabled:!o||O,className:"w-full mt-1 p-2 rounded bg-black border border-white/10"})]}),C.jsxs("div",{className:"min-w-[280px] flex-1",children:[C.jsx("label",{className:"text-sm text-gray-300",children:"Link"}),C.jsx("input",{value:q.link||"",onChange:oe=>L(X,{link:oe.target.value}),disabled:!o||O,className:"w-full mt-1 p-2 rounded bg-black border border-white/10"})]})]}),C.jsxs("div",{className:"mt-4",children:[C.jsx("label",{className:"text-sm text-gray-300",children:"Description"}),C.jsx("textarea",{value:q.description||"",onChange:oe=>L(X,{description:oe.target.value}),disabled:!o||O,rows:5,className:"w-full mt-1 p-2 rounded bg-black border border-white/10",placeholder:`Use line breaks freely.

They will render.`})]}),C.jsxs("div",{className:"mt-4 flex items-center gap-4 flex-wrap",children:[C.jsxs("div",{className:"flex-1 min-w-[260px]",children:[C.jsx("label",{className:"text-sm text-gray-300",children:"Card Image"}),C.jsxs("div",{className:"mt-2 flex items-center gap-3 flex-wrap",children:[C.jsx("input",{type:"file",accept:"image/*",disabled:!o||O,onChange:oe=>Ae(X,oe.target.files?.[0]),className:"bg-black text-white rounded p-2"}),C.jsx("button",{onClick:()=>N(X),disabled:!o||O,className:"px-3 py-2 rounded bg-red-600 disabled:opacity-40",children:"Delete Card"})]})]}),C.jsx("div",{className:"w-full sm:w-[360px]",children:q.image?C.jsx("img",{src:q.image,alt:q.title||"Service image",className:"w-full h-40 object-cover rounded-lg border border-white/10"}):C.jsx("div",{className:"w-full h-40 rounded-lg border border-white/10 flex items-center justify-center text-gray-400",children:"No image yet"})})]})]},X))}),g.length===0&&C.jsx("p",{className:"mt-4 text-gray-400",children:"No service cards yet."})]}),C.jsx("div",{className:"mt-10 text-xs text-gray-400",children:"Uploading images updates the URL immediately, but you still need to click Save to write everything to Firestore."})]})})}function CL({initialFolder:i="airbrush",onAddToCart:e}){const[t,s]=b.useState(i),[o,l]=b.useState([]),[c,m]=b.useState({}),[p,g]=b.useState(!0),[v,T]=b.useState(!1),[w,O]=b.useState(0),{addToCart:P}=fd(),D=Zw(),k=["airbrush"],V=Object.keys(df),H=5;b.useEffect(()=>{let J=!0;const ie=(M="")=>M.replace(/\.[^.]+$/,""),R=(M="")=>{const L=M.match(/\.([^.]+)$/);return L?L[1].toLowerCase():""},A=(M="")=>{const L=R(M);return["jpg","jpeg","png","webp"].includes(L)};return(async()=>{g(!0);try{const M=ky(D,`${t}`),B=(await Jw(M)).items.filter(X=>A(X.name)),N=new Map;for(const X of B){const oe=X.name;if(oe.toLowerCase().endsWith("__thumb.webp"))continue;const pe=ie(oe),Re=R(oe);N.has(pe)||N.set(pe,{});const j=N.get(pe);Re==="webp"&&(j.webpRef=X),(Re==="jpg"||Re==="jpeg")&&(j.jpgRef=X),Re==="png"&&(j.pngRef=X)}const Ae=Array.from(N.keys()).sort((X,oe)=>X.localeCompare(oe)),q=(await Promise.all(Ae.map(async X=>{const oe=N.get(X)||{},pe=oe.webpRef||oe.jpgRef||oe.pngRef;if(!pe)return null;const Re=await Dy(pe),[j,Q]=X.split("__");return{title:j||"Untitled",quantity:Q||H,sizes:V,url:Re}}))).filter(Boolean);J&&l(q)}catch(M){console.error(" Storage error:",M?.message||M),J&&l([])}finally{J&&g(!1)}})(),()=>{J=!1}},[t]);const F=(J,ie)=>{m(R=>({...R,[J]:{...R[J],size:ie}}))},te=(J,ie)=>{m(R=>({...R,[J]:{...R[J],quantity:ie}}))};return C.jsxs("div",{className:"text-white px-4",children:[C.jsx("div",{className:"flex justify-center mb-8",children:C.jsx("select",{value:t,onChange:J=>s(J.target.value),className:"bg-zinc-800 text-white border border-zinc-600 px-4 py-2 rounded",children:k.map(J=>C.jsx("option",{value:J,children:J.charAt(0).toUpperCase()+J.slice(1)},J))})}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 mb-20",children:o.map((J,ie)=>C.jsxs("div",{className:"bg-zinc-800 p-4 rounded-lg shadow-md flex flex-col",children:[C.jsx("img",{src:J.url,alt:J.title,className:"w-full max-h-64 object-contain mb-4 rounded cursor-pointer",onClick:()=>{O(ie),T(!0)}}),C.jsx("h2",{className:"text-xl font-semibold mb-1",children:J.title}),C.jsx("label",{className:"block mb-1 text-sm",children:"Size:"}),C.jsxs("select",{className:"w-full p-2 mb-3 rounded bg-zinc-700 text-white",onChange:R=>F(ie,R.target.value),value:c[ie]?.size||"",children:[C.jsx("option",{value:"",children:"Select size"}),J.sizes?.map((R,A)=>C.jsxs("option",{value:R,children:[R,"  $",df[R]||"?"]},A))]}),C.jsx("label",{className:"block mb-1 text-sm",children:"Quantity:"}),C.jsx("select",{className:"w-full p-2 mb-3 rounded bg-zinc-700 text-white",onChange:R=>te(ie,R.target.value),value:c[ie]?.quantity||1,children:Array.from({length:Number(J.quantity)},(R,A)=>A+1).map(R=>C.jsx("option",{value:R,children:R},R))}),C.jsx("button",{className:"w-full bg-gradient-to-r from-[#111] to-[#333] hover:from-[#222] hover:to-[#444] text-white border border-[#444] py-2 rounded mt-auto transition-colors duration-300",onClick:()=>{const R=c[ie]?.size,A=parseInt(c[ie]?.quantity||1),I=df[R]||0;P({title:J.title,size:R,quantity:A,price:I,image:J.url}),e&&e(),sessionStorage.setItem("openCartOnReturn","true"),toast.success(`${A} of "${J.title}" added to cart!`)},disabled:!c[ie]?.size,children:"Add to Cart"})]},ie))}),p&&C.jsxs("div",{className:"col-span-full text-center mt-12",children:[C.jsxs("svg",{className:"animate-spin h-8 w-8 text-white mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[C.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),C.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8h4z"})]}),C.jsx("p",{className:"mt-4 text-sm text-gray-400",children:"Loading products..."})]}),!p&&o.length===0&&C.jsxs("p",{className:"text-white col-span-full text-center mt-12",children:["No products found in ",C.jsx("span",{className:"font-semibold",children:t}),"."]}),C.jsx(mA,{open:v,close:()=>T(!1),index:w,slides:o.map(J=>({src:J.url})),animation:{fade:250},styles:{container:{backdropFilter:"blur(10px)",backgroundColor:"rgba(0, 0, 0, 0.3)",WebkitBackdropFilter:"blur(10px)"},slide:{display:"flex",alignItems:"center",justifyContent:"center"}},render:{slide:({slide:J})=>C.jsx("img",{src:J.src,alt:J.caption,style:{maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain"}})}})]})}let IL={data:""},NL=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||IL,OL=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DL=/\/\*[^]*?\*\/|  +/g,Ib=/\n+/g,Vs=(i,e)=>{let t="",s="",o="";for(let l in i){let c=i[l];l[0]=="@"?l[1]=="i"?t=l+" "+c+";":s+=l[1]=="f"?Vs(c,l):l+"{"+Vs(c,l[1]=="k"?"":e)+"}":typeof c=="object"?s+=Vs(c,e?e.replace(/([^,])+/g,m=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Vs.p?Vs.p(l,c):l+":"+c+";")}return t+(e&&o?e+"{"+o+"}":o)+s},xr={},qA=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+qA(i[t]);return e}return i},kL=(i,e,t,s,o)=>{let l=qA(i),c=xr[l]||(xr[l]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(l));if(!xr[c]){let p=l!==i?i:(g=>{let v,T,w=[{}];for(;v=OL.exec(g.replace(DL,""));)v[4]?w.shift():v[3]?(T=v[3].replace(Ib," ").trim(),w.unshift(w[0][T]=w[0][T]||{})):w[0][v[1]]=v[2].replace(Ib," ").trim();return w[0]})(i);xr[c]=Vs(o?{["@keyframes "+c]:p}:p,t?"":"."+c)}let m=t&&xr.g?xr.g:null;return t&&(xr.g=xr[c]),((p,g,v,T)=>{T?g.data=g.data.replace(T,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(xr[c],e,s,m),c},ML=(i,e,t)=>i.reduce((s,o,l)=>{let c=e[l];if(c&&c.call){let m=c(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;c=p?"."+p:m&&typeof m=="object"?m.props?"":Vs(m,""):m===!1?"":m}return s+o+(c??"")},"");function gd(i){let e=this||{},t=i.call?i(e.p):i;return kL(t.unshift?t.raw?ML(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,NL(e.target),e.g,e.o,e.k)}let FA,Og,Dg;gd.bind({g:1});let zr=gd.bind({k:1});function PL(i,e,t,s){Vs.p=e,FA=i,Og=t,Dg=s}function ea(i,e){let t=this||{};return function(){let s=arguments;function o(l,c){let m=Object.assign({},l),p=m.className||o.className;t.p=Object.assign({theme:Og&&Og()},m),t.o=/ *go\d+/.test(p),m.className=gd.apply(t,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),Dg&&g[0]&&Dg(m),FA(g,m)}return o}}var LL=i=>typeof i=="function",kg=(i,e)=>LL(i)?i(e):i,VL=(()=>{let i=0;return()=>(++i).toString()})(),UL=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),jL=20,GA=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,jL)};case 1:return{...i,toasts:i.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return GA(i,{type:i.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...i,toasts:i.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let o=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},zL=[],$p={toasts:[],pausedAt:void 0},Wy=i=>{$p=GA($p,i),zL.forEach(e=>{e($p)})},BL=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:t?.id||VL()}),yc=i=>(e,t)=>{let s=BL(e,i,t);return Wy({type:2,toast:s}),s.id},Un=(i,e)=>yc("blank")(i,e);Un.error=yc("error");Un.success=yc("success");Un.loading=yc("loading");Un.custom=yc("custom");Un.dismiss=i=>{Wy({type:3,toastId:i})};Un.remove=i=>Wy({type:4,toastId:i});Un.promise=(i,e,t)=>{let s=Un.loading(e.loading,{...t,...t?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let l=e.success?kg(e.success,o):void 0;return l?Un.success(l,{id:s,...t,...t?.success}):Un.dismiss(s),o}).catch(o=>{let l=e.error?kg(e.error,o):void 0;l?Un.error(l,{id:s,...t,...t?.error}):Un.dismiss(s)}),i};var HL=zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qL=zr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FL=zr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,GL=ea("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qL} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${FL} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$L=zr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,KL=ea("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${$L} 1s linear infinite;
`,YL=zr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,XL=zr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,QL=ea("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YL} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${XL} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WL=ea("div")`
  position: absolute;
`,JL=ea("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ZL=zr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eV=ea("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ZL} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,tV=({toast:i})=>{let{icon:e,type:t,iconTheme:s}=i;return e!==void 0?typeof e=="string"?b.createElement(eV,null,e):e:t==="blank"?null:b.createElement(JL,null,b.createElement(KL,{...s}),t!=="loading"&&b.createElement(WL,null,t==="error"?b.createElement(GL,{...s}):b.createElement(QL,{...s})))},nV=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,iV=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,rV="0%{opacity:0;} 100%{opacity:1;}",sV="0%{opacity:1;} 100%{opacity:0;}",aV=ea("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,oV=ea("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,lV=(i,e)=>{let t=i.includes("top")?1:-1,[s,o]=UL()?[rV,sV]:[nV(t),iV(t)];return{animation:e?`${zr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};b.memo(({toast:i,position:e,style:t,children:s})=>{let o=i.height?lV(i.position||e||"top-center",i.visible):{opacity:0},l=b.createElement(tV,{toast:i}),c=b.createElement(oV,{...i.ariaProps},kg(i.message,i));return b.createElement(aV,{className:i.className,style:{...o,...t,...i.style}},typeof s=="function"?s({icon:l,message:c}):b.createElement(b.Fragment,null,l,c))});PL(b.createElement);gd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;function uV(){const i=Br(),{setIsCartOpen:e}=fd();return b.useEffect(()=>{const s=new URLSearchParams(i.search).get("status");s==="success"?Un.success("Payment successful!"):s==="cancel"&&Un.error("Checkout canceled."),i.state?.openCart&&(e(!0),window.history.replaceState({},document.title))},[i,e]),C.jsxs("div",{className:"relative min-h-screen pt-24 px-4 text-white",children:[C.jsx("h1",{className:`absolute \r
    top-[-1rem] sm:top-[0rem] md:top-[-3rem] lg:top-[-5rem] \r
    left-1/2 transform -translate-x-1/2 \r
    text-[15vw] sm:text-[15vw] md:text-[15vw] lg:text-[15vw] \r
    max-w-[100vw] overflow-hidden whitespace-nowrap\r
    font-extrabold text-white opacity-5 tracking-widest \r
    pointer-events-none select-none z-0`,children:"AIRBRUSH"}),C.jsxs("div",{className:"relative z-10 text-center",children:[C.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Shop"}),C.jsx(CL,{onAddToCart:()=>e(!0)})]})]})}function cV(){const[i]=b.useState(null);return b.useEffect(()=>{const e=rd(sl,t=>{i(t)});return()=>e()},[]),C.jsxs(Bx,{children:[C.jsxs("div",{className:"flex flex-col min-h-screen",children:[C.jsx(U6,{}),C.jsx("main",{className:"flex-grow",children:C.jsxs(_x,{children:[C.jsx(Mn,{path:"/",element:C.jsx(jM,{})}),C.jsx(Mn,{path:"/gallery",element:C.jsx(j6,{})}),C.jsx(Mn,{path:"/portfolio/airbrush",element:C.jsx(t6,{})}),C.jsx(Mn,{path:"/portfolio/photoshop",element:C.jsx(n6,{})}),C.jsx(Mn,{path:"/shop",element:C.jsx(uV,{})}),C.jsx(Mn,{path:"/contact",element:C.jsx(H6,{})}),C.jsx(Mn,{path:"/success",element:C.jsx(Oa,{to:"/shop",replace:!0})}),C.jsx(Mn,{path:"/cancel",element:C.jsx(Oa,{to:"/shop",replace:!0})}),C.jsx(Mn,{path:"/login",element:C.jsx(z6,{})}),C.jsx(Mn,{path:"/admin/home",element:C.jsx(SL,{children:C.jsx(xL,{})})}),C.jsx(Mn,{path:"/admin",element:C.jsx(Oa,{to:"/admin/home",replace:!0})}),C.jsx(Mn,{path:"/upload",element:C.jsx(Oa,{to:"/admin/home",replace:!0})}),C.jsx(Mn,{path:"*",element:C.jsx(Oa,{to:"/",replace:!0})})]})}),C.jsx(B6,{})]}),C.jsx(wL,{position:"top-right",autoClose:2e3})]})}C2.createRoot(document.getElementById("root")).render(C.jsx(Fe.StrictMode,{children:C.jsx(E6,{children:C.jsx(cV,{})})}));
